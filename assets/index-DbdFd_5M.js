(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(c){if(c.ep)return;c.ep=!0;const h=s(c);fetch(c.href,h)}})();function I0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ed={exports:{}},ql={};var Cv;function Sx(){if(Cv)return ql;Cv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(o,c,h){var f=null;if(h!==void 0&&(f=""+h),c.key!==void 0&&(f=""+c.key),"key"in c){h={};for(var g in c)g!=="key"&&(h[g]=c[g])}else h=c;return c=h.ref,{$$typeof:n,type:o,key:f,ref:c!==void 0?c:null,props:h}}return ql.Fragment=e,ql.jsx=s,ql.jsxs=s,ql}var Rv;function xx(){return Rv||(Rv=1,Ed.exports=Sx()),Ed.exports}var N=xx(),Ad={exports:{}},zt={};var Lv;function Tx(){if(Lv)return zt;Lv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),E=Symbol.iterator;function O(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,H={};function I(M,W,ut){this.props=M,this.context=W,this.refs=H,this.updater=ut||k}I.prototype.isReactComponent={},I.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},I.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function V(){}V.prototype=I.prototype;function z(M,W,ut){this.props=M,this.context=W,this.refs=H,this.updater=ut||k}var at=z.prototype=new V;at.constructor=z,P(at,I.prototype),at.isPureReactComponent=!0;var rt=Array.isArray;function ct(){}var lt={H:null,A:null,T:null,S:null},pt=Object.prototype.hasOwnProperty;function wt(M,W,ut){var ht=ut.ref;return{$$typeof:n,type:M,key:W,ref:ht!==void 0?ht:null,props:ut}}function Bt(M,W){return wt(M.type,W,M.props)}function It(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function _t(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ut){return W[ut]})}var Nt=/\/+/g;function Ut(M,W){return typeof M=="object"&&M!==null&&M.key!=null?_t(""+M.key):W.toString(36)}function Qt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ct,ct):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function $(M,W,ut,ht,vt){var yt=typeof M;(yt==="undefined"||yt==="boolean")&&(M=null);var Vt=!1;if(M===null)Vt=!0;else switch(yt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(M.$$typeof){case n:case e:Vt=!0;break;case S:return Vt=M._init,$(Vt(M._payload),W,ut,ht,vt)}}if(Vt)return vt=vt(M),Vt=ht===""?"."+Ut(M,0):ht,rt(vt)?(ut="",Vt!=null&&(ut=Vt.replace(Nt,"$&/")+"/"),$(vt,W,ut,"",function(Un){return Un})):vt!=null&&(It(vt)&&(vt=Bt(vt,ut+(vt.key==null||M&&M.key===vt.key?"":(""+vt.key).replace(Nt,"$&/")+"/")+Vt)),W.push(vt)),1;Vt=0;var ue=ht===""?".":ht+":";if(rt(M))for(var me=0;me<M.length;me++)ht=M[me],yt=ue+Ut(ht,me),Vt+=$(ht,W,ut,yt,vt);else if(me=O(M),typeof me=="function")for(M=me.call(M),me=0;!(ht=M.next()).done;)ht=ht.value,yt=ue+Ut(ht,me++),Vt+=$(ht,W,ut,yt,vt);else if(yt==="object"){if(typeof M.then=="function")return $(Qt(M),W,ut,ht,vt);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function nt(M,W,ut){if(M==null)return M;var ht=[],vt=0;return $(M,ht,"","",function(yt){return W.call(ut,yt,vt++)}),ht}function st(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(ut){(M._status===0||M._status===-1)&&(M._status=1,M._result=ut)},function(ut){(M._status===0||M._status===-1)&&(M._status=2,M._result=ut)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var Pt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},dt={map:nt,forEach:function(M,W,ut){nt(M,function(){W.apply(this,arguments)},ut)},count:function(M){var W=0;return nt(M,function(){W++}),W},toArray:function(M){return nt(M,function(W){return W})||[]},only:function(M){if(!It(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return zt.Activity=x,zt.Children=dt,zt.Component=I,zt.Fragment=s,zt.Profiler=c,zt.PureComponent=z,zt.StrictMode=o,zt.Suspense=v,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,zt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return lt.H.useMemoCache(M)}},zt.cache=function(M){return function(){return M.apply(null,arguments)}},zt.cacheSignal=function(){return null},zt.cloneElement=function(M,W,ut){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ht=P({},M.props),vt=M.key;if(W!=null)for(yt in W.key!==void 0&&(vt=""+W.key),W)!pt.call(W,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&W.ref===void 0||(ht[yt]=W[yt]);var yt=arguments.length-2;if(yt===1)ht.children=ut;else if(1<yt){for(var Vt=Array(yt),ue=0;ue<yt;ue++)Vt[ue]=arguments[ue+2];ht.children=Vt}return wt(M.type,vt,ht)},zt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},zt.createElement=function(M,W,ut){var ht,vt={},yt=null;if(W!=null)for(ht in W.key!==void 0&&(yt=""+W.key),W)pt.call(W,ht)&&ht!=="key"&&ht!=="__self"&&ht!=="__source"&&(vt[ht]=W[ht]);var Vt=arguments.length-2;if(Vt===1)vt.children=ut;else if(1<Vt){for(var ue=Array(Vt),me=0;me<Vt;me++)ue[me]=arguments[me+2];vt.children=ue}if(M&&M.defaultProps)for(ht in Vt=M.defaultProps,Vt)vt[ht]===void 0&&(vt[ht]=Vt[ht]);return wt(M,yt,vt)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(M){return{$$typeof:g,render:M}},zt.isValidElement=It,zt.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:st}},zt.memo=function(M,W){return{$$typeof:_,type:M,compare:W===void 0?null:W}},zt.startTransition=function(M){var W=lt.T,ut={};lt.T=ut;try{var ht=M(),vt=lt.S;vt!==null&&vt(ut,ht),typeof ht=="object"&&ht!==null&&typeof ht.then=="function"&&ht.then(ct,Pt)}catch(yt){Pt(yt)}finally{W!==null&&ut.types!==null&&(W.types=ut.types),lt.T=W}},zt.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},zt.use=function(M){return lt.H.use(M)},zt.useActionState=function(M,W,ut){return lt.H.useActionState(M,W,ut)},zt.useCallback=function(M,W){return lt.H.useCallback(M,W)},zt.useContext=function(M){return lt.H.useContext(M)},zt.useDebugValue=function(){},zt.useDeferredValue=function(M,W){return lt.H.useDeferredValue(M,W)},zt.useEffect=function(M,W){return lt.H.useEffect(M,W)},zt.useEffectEvent=function(M){return lt.H.useEffectEvent(M)},zt.useId=function(){return lt.H.useId()},zt.useImperativeHandle=function(M,W,ut){return lt.H.useImperativeHandle(M,W,ut)},zt.useInsertionEffect=function(M,W){return lt.H.useInsertionEffect(M,W)},zt.useLayoutEffect=function(M,W){return lt.H.useLayoutEffect(M,W)},zt.useMemo=function(M,W){return lt.H.useMemo(M,W)},zt.useOptimistic=function(M,W){return lt.H.useOptimistic(M,W)},zt.useReducer=function(M,W,ut){return lt.H.useReducer(M,W,ut)},zt.useRef=function(M){return lt.H.useRef(M)},zt.useState=function(M){return lt.H.useState(M)},zt.useSyncExternalStore=function(M,W,ut){return lt.H.useSyncExternalStore(M,W,ut)},zt.useTransition=function(){return lt.H.useTransition()},zt.version="19.2.3",zt}var Mv;function Hm(){return Mv||(Mv=1,Ad.exports=Tx()),Ad.exports}var it=Hm();const ke=I0(it);var Od={exports:{}},Zl={},Cd={exports:{}},Rd={};var kv;function Ex(){return kv||(kv=1,(function(n){function e($,nt){var st=$.length;$.push(nt);t:for(;0<st;){var Pt=st-1>>>1,dt=$[Pt];if(0<c(dt,nt))$[Pt]=nt,$[st]=dt,st=Pt;else break t}}function s($){return $.length===0?null:$[0]}function o($){if($.length===0)return null;var nt=$[0],st=$.pop();if(st!==nt){$[0]=st;t:for(var Pt=0,dt=$.length,M=dt>>>1;Pt<M;){var W=2*(Pt+1)-1,ut=$[W],ht=W+1,vt=$[ht];if(0>c(ut,st))ht<dt&&0>c(vt,ut)?($[Pt]=vt,$[ht]=st,Pt=ht):($[Pt]=ut,$[W]=st,Pt=W);else if(ht<dt&&0>c(vt,st))$[Pt]=vt,$[ht]=st,Pt=ht;else break t}}return nt}function c($,nt){var st=$.sortIndex-nt.sortIndex;return st!==0?st:$.id-nt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();n.unstable_now=function(){return f.now()-g}}var v=[],_=[],S=1,x=null,E=3,O=!1,k=!1,P=!1,H=!1,I=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function at($){for(var nt=s(_);nt!==null;){if(nt.callback===null)o(_);else if(nt.startTime<=$)o(_),nt.sortIndex=nt.expirationTime,e(v,nt);else break;nt=s(_)}}function rt($){if(P=!1,at($),!k)if(s(v)!==null)k=!0,ct||(ct=!0,_t());else{var nt=s(_);nt!==null&&Qt(rt,nt.startTime-$)}}var ct=!1,lt=-1,pt=5,wt=-1;function Bt(){return H?!0:!(n.unstable_now()-wt<pt)}function It(){if(H=!1,ct){var $=n.unstable_now();wt=$;var nt=!0;try{t:{k=!1,P&&(P=!1,V(lt),lt=-1),O=!0;var st=E;try{e:{for(at($),x=s(v);x!==null&&!(x.expirationTime>$&&Bt());){var Pt=x.callback;if(typeof Pt=="function"){x.callback=null,E=x.priorityLevel;var dt=Pt(x.expirationTime<=$);if($=n.unstable_now(),typeof dt=="function"){x.callback=dt,at($),nt=!0;break e}x===s(v)&&o(v),at($)}else o(v);x=s(v)}if(x!==null)nt=!0;else{var M=s(_);M!==null&&Qt(rt,M.startTime-$),nt=!1}}break t}finally{x=null,E=st,O=!1}nt=void 0}}finally{nt?_t():ct=!1}}}var _t;if(typeof z=="function")_t=function(){z(It)};else if(typeof MessageChannel<"u"){var Nt=new MessageChannel,Ut=Nt.port2;Nt.port1.onmessage=It,_t=function(){Ut.postMessage(null)}}else _t=function(){I(It,0)};function Qt($,nt){lt=I(function(){$(n.unstable_now())},nt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pt=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function($){switch(E){case 1:case 2:case 3:var nt=3;break;default:nt=E}var st=E;E=nt;try{return $()}finally{E=st}},n.unstable_requestPaint=function(){H=!0},n.unstable_runWithPriority=function($,nt){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var st=E;E=$;try{return nt()}finally{E=st}},n.unstable_scheduleCallback=function($,nt,st){var Pt=n.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?Pt+st:Pt):st=Pt,$){case 1:var dt=-1;break;case 2:dt=250;break;case 5:dt=1073741823;break;case 4:dt=1e4;break;default:dt=5e3}return dt=st+dt,$={id:S++,callback:nt,priorityLevel:$,startTime:st,expirationTime:dt,sortIndex:-1},st>Pt?($.sortIndex=st,e(_,$),s(v)===null&&$===s(_)&&(P?(V(lt),lt=-1):P=!0,Qt(rt,st-Pt))):($.sortIndex=dt,e(v,$),k||O||(k=!0,ct||(ct=!0,_t()))),$},n.unstable_shouldYield=Bt,n.unstable_wrapCallback=function($){var nt=E;return function(){var st=E;E=nt;try{return $.apply(this,arguments)}finally{E=st}}}})(Rd)),Rd}var Dv;function Ax(){return Dv||(Dv=1,Cd.exports=Ex()),Cd.exports}var Ld={exports:{}},yn={};var Pv;function Ox(){if(Pv)return yn;Pv=1;var n=Hm();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(v,_,S){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:v,containerInfo:_,implementation:S}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,yn.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,S)},yn.flushSync=function(v){var _=f.T,S=o.p;try{if(f.T=null,o.p=2,v)return v()}finally{f.T=_,o.p=S,o.d.f()}},yn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,o.d.C(v,_))},yn.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},yn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,x=g(S,_.crossOrigin),E=typeof _.integrity=="string"?_.integrity:void 0,O=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?o.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:O}):S==="script"&&o.d.X(v,{crossOrigin:x,integrity:E,fetchPriority:O,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},yn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);o.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&o.d.M(v)},yn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,x=g(S,_.crossOrigin);o.d.L(v,S,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},yn.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=g(_.as,_.crossOrigin);o.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else o.d.m(v)},yn.requestFormReset=function(v){o.d.r(v)},yn.unstable_batchedUpdates=function(v,_){return v(_)},yn.useFormState=function(v,_,S){return f.H.useFormState(v,_,S)},yn.useFormStatus=function(){return f.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var Nv;function q0(){if(Nv)return Ld.exports;Nv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ld.exports=Ox(),Ld.exports}var jv;function Cx(){if(jv)return Zl;jv=1;var n=Ax(),e=Hm(),s=q0();function o(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(o(188))}function _(t){var i=t.alternate;if(!i){if(i=h(t),i===null)throw Error(o(188));return i!==t?null:t}for(var r=t,u=i;;){var m=r.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){r=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===r)return v(m),t;if(p===u)return v(m),i;p=p.sibling}throw Error(o(188))}if(r.return!==u.return)r=m,u=p;else{for(var w=!1,A=m.child;A;){if(A===r){w=!0,r=m,u=p;break}if(A===u){w=!0,u=m,r=p;break}A=A.sibling}if(!w){for(A=p.child;A;){if(A===r){w=!0,r=p,u=m;break}if(A===u){w=!0,u=p,r=m;break}A=A.sibling}if(!w)throw Error(o(189))}}if(r.alternate!==u)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?t:i}function S(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=S(t),i!==null)return i;t=t.sibling}return null}var x=Object.assign,E=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),z=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),lt=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),wt=Symbol.for("react.activity"),Bt=Symbol.for("react.memo_cache_sentinel"),It=Symbol.iterator;function _t(t){return t===null||typeof t!="object"?null:(t=It&&t[It]||t["@@iterator"],typeof t=="function"?t:null)}var Nt=Symbol.for("react.client.reference");function Ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Nt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case I:return"Profiler";case H:return"StrictMode";case rt:return"Suspense";case ct:return"SuspenseList";case wt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case z:return t.displayName||"Context";case V:return(t._context.displayName||"Context")+".Consumer";case at:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case lt:return i=t.displayName||null,i!==null?i:Ut(t.type)||"Memo";case pt:i=t._payload,t=t._init;try{return Ut(t(i))}catch{}}return null}var Qt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},Pt=[],dt=-1;function M(t){return{current:t}}function W(t){0>dt||(t.current=Pt[dt],Pt[dt]=null,dt--)}function ut(t,i){dt++,Pt[dt]=t.current,t.current=i}var ht=M(null),vt=M(null),yt=M(null),Vt=M(null);function ue(t,i){switch(ut(yt,i),ut(vt,t),ut(ht,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Wy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Wy(i),t=Jy(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ht),ut(ht,t)}function me(){W(ht),W(vt),W(yt)}function Un(t){t.memoizedState!==null&&ut(Vt,t);var i=ht.current,r=Jy(i,t.type);i!==r&&(ut(vt,t),ut(ht,r))}function Qn(t){vt.current===t&&(W(ht),W(vt)),Vt.current===t&&(W(Vt),Ul._currentValue=st)}var gi,ns;function yi(t){if(gi===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);gi=i&&i[1]||"",ns=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gi+t+ns}var is=!1;function ss(t,i){if(!t||is)return"";is=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Y){var F=Y}Reflect.construct(t,[],et)}else{try{et.call()}catch(Y){F=Y}t.call(et.prototype)}}else{try{throw Error()}catch(Y){F=Y}(et=t())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),w=p[0],A=p[1];if(w&&A){var R=w.split(`
`),G=A.split(`
`);for(m=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(u===R.length||m===G.length)for(u=R.length-1,m=G.length-1;1<=u&&0<=m&&R[u]!==G[m];)m--;for(;1<=u&&0<=m;u--,m--)if(R[u]!==G[m]){if(u!==1||m!==1)do if(u--,m--,0>m||R[u]!==G[m]){var J=`
`+R[u].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=u&&0<=m);break}}}finally{is=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?yi(r):""}function Oa(t,i){switch(t.tag){case 26:case 27:case 5:return yi(t.type);case 16:return yi("Lazy");case 13:return t.child!==i&&i!==null?yi("Suspense Fallback"):yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return ss(t.type,!1);case 11:return ss(t.type.render,!1);case 1:return ss(t.type,!0);case 31:return yi("Activity");default:return""}}function as(t){try{var i="",r=null;do i+=Oa(t,r),r=t,t=t.return;while(t);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Er=Object.prototype.hasOwnProperty,rs=n.unstable_scheduleCallback,D=n.unstable_cancelCallback,q=n.unstable_shouldYield,X=n.unstable_requestPaint,ft=n.unstable_now,mt=n.unstable_getCurrentPriorityLevel,ot=n.unstable_ImmediatePriority,Et=n.unstable_UserBlockingPriority,Gt=n.unstable_NormalPriority,te=n.unstable_LowPriority,Ne=n.unstable_IdlePriority,ti=n.log,ei=n.unstable_setDisableYieldValue,Ni=null,je=null;function _n(t){if(typeof ti=="function"&&ei(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Ni,t)}catch{}}var rn=Math.clz32?Math.clz32:Ar,ji=Math.log,Vo=Math.LN2;function Ar(t){return t>>>=0,t===0?32:31-(ji(t)/Vo|0)|0}var Ca=256,Ra=262144,La=4194304;function os(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Or(t,i,r){var u=t.pendingLanes;if(u===0)return 0;var m=0,p=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?m=os(u):(w&=A,w!==0?m=os(w):r||(r=A&~t,r!==0&&(m=os(r))))):(A=u&~p,A!==0?m=os(A):w!==0?m=os(w):r||(r=u&~t,r!==0&&(m=os(r)))),m===0?0:i!==0&&i!==m&&(i&p)===0&&(p=m&-m,r=i&-i,p>=r||p===32&&(r&4194048)!==0)?i:m}function Ma(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Mh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tu(){var t=La;return La<<=1,(La&62914560)===0&&(La=4194304),t}function Ho(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function ls(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kh(t,i,r,u,m,p){var w=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var A=t.entanglements,R=t.expirationTimes,G=t.hiddenUpdates;for(r=w&~r;0<r;){var J=31-rn(r),et=1<<J;A[J]=0,R[J]=-1;var F=G[J];if(F!==null)for(G[J]=null,J=0;J<F.length;J++){var Y=F[J];Y!==null&&(Y.lane&=-536870913)}r&=~et}u!==0&&Eu(t,u,0),p!==0&&m===0&&t.tag!==0&&(t.suspendedLanes|=p&~(w&~i))}function Eu(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-rn(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|r&261930}function Au(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var u=31-rn(r),m=1<<u;m&i|t[u]&i&&(t[u]|=i),r&=~m}}function Ou(t,i){var r=i&-i;return r=(r&42)!==0?1:An(r),(r&(t.suspendedLanes|i))!==0?0:r}function An(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function At(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Io(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:wv(t.type))}function qo(t,i){var r=nt.p;try{return nt.p=t,i()}finally{nt.p=r}}var vi=Math.random().toString(36).slice(2),Ue="__reactFiber$"+vi,en="__reactProps$"+vi,us="__reactContainer$"+vi,zi="__reactEvents$"+vi,Cu="__reactListeners$"+vi,Dh="__reactHandles$"+vi,Ru="__reactResources$"+vi,ka="__reactMarker$"+vi;function Zo(t){delete t[Ue],delete t[en],delete t[zi],delete t[Cu],delete t[Dh]}function cs(t){var i=t[Ue];if(i)return i;for(var r=t.parentNode;r;){if(i=r[us]||r[Ue]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=av(t);t!==null;){if(r=t[Ue])return r;t=av(t)}return i}t=r,r=t.parentNode}return null}function js(t){if(t=t[Ue]||t[us]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Bi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(o(33))}function zs(t){var i=t[Ru];return i||(i=t[Ru]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ve(t){t[ka]=!0}var Lu=new Set,Mu={};function hs(t,i){Ui(t,i),Ui(t+"Capture",i)}function Ui(t,i){for(Mu[t]=i,t=0;t<i.length;t++)Lu.add(i[t])}var Da=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},Ko={};function Pa(t){return Er.call(Ko,t)?!0:Er.call(Go,t)?!1:Da.test(t)?Ko[t]=!0:(Go[t]=!0,!1)}function Kt(t,i,r){if(Pa(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function ce(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function On(t,i,r,u){if(u===null)t.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+u)}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fs(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fo(t,i,r){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,p=u.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return m.call(this)},set:function(w){r=""+w,p.call(this,w)}}),Object.defineProperty(t,i,{enumerable:u.enumerable}),{getValue:function(){return r},setValue:function(w){r=""+w},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function jt(t){if(!t._valueTracker){var i=fs(t)?"checked":"value";t._valueTracker=Fo(t,i,""+t[i])}}function we(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),u="";return t&&(u=fs(t)?t.checked?"true":"false":t.value),t=u,t!==r?(i.setValue(t),!0):!1}function Bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cr=/[\n"\\]/g;function ve(t){return t.replace(Cr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function $o(t,i,r,u,m,p,w,A){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),i!=null?w==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ye(i)):t.value!==""+Ye(i)&&(t.value=""+Ye(i)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),i!=null?_i(t,w,Ye(i)):r!=null?_i(t,w,Ye(r)):u!=null&&t.removeAttribute("value"),m==null&&p!=null&&(t.defaultChecked=!!p),m!=null&&(t.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Ye(A):t.removeAttribute("name")}function Na(t,i,r,u,m,p,w,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),i!=null||r!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){jt(t);return}r=r!=null?""+Ye(r):"",i=i!=null?""+Ye(i):r,A||i===t.value||(t.value=i),t.defaultValue=i}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=A?t.checked:!!u,t.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w),jt(t)}function _i(t,i,r){i==="number"&&Bs(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function pe(t,i,r,u){if(t=t.options,i){i={};for(var m=0;m<r.length;m++)i["$"+r[m]]=!0;for(r=0;r<t.length;r++)m=i.hasOwnProperty("$"+t[r].value),t[r].selected!==m&&(t[r].selected=m),m&&u&&(t[r].defaultSelected=!0)}else{for(r=""+Ye(r),i=null,m=0;m<t.length;m++){if(t[m].value===r){t[m].selected=!0,u&&(t[m].defaultSelected=!0);return}i!==null||t[m].disabled||(i=t[m])}i!==null&&(i.selected=!0)}}function Vi(t,i,r){if(i!=null&&(i=""+Ye(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+Ye(r):""}function Us(t,i,r,u){if(i==null){if(u!=null){if(r!=null)throw Error(o(92));if(Qt(u)){if(1<u.length)throw Error(o(93));u=u[0]}r=u}r==null&&(r=""),i=r}r=Ye(i),t.defaultValue=r,u=t.textContent,u===r&&u!==""&&u!==null&&(t.value=u),jt(t)}function ni(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var Yo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vs(t,i,r){var u=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,r):typeof r!="number"||r===0||Yo.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function Rr(t,i,r){if(i!=null&&typeof i!="object")throw Error(o(62));if(t=t.style,r!=null){for(var u in r)!r.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var m in i)u=i[m],i.hasOwnProperty(m)&&r[m]!==u&&Vs(t,m,u)}else for(var p in i)i.hasOwnProperty(p)&&Vs(t,p,i[p])}function ja(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(t){return Xo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Cn(){}var Mr=null;function za(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Is=null,Dt=null;function Vn(t){var i=js(t);if(i&&(t=i.stateNode)){var r=t[en]||null;t:switch(t=i.stateNode,i.type){case"input":if($o(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ve(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var u=r[i];if(u!==t&&u.form===t.form){var m=u[en]||null;if(!m)throw Error(o(90));$o(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<r.length;i++)u=r[i],u.form===t.form&&we(u)}break t;case"textarea":Vi(t,r.value,r.defaultValue);break t;case"select":i=r.value,i!=null&&pe(t,!!r.multiple,i,!1)}}}var re=!1;function Wo(t,i,r){if(re)return t(i,r);re=!0;try{var u=t(i);return u}finally{if(re=!1,(Is!==null||Dt!==null)&&(Oc(),Is&&(i=Is,t=Dt,Dt=Is=null,Vn(i),t)))for(i=0;i<t.length;i++)Vn(t[i])}}function ds(t,i){var r=t.stateNode;if(r===null)return null;var u=r[en]||null;if(u===null)return null;r=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(o(231,i,typeof r));return r}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ba=!1;if(Hn)try{var In={};Object.defineProperty(In,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",In,In),window.removeEventListener("test",In,In)}catch{Ba=!1}var ii=null,ms=null,Ce=null;function Hi(){if(Ce)return Ce;var t,i=ms,r=i.length,u,m="value"in ii?ii.value:ii.textContent,p=m.length;for(t=0;t<r&&i[t]===m[t];t++);var w=r-t;for(u=1;u<=w&&i[r-u]===m[p-u];u++);return Ce=m.slice(t,1<u?1-u:void 0)}function Ua(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Va(){return!0}function ku(){return!1}function on(t){function i(r,u,m,p,w){this._reactName=r,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(r=t[A],this[A]=r?r(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Va:ku,this.isPropagationStopped=ku,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),i}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kr=on(bi),qs=x({},bi,{view:0,detail:0}),Xt=on(qs),Jo,bn,wi,Ha=x({},qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Jo=t.screenX-wi.screenX,bn=t.screenY-wi.screenY):bn=Jo=0,wi=t),Jo)},movementY:function(t){return"movementY"in t?t.movementY:bn}}),Du=on(Ha),Qo=x({},Ha,{dataTransfer:0}),Ph=on(Qo),Pu=x({},qs,{relatedTarget:0}),tl=on(Pu),Nh=x({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),el=on(Nh),jh=x({},bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),si=on(jh),zh=x({},bi,{data:0}),nl=on(zh),Ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ju[t])?!!i[t]:!1}function sl(){return il}var zu=x({},qs,{key:function(t){if(t.key){var i=Ii[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ua(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sl,charCode:function(t){return t.type==="keypress"?Ua(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ua(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bu=on(zu),Bh=x({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uu=on(Bh),al=x({},qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sl}),Uh=on(al),Vu=x({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hu=on(Vu),Dr=x({},Ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ps=on(Dr),Vh=x({},bi,{newState:0,oldState:0}),Ia=on(Vh),Rn=[9,13,27,32],Pr=Hn&&"CompositionEvent"in window,Zs=null;Hn&&"documentMode"in document&&(Zs=document.documentMode);var Hh=Hn&&"TextEvent"in window&&!Zs,Nr=Hn&&(!Pr||Zs&&8<Zs&&11>=Zs),jr=" ",Iu=!1;function qu(t,i){switch(t){case"keyup":return Rn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rl(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gs=!1;function qn(t,i){switch(t){case"compositionend":return rl(i);case"keypress":return i.which!==32?null:(Iu=!0,jr);case"textInput":return t=i.data,t===jr&&Iu?null:t;default:return null}}function Ks(t,i){if(Gs)return t==="compositionend"||!Pr&&qu(t,i)?(t=Hi(),Ce=ms=ii=null,Gs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Nr&&i.locale!=="ko"?null:i.data;default:return null}}var Ih={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ai(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ih[t.type]:i==="textarea"}function Zu(t,i,r,u){Is?Dt?Dt.push(u):Dt=[u]:Is=u,i=Pc(i,"onChange"),0<i.length&&(r=new kr("onChange","change",null,r,u),t.push({event:r,listeners:i}))}var ri=null,qa=null;function Za(t){Gy(t,0)}function Ga(t){var i=Bi(t);if(we(i))return t}function Ka(t,i){if(t==="change")return i}var Gu=!1;if(Hn){var oi;if(Hn){var Fs="oninput"in document;if(!Fs){var Ku=document.createElement("div");Ku.setAttribute("oninput","return;"),Fs=typeof Ku.oninput=="function"}oi=Fs}else oi=!1;Gu=oi&&(!document.documentMode||9<document.documentMode)}function zr(){ri&&(ri.detachEvent("onpropertychange",Fu),qa=ri=null)}function Fu(t){if(t.propertyName==="value"&&Ga(qa)){var i=[];Zu(i,qa,t,za(t)),Wo(Za,i)}}function Si(t,i,r){t==="focusin"?(zr(),ri=i,qa=r,ri.attachEvent("onpropertychange",Fu)):t==="focusout"&&zr()}function qh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ga(qa)}function $s(t,i){if(t==="click")return Ga(i)}function Zh(t,i){if(t==="input"||t==="change")return Ga(i)}function xi(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var nn=typeof Object.is=="function"?Object.is:xi;function Ys(t,i){if(nn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),u=Object.keys(i);if(r.length!==u.length)return!1;for(u=0;u<r.length;u++){var m=r[u];if(!Er.call(i,m)||!nn(t[m],i[m]))return!1}return!0}function Br(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fa(t,i){var r=Br(t);t=0;for(var u;r;){if(r.nodeType===3){if(u=t+r.textContent.length,t<=i&&u>=i)return{node:r,offset:i-t};t=u}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Br(r)}}function Ur(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ur(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function $a(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Bs(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=Bs(t.document)}return i}function qi(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Vr=Hn&&"documentMode"in document&&11>=document.documentMode,Zi=null,Hr=null,Ya=null,Xs=!1;function $u(t,i,r){var u=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xs||Zi==null||Zi!==Bs(u)||(u=Zi,"selectionStart"in u&&qi(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ya&&Ys(Ya,u)||(Ya=u,u=Pc(Hr,"onSelect"),0<u.length&&(i=new kr("onSelect","select",null,i,r),t.push({event:i,listeners:u}),i.target=Zi)))}function Gi(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Ws={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionrun:Gi("Transition","TransitionRun"),transitionstart:Gi("Transition","TransitionStart"),transitioncancel:Gi("Transition","TransitionCancel"),transitionend:Gi("Transition","TransitionEnd")},Ir={},Yu={};Hn&&(Yu=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function sn(t){if(Ir[t])return Ir[t];if(!Ws[t])return t;var i=Ws[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Yu)return Ir[t]=i[r];return t}var Xa=sn("animationend"),Xu=sn("animationiteration"),Wa=sn("animationstart"),Gh=sn("transitionrun"),Wu=sn("transitionstart"),Kh=sn("transitioncancel"),Js=sn("transitionend"),Ju=new Map,Ki="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ki.push("scrollEnd");function Ln(t,i){Ju.set(t,i),hs(i,[t])}var Ja=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],pn=0,qr=0;function Qa(){for(var t=pn,i=qr=pn=0;i<t;){var r=Mn[i];Mn[i++]=null;var u=Mn[i];Mn[i++]=null;var m=Mn[i];Mn[i++]=null;var p=Mn[i];if(Mn[i++]=null,u!==null&&m!==null){var w=u.pending;w===null?m.next=m:(m.next=w.next,w.next=m),u.pending=m}p!==0&&Qs(r,m,p)}}function Fi(t,i,r,u){Mn[pn++]=t,Mn[pn++]=i,Mn[pn++]=r,Mn[pn++]=u,qr|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function ol(t,i,r,u){return Fi(t,i,r,u),tr(t)}function li(t,i){return Fi(t,null,null,i),tr(t)}function Qs(t,i,r){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r);for(var m=!1,p=t.return;p!==null;)p.childLanes|=r,u=p.alternate,u!==null&&(u.childLanes|=r),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(m=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,m&&i!==null&&(m=31-rn(r),t=p.hiddenUpdates,u=t[m],u===null?t[m]=[i]:u.push(i),i.lane=r|536870912),p):null}function tr(t){if(50<kl)throw kl=0,Yf=null,Error(o(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var gs={};function Fh(t,i,r,u){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,i,r,u){return new Fh(t,i,r,u)}function Zr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ui(t,i){var r=t.alternate;return r===null?(r=gn(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function ll(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function er(t,i,r,u,m,p){var w=0;if(u=t,typeof t=="function")Zr(t)&&(w=1);else if(typeof t=="string")w=cx(t,r,ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case wt:return t=gn(31,r,i,m),t.elementType=wt,t.lanes=p,t;case P:return ys(r.children,m,p,i);case H:w=8,m|=24;break;case I:return t=gn(12,r,i,m|2),t.elementType=I,t.lanes=p,t;case rt:return t=gn(13,r,i,m),t.elementType=rt,t.lanes=p,t;case ct:return t=gn(19,r,i,m),t.elementType=ct,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:w=10;break t;case V:w=9;break t;case at:w=11;break t;case lt:w=14;break t;case pt:w=16,u=null;break t}w=29,r=Error(o(130,t===null?"null":typeof t,"")),u=null}return i=gn(w,r,i,m),i.elementType=t,i.type=u,i.lanes=p,i}function ys(t,i,r,u){return t=gn(7,t,u,i),t.lanes=r,t}function Gr(t,i,r){return t=gn(6,t,null,i),t.lanes=r,t}function ul(t){var i=gn(18,null,null,0);return i.stateNode=t,i}function cl(t,i,r){return i=gn(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var a=new WeakMap;function l(t,i){if(typeof t=="object"&&t!==null){var r=a.get(t);return r!==void 0?r:(i={value:t,source:i,stack:as(i)},a.set(t,i),i)}return{value:t,source:i,stack:as(i)}}var d=[],y=0,b=null,T=0,C=[],U=0,K=null,tt=1,gt="";function Ot(t,i){d[y++]=T,d[y++]=b,b=t,T=i}function qt(t,i,r){C[U++]=tt,C[U++]=gt,C[U++]=K,K=t;var u=tt;t=gt;var m=32-rn(u)-1;u&=~(1<<m),r+=1;var p=32-rn(i)+m;if(30<p){var w=m-m%5;p=(u&(1<<w)-1).toString(32),u>>=w,m-=w,tt=1<<32-rn(i)+m|r<<m|u,gt=p+t}else tt=1<<p|r<<m|u,gt=t}function Xe(t){t.return!==null&&(Ot(t,1),qt(t,1,0))}function Re(t){for(;t===b;)b=d[--y],d[y]=null,T=d[--y],d[y]=null;for(;t===K;)K=C[--U],C[U]=null,gt=C[--U],C[U]=null,tt=C[--U],C[U]=null}function wn(t,i){C[U++]=tt,C[U++]=gt,C[U++]=K,tt=i.id,gt=i.overflow,K=t}var ee=null,ne=null,Ft=!1,$i=null,kn=!1,Kr=Error(o(519));function Yi(t){var i=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nr(l(i,t)),Kr}function hl(t){var i=t.stateNode,r=t.type,u=t.memoizedProps;switch(i[Ue]=t,i[en]=u,r){case"dialog":Yt("cancel",i),Yt("close",i);break;case"iframe":case"object":case"embed":Yt("load",i);break;case"video":case"audio":for(r=0;r<Pl.length;r++)Yt(Pl[r],i);break;case"source":Yt("error",i);break;case"img":case"image":case"link":Yt("error",i),Yt("load",i);break;case"details":Yt("toggle",i);break;case"input":Yt("invalid",i),Na(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Yt("invalid",i);break;case"textarea":Yt("invalid",i),Us(i,u.value,u.defaultValue,u.children)}r=u.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||u.suppressHydrationWarning===!0||Yy(i.textContent,r)?(u.popover!=null&&(Yt("beforetoggle",i),Yt("toggle",i)),u.onScroll!=null&&Yt("scroll",i),u.onScrollEnd!=null&&Yt("scrollend",i),u.onClick!=null&&(i.onclick=Cn),i=!0):i=!1,i||Yi(t,!0)}function Te(t){for(ee=t.return;ee;)switch(ee.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:ee=ee.return}}function Ti(t){if(t!==ee)return!1;if(!Ft)return Te(t),Ft=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||cd(t.type,t.memoizedProps)),r=!r),r&&ne&&Yi(t),Te(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));ne=sv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));ne=sv(t)}else i===27?(i=ne,da(t.type)?(t=pd,pd=null,ne=t):ne=i):ne=ee?hi(t.stateNode.nextSibling):null;return!0}function vs(){ne=ee=null,Ft=!1}function fl(){var t=$i;return t!==null&&(jn===null?jn=t:jn.push.apply(jn,t),$i=null),t}function nr(t){$i===null?$i=[t]:$i.push(t)}var ir=M(null),Xi=null,Ei=null;function ta(t,i,r){ut(ir,i._currentValue),i._currentValue=r}function _s(t){t._currentValue=ir.current,W(ir)}function $h(t,i,r){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===r)break;t=t.return}}function Yh(t,i,r,u){var m=t.child;for(m!==null&&(m.return=t);m!==null;){var p=m.dependencies;if(p!==null){var w=m.child;p=p.firstContext;t:for(;p!==null;){var A=p;p=m;for(var R=0;R<i.length;R++)if(A.context===i[R]){p.lanes|=r,A=p.alternate,A!==null&&(A.lanes|=r),$h(p.return,r,t),u||(w=null);break t}p=A.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(o(341));w.lanes|=r,p=w.alternate,p!==null&&(p.lanes|=r),$h(w,r,t),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===t){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function Fr(t,i,r,u){t=null;for(var m=i,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(o(387));if(w=w.memoizedProps,w!==null){var A=m.type;nn(m.pendingProps.value,w.value)||(t!==null?t.push(A):t=[A])}}else if(m===Vt.current){if(w=m.alternate,w===null)throw Error(o(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}m=m.return}t!==null&&Yh(i,t,r,u),i.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sr(t){Xi=t,Ei=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return Pp(Xi,t)}function tc(t,i){return Xi===null&&sr(t),Pp(t,i)}function Pp(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Ei===null){if(t===null)throw Error(o(308));Ei=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ei=Ei.next=i;return r}var rS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},oS=n.unstable_scheduleCallback,lS=n.unstable_NormalPriority,He={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new rS,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&oS(lS,function(){t.controller.abort()})}var ml=null,Wh=0,$r=0,Yr=null;function uS(t,i){if(ml===null){var r=ml=[];Wh=0,$r=ed(),Yr={status:"pending",value:void 0,then:function(u){r.push(u)}}}return Wh++,i.then(Np,Np),i}function Np(){if(--Wh===0&&ml!==null){Yr!==null&&(Yr.status="fulfilled");var t=ml;ml=null,$r=0,Yr=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function cS(t,i){var r=[],u={status:"pending",value:null,reason:null,then:function(m){r.push(m)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var m=0;m<r.length;m++)(0,r[m])(i)},function(m){for(u.status="rejected",u.reason=m,m=0;m<r.length;m++)(0,r[m])(void 0)}),u}var jp=$.S;$.S=function(t,i){_y=ft(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&uS(t,i),jp!==null&&jp(t,i)};var ar=M(null);function Jh(){var t=ar.current;return t!==null?t:ge.pooledCache}function ec(t,i){i===null?ut(ar,ar.current):ut(ar,i.pool)}function zp(){var t=Jh();return t===null?null:{parent:He._currentValue,pool:t}}var Xr=Error(o(460)),Qh=Error(o(474)),nc=Error(o(542)),ic={then:function(){}};function Bp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Up(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(Cn,Cn),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Hp(t),t;default:if(typeof i.status=="string")i.then(Cn,Cn);else{if(t=ge,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=u}},function(u){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Hp(t),t}throw or=i,Xr}}function rr(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(or=r,Xr):r}}var or=null;function Vp(){if(or===null)throw Error(o(459));var t=or;return or=null,t}function Hp(t){if(t===Xr||t===nc)throw Error(o(483))}var Wr=null,pl=0;function sc(t){var i=pl;return pl+=1,Wr===null&&(Wr=[]),Up(Wr,t,i)}function gl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ac(t,i){throw i.$$typeof===E?Error(o(525)):(t=Object.prototype.toString.call(i),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ip(t){function i(B,j){if(t){var Z=B.deletions;Z===null?(B.deletions=[j],B.flags|=16):Z.push(j)}}function r(B,j){if(!t)return null;for(;j!==null;)i(B,j),j=j.sibling;return null}function u(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function m(B,j){return B=ui(B,j),B.index=0,B.sibling=null,B}function p(B,j,Z){return B.index=Z,t?(Z=B.alternate,Z!==null?(Z=Z.index,Z<j?(B.flags|=67108866,j):Z):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function w(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function A(B,j,Z,Q){return j===null||j.tag!==6?(j=Gr(Z,B.mode,Q),j.return=B,j):(j=m(j,Z),j.return=B,j)}function R(B,j,Z,Q){var Rt=Z.type;return Rt===P?J(B,j,Z.props.children,Q,Z.key):j!==null&&(j.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===pt&&rr(Rt)===j.type)?(j=m(j,Z.props),gl(j,Z),j.return=B,j):(j=er(Z.type,Z.key,Z.props,null,B.mode,Q),gl(j,Z),j.return=B,j)}function G(B,j,Z,Q){return j===null||j.tag!==4||j.stateNode.containerInfo!==Z.containerInfo||j.stateNode.implementation!==Z.implementation?(j=cl(Z,B.mode,Q),j.return=B,j):(j=m(j,Z.children||[]),j.return=B,j)}function J(B,j,Z,Q,Rt){return j===null||j.tag!==7?(j=ys(Z,B.mode,Q,Rt),j.return=B,j):(j=m(j,Z),j.return=B,j)}function et(B,j,Z){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Gr(""+j,B.mode,Z),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case O:return Z=er(j.type,j.key,j.props,null,B.mode,Z),gl(Z,j),Z.return=B,Z;case k:return j=cl(j,B.mode,Z),j.return=B,j;case pt:return j=rr(j),et(B,j,Z)}if(Qt(j)||_t(j))return j=ys(j,B.mode,Z,null),j.return=B,j;if(typeof j.then=="function")return et(B,sc(j),Z);if(j.$$typeof===z)return et(B,tc(B,j),Z);ac(B,j)}return null}function F(B,j,Z,Q){var Rt=j!==null?j.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Rt!==null?null:A(B,j,""+Z,Q);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:return Z.key===Rt?R(B,j,Z,Q):null;case k:return Z.key===Rt?G(B,j,Z,Q):null;case pt:return Z=rr(Z),F(B,j,Z,Q)}if(Qt(Z)||_t(Z))return Rt!==null?null:J(B,j,Z,Q,null);if(typeof Z.then=="function")return F(B,j,sc(Z),Q);if(Z.$$typeof===z)return F(B,j,tc(B,Z),Q);ac(B,Z)}return null}function Y(B,j,Z,Q,Rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return B=B.get(Z)||null,A(j,B,""+Q,Rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case O:return B=B.get(Q.key===null?Z:Q.key)||null,R(j,B,Q,Rt);case k:return B=B.get(Q.key===null?Z:Q.key)||null,G(j,B,Q,Rt);case pt:return Q=rr(Q),Y(B,j,Z,Q,Rt)}if(Qt(Q)||_t(Q))return B=B.get(Z)||null,J(j,B,Q,Rt,null);if(typeof Q.then=="function")return Y(B,j,Z,sc(Q),Rt);if(Q.$$typeof===z)return Y(B,j,Z,tc(j,Q),Rt);ac(j,Q)}return null}function bt(B,j,Z,Q){for(var Rt=null,ie=null,xt=j,Zt=j=0,Jt=null;xt!==null&&Zt<Z.length;Zt++){xt.index>Zt?(Jt=xt,xt=null):Jt=xt.sibling;var se=F(B,xt,Z[Zt],Q);if(se===null){xt===null&&(xt=Jt);break}t&&xt&&se.alternate===null&&i(B,xt),j=p(se,j,Zt),ie===null?Rt=se:ie.sibling=se,ie=se,xt=Jt}if(Zt===Z.length)return r(B,xt),Ft&&Ot(B,Zt),Rt;if(xt===null){for(;Zt<Z.length;Zt++)xt=et(B,Z[Zt],Q),xt!==null&&(j=p(xt,j,Zt),ie===null?Rt=xt:ie.sibling=xt,ie=xt);return Ft&&Ot(B,Zt),Rt}for(xt=u(xt);Zt<Z.length;Zt++)Jt=Y(xt,B,Zt,Z[Zt],Q),Jt!==null&&(t&&Jt.alternate!==null&&xt.delete(Jt.key===null?Zt:Jt.key),j=p(Jt,j,Zt),ie===null?Rt=Jt:ie.sibling=Jt,ie=Jt);return t&&xt.forEach(function(va){return i(B,va)}),Ft&&Ot(B,Zt),Rt}function Lt(B,j,Z,Q){if(Z==null)throw Error(o(151));for(var Rt=null,ie=null,xt=j,Zt=j=0,Jt=null,se=Z.next();xt!==null&&!se.done;Zt++,se=Z.next()){xt.index>Zt?(Jt=xt,xt=null):Jt=xt.sibling;var va=F(B,xt,se.value,Q);if(va===null){xt===null&&(xt=Jt);break}t&&xt&&va.alternate===null&&i(B,xt),j=p(va,j,Zt),ie===null?Rt=va:ie.sibling=va,ie=va,xt=Jt}if(se.done)return r(B,xt),Ft&&Ot(B,Zt),Rt;if(xt===null){for(;!se.done;Zt++,se=Z.next())se=et(B,se.value,Q),se!==null&&(j=p(se,j,Zt),ie===null?Rt=se:ie.sibling=se,ie=se);return Ft&&Ot(B,Zt),Rt}for(xt=u(xt);!se.done;Zt++,se=Z.next())se=Y(xt,B,Zt,se.value,Q),se!==null&&(t&&se.alternate!==null&&xt.delete(se.key===null?Zt:se.key),j=p(se,j,Zt),ie===null?Rt=se:ie.sibling=se,ie=se);return t&&xt.forEach(function(wx){return i(B,wx)}),Ft&&Ot(B,Zt),Rt}function de(B,j,Z,Q){if(typeof Z=="object"&&Z!==null&&Z.type===P&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:t:{for(var Rt=Z.key;j!==null;){if(j.key===Rt){if(Rt=Z.type,Rt===P){if(j.tag===7){r(B,j.sibling),Q=m(j,Z.props.children),Q.return=B,B=Q;break t}}else if(j.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===pt&&rr(Rt)===j.type){r(B,j.sibling),Q=m(j,Z.props),gl(Q,Z),Q.return=B,B=Q;break t}r(B,j);break}else i(B,j);j=j.sibling}Z.type===P?(Q=ys(Z.props.children,B.mode,Q,Z.key),Q.return=B,B=Q):(Q=er(Z.type,Z.key,Z.props,null,B.mode,Q),gl(Q,Z),Q.return=B,B=Q)}return w(B);case k:t:{for(Rt=Z.key;j!==null;){if(j.key===Rt)if(j.tag===4&&j.stateNode.containerInfo===Z.containerInfo&&j.stateNode.implementation===Z.implementation){r(B,j.sibling),Q=m(j,Z.children||[]),Q.return=B,B=Q;break t}else{r(B,j);break}else i(B,j);j=j.sibling}Q=cl(Z,B.mode,Q),Q.return=B,B=Q}return w(B);case pt:return Z=rr(Z),de(B,j,Z,Q)}if(Qt(Z))return bt(B,j,Z,Q);if(_t(Z)){if(Rt=_t(Z),typeof Rt!="function")throw Error(o(150));return Z=Rt.call(Z),Lt(B,j,Z,Q)}if(typeof Z.then=="function")return de(B,j,sc(Z),Q);if(Z.$$typeof===z)return de(B,j,tc(B,Z),Q);ac(B,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,j!==null&&j.tag===6?(r(B,j.sibling),Q=m(j,Z),Q.return=B,B=Q):(r(B,j),Q=Gr(Z,B.mode,Q),Q.return=B,B=Q),w(B)):r(B,j)}return function(B,j,Z,Q){try{pl=0;var Rt=de(B,j,Z,Q);return Wr=null,Rt}catch(xt){if(xt===Xr||xt===nc)throw xt;var ie=gn(29,xt,null,B.mode);return ie.lanes=Q,ie.return=B,ie}}}var lr=Ip(!0),qp=Ip(!1),ea=!1;function tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function na(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ia(t,i,r){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(ae&2)!==0){var m=u.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),u.pending=i,i=tr(t),Qs(t,null,r),i}return Fi(t,u,i,r),tr(t)}function yl(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,r|=u,i.lanes=r,Au(t,r)}}function nf(t,i){var r=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,r===u)){var m=null,p=null;if(r=r.firstBaseUpdate,r!==null){do{var w={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};p===null?m=p=w:p=p.next=w,r=r.next}while(r!==null);p===null?m=p=i:p=p.next=i}else m=p=i;r={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var sf=!1;function vl(){if(sf){var t=Yr;if(t!==null)throw t}}function _l(t,i,r,u){sf=!1;var m=t.updateQueue;ea=!1;var p=m.firstBaseUpdate,w=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var R=A,G=R.next;R.next=null,w===null?p=G:w.next=G,w=R;var J=t.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==w&&(A===null?J.firstBaseUpdate=G:A.next=G,J.lastBaseUpdate=R))}if(p!==null){var et=m.baseState;w=0,J=G=R=null,A=p;do{var F=A.lane&-536870913,Y=F!==A.lane;if(Y?(Wt&F)===F:(u&F)===F){F!==0&&F===$r&&(sf=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var bt=t,Lt=A;F=i;var de=r;switch(Lt.tag){case 1:if(bt=Lt.payload,typeof bt=="function"){et=bt.call(de,et,F);break t}et=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Lt.payload,F=typeof bt=="function"?bt.call(de,et,F):bt,F==null)break t;et=x({},et,F);break t;case 2:ea=!0}}F=A.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=m.callbacks,Y===null?m.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(G=J=Y,R=et):J=J.next=Y,w|=F;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;Y=A,A=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);J===null&&(R=et),m.baseState=R,m.firstBaseUpdate=G,m.lastBaseUpdate=J,p===null&&(m.shared.lanes=0),la|=w,t.lanes=w,t.memoizedState=et}}function Zp(t,i){if(typeof t!="function")throw Error(o(191,t));t.call(i)}function Gp(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Zp(r[t],i)}var Jr=M(null),rc=M(0);function Kp(t,i){t=Cs,ut(rc,t),ut(Jr,i),Cs=t|i.baseLanes}function af(){ut(rc,Cs),ut(Jr,Jr.current)}function rf(){Cs=rc.current,W(Jr),W(rc)}var Zn=M(null),ci=null;function sa(t){var i=t.alternate;ut(ze,ze.current&1),ut(Zn,t),ci===null&&(i===null||Jr.current!==null||i.memoizedState!==null)&&(ci=t)}function of(t){ut(ze,ze.current),ut(Zn,t),ci===null&&(ci=t)}function Fp(t){t.tag===22?(ut(ze,ze.current),ut(Zn,t),ci===null&&(ci=t)):aa()}function aa(){ut(ze,ze.current),ut(Zn,Zn.current)}function Gn(t){W(Zn),ci===t&&(ci=null),W(ze)}var ze=M(0);function oc(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||dd(r)||md(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var bs=0,Ht=null,he=null,Ie=null,lc=!1,Qr=!1,ur=!1,uc=0,bl=0,to=null,hS=0;function Le(){throw Error(o(321))}function lf(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!nn(t[r],i[r]))return!1;return!0}function uf(t,i,r,u,m,p){return bs=p,Ht=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Lg:Tf,ur=!1,p=r(u,m),ur=!1,Qr&&(p=Yp(i,r,u,m)),$p(t),p}function $p(t){$.H=xl;var i=he!==null&&he.next!==null;if(bs=0,Ie=he=Ht=null,lc=!1,bl=0,to=null,i)throw Error(o(300));t===null||qe||(t=t.dependencies,t!==null&&Qu(t)&&(qe=!0))}function Yp(t,i,r,u){Ht=t;var m=0;do{if(Qr&&(to=null),bl=0,Qr=!1,25<=m)throw Error(o(301));if(m+=1,Ie=he=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=Mg,p=i(r,u)}while(Qr);return p}function fS(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?wl(i):i,t=t.useState()[0],(he!==null?he.memoizedState:null)!==t&&(Ht.flags|=1024),i}function cf(){var t=uc!==0;return uc=0,t}function hf(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function ff(t){if(lc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}lc=!1}bs=0,Ie=he=Ht=null,Qr=!1,bl=uc=0,to=null}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Ht.memoizedState=Ie=t:Ie=Ie.next=t,Ie}function Be(){if(he===null){var t=Ht.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var i=Ie===null?Ht.memoizedState:Ie.next;if(i!==null)Ie=i,he=t;else{if(t===null)throw Ht.alternate===null?Error(o(467)):Error(o(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Ie===null?Ht.memoizedState=Ie=t:Ie=Ie.next=t}return Ie}function cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(t){var i=bl;return bl+=1,to===null&&(to=[]),t=Up(to,t,i),i=Ht,(Ie===null?i.memoizedState:Ie.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Lg:Tf),t}function hc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wl(t);if(t.$$typeof===z)return ln(t)}throw Error(o(438,String(t)))}function df(t){var i=null,r=Ht.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var u=Ht.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=cc(),Ht.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),u=0;u<t;u++)r[u]=Bt;return i.index++,r}function ws(t,i){return typeof i=="function"?i(t):i}function fc(t){var i=Be();return mf(i,he,t)}function mf(t,i,r){var u=t.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=r;var m=t.baseQueue,p=u.pending;if(p!==null){if(m!==null){var w=m.next;m.next=p.next,p.next=w}i.baseQueue=m=p,u.pending=null}if(p=t.baseState,m===null)t.memoizedState=p;else{i=m.next;var A=w=null,R=null,G=i,J=!1;do{var et=G.lane&-536870913;if(et!==G.lane?(Wt&et)===et:(bs&et)===et){var F=G.revertLane;if(F===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),et===$r&&(J=!0);else if((bs&F)===F){G=G.next,F===$r&&(J=!0);continue}else et={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},R===null?(A=R=et,w=p):R=R.next=et,Ht.lanes|=F,la|=F;et=G.action,ur&&r(p,et),p=G.hasEagerState?G.eagerState:r(p,et)}else F={lane:et,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},R===null?(A=R=F,w=p):R=R.next=F,Ht.lanes|=et,la|=et;G=G.next}while(G!==null&&G!==i);if(R===null?w=p:R.next=A,!nn(p,t.memoizedState)&&(qe=!0,J&&(r=Yr,r!==null)))throw r;t.memoizedState=p,t.baseState=w,t.baseQueue=R,u.lastRenderedState=p}return m===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function pf(t){var i=Be(),r=i.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=t;var u=r.dispatch,m=r.pending,p=i.memoizedState;if(m!==null){r.pending=null;var w=m=m.next;do p=t(p,w.action),w=w.next;while(w!==m);nn(p,i.memoizedState)||(qe=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),r.lastRenderedState=p}return[p,u]}function Xp(t,i,r){var u=Ht,m=Be(),p=Ft;if(p){if(r===void 0)throw Error(o(407));r=r()}else r=i();var w=!nn((he||m).memoizedState,r);if(w&&(m.memoizedState=r,qe=!0),m=m.queue,vf(Qp.bind(null,u,m,t),[t]),m.getSnapshot!==i||w||Ie!==null&&Ie.memoizedState.tag&1){if(u.flags|=2048,eo(9,{destroy:void 0},Jp.bind(null,u,m,r,i),null),ge===null)throw Error(o(349));p||(bs&127)!==0||Wp(u,i,r)}return r}function Wp(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=Ht.updateQueue,i===null?(i=cc(),Ht.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function Jp(t,i,r,u){i.value=r,i.getSnapshot=u,tg(i)&&eg(t)}function Qp(t,i,r){return r(function(){tg(i)&&eg(t)})}function tg(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!nn(t,r)}catch{return!0}}function eg(t){var i=li(t,2);i!==null&&zn(i,t,2)}function gf(t){var i=Sn();if(typeof t=="function"){var r=t;if(t=r(),ur){_n(!0);try{r()}finally{_n(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:t},i}function ng(t,i,r,u){return t.baseState=r,mf(t,he,typeof u=="function"?u:ws)}function dS(t,i,r,u,m){if(pc(t))throw Error(o(485));if(t=i.action,t!==null){var p={payload:m,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};$.T!==null?r(!0):p.isTransition=!1,u(p),r=i.pending,r===null?(p.next=i.pending=p,ig(i,p)):(p.next=r.next,i.pending=r.next=p)}}function ig(t,i){var r=i.action,u=i.payload,m=t.state;if(i.isTransition){var p=$.T,w={};$.T=w;try{var A=r(m,u),R=$.S;R!==null&&R(w,A),sg(t,i,A)}catch(G){yf(t,i,G)}finally{p!==null&&w.types!==null&&(p.types=w.types),$.T=p}}else try{p=r(m,u),sg(t,i,p)}catch(G){yf(t,i,G)}}function sg(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(u){ag(t,i,u)},function(u){return yf(t,i,u)}):ag(t,i,r)}function ag(t,i,r){i.status="fulfilled",i.value=r,rg(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,ig(t,r)))}function yf(t,i,r){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=r,rg(i),i=i.next;while(i!==u)}t.action=null}function rg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function og(t,i){return i}function lg(t,i){if(Ft){var r=ge.formState;if(r!==null){t:{var u=Ht;if(Ft){if(ne){e:{for(var m=ne,p=kn;m.nodeType!==8;){if(!p){m=null;break e}if(m=hi(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){ne=hi(m.nextSibling),u=m.data==="F!";break t}}Yi(u)}u=!1}u&&(i=r[0])}}return r=Sn(),r.memoizedState=r.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:i},r.queue=u,r=Og.bind(null,Ht,u),u.dispatch=r,u=gf(!1),p=xf.bind(null,Ht,!1,u.queue),u=Sn(),m={state:i,dispatch:null,action:t,pending:null},u.queue=m,r=dS.bind(null,Ht,m,p,r),m.dispatch=r,u.memoizedState=t,[i,r,!1]}function ug(t){var i=Be();return cg(i,he,t)}function cg(t,i,r){if(i=mf(t,i,og)[0],t=fc(ws)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=wl(i)}catch(w){throw w===Xr?nc:w}else u=i;i=Be();var m=i.queue,p=m.dispatch;return r!==i.memoizedState&&(Ht.flags|=2048,eo(9,{destroy:void 0},mS.bind(null,m,r),null)),[u,p,t]}function mS(t,i){t.action=i}function hg(t){var i=Be(),r=he;if(r!==null)return cg(i,r,t);Be(),i=i.memoizedState,r=Be();var u=r.queue.dispatch;return r.memoizedState=t,[i,u,!1]}function eo(t,i,r,u){return t={tag:t,create:r,deps:u,inst:i,next:null},i=Ht.updateQueue,i===null&&(i=cc(),Ht.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(u=r.next,r.next=t,t.next=u,i.lastEffect=t),t}function fg(){return Be().memoizedState}function dc(t,i,r,u){var m=Sn();Ht.flags|=t,m.memoizedState=eo(1|i,{destroy:void 0},r,u===void 0?null:u)}function mc(t,i,r,u){var m=Be();u=u===void 0?null:u;var p=m.memoizedState.inst;he!==null&&u!==null&&lf(u,he.memoizedState.deps)?m.memoizedState=eo(i,p,r,u):(Ht.flags|=t,m.memoizedState=eo(1|i,p,r,u))}function dg(t,i){dc(8390656,8,t,i)}function vf(t,i){mc(2048,8,t,i)}function pS(t){Ht.flags|=4;var i=Ht.updateQueue;if(i===null)i=cc(),Ht.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function mg(t){var i=Be().memoizedState;return pS({ref:i,nextImpl:t}),function(){if((ae&2)!==0)throw Error(o(440));return i.impl.apply(void 0,arguments)}}function pg(t,i){return mc(4,2,t,i)}function gg(t,i){return mc(4,4,t,i)}function yg(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function vg(t,i,r){r=r!=null?r.concat([t]):null,mc(4,4,yg.bind(null,i,t),r)}function _f(){}function _g(t,i){var r=Be();i=i===void 0?null:i;var u=r.memoizedState;return i!==null&&lf(i,u[1])?u[0]:(r.memoizedState=[t,i],t)}function bg(t,i){var r=Be();i=i===void 0?null:i;var u=r.memoizedState;if(i!==null&&lf(i,u[1]))return u[0];if(u=t(),ur){_n(!0);try{t()}finally{_n(!1)}}return r.memoizedState=[u,i],u}function bf(t,i,r){return r===void 0||(bs&1073741824)!==0&&(Wt&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=wy(),Ht.lanes|=t,la|=t,r)}function wg(t,i,r,u){return nn(r,i)?r:Jr.current!==null?(t=bf(t,r,u),nn(t,i)||(qe=!0),t):(bs&42)===0||(bs&1073741824)!==0&&(Wt&261930)===0?(qe=!0,t.memoizedState=r):(t=wy(),Ht.lanes|=t,la|=t,i)}function Sg(t,i,r,u,m){var p=nt.p;nt.p=p!==0&&8>p?p:8;var w=$.T,A={};$.T=A,xf(t,!1,i,r);try{var R=m(),G=$.S;if(G!==null&&G(A,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var J=cS(R,u);Sl(t,i,J,$n(t))}else Sl(t,i,u,$n(t))}catch(et){Sl(t,i,{then:function(){},status:"rejected",reason:et},$n())}finally{nt.p=p,w!==null&&A.types!==null&&(w.types=A.types),$.T=w}}function gS(){}function wf(t,i,r,u){if(t.tag!==5)throw Error(o(476));var m=xg(t).queue;Sg(t,m,i,st,r===null?gS:function(){return Tg(t),r(u)})}function xg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:st},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Tg(t){var i=xg(t);i.next===null&&(i=t.alternate.memoizedState),Sl(t,i.next.queue,{},$n())}function Sf(){return ln(Ul)}function Eg(){return Be().memoizedState}function Ag(){return Be().memoizedState}function yS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=$n();t=na(r);var u=ia(i,t,r);u!==null&&(zn(u,i,r),yl(u,i,r)),i={cache:Xh()},t.payload=i;return}i=i.return}}function vS(t,i,r){var u=$n();r={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},pc(t)?Cg(i,r):(r=ol(t,i,r,u),r!==null&&(zn(r,t,u),Rg(r,i,u)))}function Og(t,i,r){var u=$n();Sl(t,i,r,u)}function Sl(t,i,r,u){var m={lane:u,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(pc(t))Cg(i,m);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var w=i.lastRenderedState,A=p(w,r);if(m.hasEagerState=!0,m.eagerState=A,nn(A,w))return Fi(t,i,m,0),ge===null&&Qa(),!1}catch{}if(r=ol(t,i,m,u),r!==null)return zn(r,t,u),Rg(r,i,u),!0}return!1}function xf(t,i,r,u){if(u={lane:2,revertLane:ed(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(i)throw Error(o(479))}else i=ol(t,r,u,2),i!==null&&zn(i,t,2)}function pc(t){var i=t.alternate;return t===Ht||i!==null&&i===Ht}function Cg(t,i){Qr=lc=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Rg(t,i,r){if((r&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,r|=u,i.lanes=r,Au(t,r)}}var xl={readContext:ln,use:hc,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le};xl.useEffectEvent=Le;var Lg={readContext:ln,use:hc,useCallback:function(t,i){return Sn().memoizedState=[t,i===void 0?null:i],t},useContext:ln,useEffect:dg,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,dc(4194308,4,yg.bind(null,i,t),r)},useLayoutEffect:function(t,i){return dc(4194308,4,t,i)},useInsertionEffect:function(t,i){dc(4,2,t,i)},useMemo:function(t,i){var r=Sn();i=i===void 0?null:i;var u=t();if(ur){_n(!0);try{t()}finally{_n(!1)}}return r.memoizedState=[u,i],u},useReducer:function(t,i,r){var u=Sn();if(r!==void 0){var m=r(i);if(ur){_n(!0);try{r(i)}finally{_n(!1)}}}else m=i;return u.memoizedState=u.baseState=m,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:m},u.queue=t,t=t.dispatch=vS.bind(null,Ht,t),[u.memoizedState,t]},useRef:function(t){var i=Sn();return t={current:t},i.memoizedState=t},useState:function(t){t=gf(t);var i=t.queue,r=Og.bind(null,Ht,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:_f,useDeferredValue:function(t,i){var r=Sn();return bf(r,t,i)},useTransition:function(){var t=gf(!1);return t=Sg.bind(null,Ht,t.queue,!0,!1),Sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var u=Ht,m=Sn();if(Ft){if(r===void 0)throw Error(o(407));r=r()}else{if(r=i(),ge===null)throw Error(o(349));(Wt&127)!==0||Wp(u,i,r)}m.memoizedState=r;var p={value:r,getSnapshot:i};return m.queue=p,dg(Qp.bind(null,u,p,t),[t]),u.flags|=2048,eo(9,{destroy:void 0},Jp.bind(null,u,p,r,i),null),r},useId:function(){var t=Sn(),i=ge.identifierPrefix;if(Ft){var r=gt,u=tt;r=(u&~(1<<32-rn(u)-1)).toString(32)+r,i="_"+i+"R_"+r,r=uc++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=hS++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Sf,useFormState:lg,useActionState:lg,useOptimistic:function(t){var i=Sn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=xf.bind(null,Ht,!0,r),r.dispatch=i,[t,i]},useMemoCache:df,useCacheRefresh:function(){return Sn().memoizedState=yS.bind(null,Ht)},useEffectEvent:function(t){var i=Sn(),r={impl:t};return i.memoizedState=r,function(){if((ae&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},Tf={readContext:ln,use:hc,useCallback:_g,useContext:ln,useEffect:vf,useImperativeHandle:vg,useInsertionEffect:pg,useLayoutEffect:gg,useMemo:bg,useReducer:fc,useRef:fg,useState:function(){return fc(ws)},useDebugValue:_f,useDeferredValue:function(t,i){var r=Be();return wg(r,he.memoizedState,t,i)},useTransition:function(){var t=fc(ws)[0],i=Be().memoizedState;return[typeof t=="boolean"?t:wl(t),i]},useSyncExternalStore:Xp,useId:Eg,useHostTransitionStatus:Sf,useFormState:ug,useActionState:ug,useOptimistic:function(t,i){var r=Be();return ng(r,he,t,i)},useMemoCache:df,useCacheRefresh:Ag};Tf.useEffectEvent=mg;var Mg={readContext:ln,use:hc,useCallback:_g,useContext:ln,useEffect:vf,useImperativeHandle:vg,useInsertionEffect:pg,useLayoutEffect:gg,useMemo:bg,useReducer:pf,useRef:fg,useState:function(){return pf(ws)},useDebugValue:_f,useDeferredValue:function(t,i){var r=Be();return he===null?bf(r,t,i):wg(r,he.memoizedState,t,i)},useTransition:function(){var t=pf(ws)[0],i=Be().memoizedState;return[typeof t=="boolean"?t:wl(t),i]},useSyncExternalStore:Xp,useId:Eg,useHostTransitionStatus:Sf,useFormState:hg,useActionState:hg,useOptimistic:function(t,i){var r=Be();return he!==null?ng(r,he,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:df,useCacheRefresh:Ag};Mg.useEffectEvent=mg;function Ef(t,i,r,u){i=t.memoizedState,r=r(u,i),r=r==null?i:x({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Af={enqueueSetState:function(t,i,r){t=t._reactInternals;var u=$n(),m=na(u);m.payload=i,r!=null&&(m.callback=r),i=ia(t,m,u),i!==null&&(zn(i,t,u),yl(i,t,u))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var u=$n(),m=na(u);m.tag=1,m.payload=i,r!=null&&(m.callback=r),i=ia(t,m,u),i!==null&&(zn(i,t,u),yl(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=$n(),u=na(r);u.tag=2,i!=null&&(u.callback=i),i=ia(t,u,r),i!==null&&(zn(i,t,r),yl(i,t,r))}};function kg(t,i,r,u,m,p,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,w):i.prototype&&i.prototype.isPureReactComponent?!Ys(r,u)||!Ys(m,p):!0}function Dg(t,i,r,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,u),i.state!==t&&Af.enqueueReplaceState(i,i.state,null)}function cr(t,i){var r=i;if("ref"in i){r={};for(var u in i)u!=="ref"&&(r[u]=i[u])}if(t=t.defaultProps){r===i&&(r=x({},r));for(var m in t)r[m]===void 0&&(r[m]=t[m])}return r}function Pg(t){Ja(t)}function Ng(t){console.error(t)}function jg(t){Ja(t)}function gc(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function zg(t,i,r){try{var u=t.onCaughtError;u(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Of(t,i,r){return r=na(r),r.tag=3,r.payload={element:null},r.callback=function(){gc(t,i)},r}function Bg(t){return t=na(t),t.tag=3,t}function Ug(t,i,r,u){var m=r.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;t.payload=function(){return m(p)},t.callback=function(){zg(i,r,u)}}var w=r.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){zg(i,r,u),typeof m!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function _S(t,i,r,u,m){if(r.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=r.alternate,i!==null&&Fr(i,r,m,!0),r=Zn.current,r!==null){switch(r.tag){case 31:case 13:return ci===null?Cc():r.alternate===null&&Me===0&&(Me=3),r.flags&=-257,r.flags|=65536,r.lanes=m,u===ic?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([u]):i.add(u),Jf(t,u,m)),!1;case 22:return r.flags|=65536,u===ic?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([u]):r.add(u)),Jf(t,u,m)),!1}throw Error(o(435,r.tag))}return Jf(t,u,m),Cc(),!1}if(Ft)return i=Zn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,u!==Kr&&(t=Error(o(422),{cause:u}),nr(l(t,r)))):(u!==Kr&&(i=Error(o(423),{cause:u}),nr(l(i,r))),t=t.current.alternate,t.flags|=65536,m&=-m,t.lanes|=m,u=l(u,r),m=Of(t.stateNode,u,m),nf(t,m),Me!==4&&(Me=2)),!1;var p=Error(o(520),{cause:u});if(p=l(p,r),Ml===null?Ml=[p]:Ml.push(p),Me!==4&&(Me=2),i===null)return!0;u=l(u,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=m&-m,r.lanes|=t,t=Of(r.stateNode,u,t),nf(r,t),!1;case 1:if(i=r.type,p=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ua===null||!ua.has(p))))return r.flags|=65536,m&=-m,r.lanes|=m,m=Bg(m),Ug(m,t,r,u),nf(r,m),!1}r=r.return}while(r!==null);return!1}var Cf=Error(o(461)),qe=!1;function un(t,i,r,u){i.child=t===null?qp(i,null,r,u):lr(i,t.child,r,u)}function Vg(t,i,r,u,m){r=r.render;var p=i.ref;if("ref"in u){var w={};for(var A in u)A!=="ref"&&(w[A]=u[A])}else w=u;return sr(i),u=uf(t,i,r,w,p,m),A=cf(),t!==null&&!qe?(hf(t,i,m),Ss(t,i,m)):(Ft&&A&&Xe(i),i.flags|=1,un(t,i,u,m),i.child)}function Hg(t,i,r,u,m){if(t===null){var p=r.type;return typeof p=="function"&&!Zr(p)&&p.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=p,Ig(t,i,p,u,m)):(t=er(r.type,null,u,i,i.mode,m),t.ref=i.ref,t.return=i,i.child=t)}if(p=t.child,!jf(t,m)){var w=p.memoizedProps;if(r=r.compare,r=r!==null?r:Ys,r(w,u)&&t.ref===i.ref)return Ss(t,i,m)}return i.flags|=1,t=ui(p,u),t.ref=i.ref,t.return=i,i.child=t}function Ig(t,i,r,u,m){if(t!==null){var p=t.memoizedProps;if(Ys(p,u)&&t.ref===i.ref)if(qe=!1,i.pendingProps=u=p,jf(t,m))(t.flags&131072)!==0&&(qe=!0);else return i.lanes=t.lanes,Ss(t,i,m)}return Rf(t,i,r,u,m)}function qg(t,i,r,u){var m=u.children,p=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|r:r,t!==null){for(u=i.child=t.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~p}else u=0,i.child=null;return Zg(t,i,p,r,u)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(i,p!==null?p.cachePool:null),p!==null?Kp(i,p):af(),Fp(i);else return u=i.lanes=536870912,Zg(t,i,p!==null?p.baseLanes|r:r,r,u)}else p!==null?(ec(i,p.cachePool),Kp(i,p),aa(),i.memoizedState=null):(t!==null&&ec(i,null),af(),aa());return un(t,i,m,r),i.child}function Tl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Zg(t,i,r,u,m){var p=Jh();return p=p===null?null:{parent:He._currentValue,pool:p},i.memoizedState={baseLanes:r,cachePool:p},t!==null&&ec(i,null),af(),Fp(i),t!==null&&Fr(t,i,u,!0),i.childLanes=m,null}function yc(t,i){return i=_c({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Gg(t,i,r){return lr(i,t.child,null,r),t=yc(i,i.pendingProps),t.flags|=2,Gn(i),i.memoizedState=null,t}function bS(t,i,r){var u=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ft){if(u.mode==="hidden")return t=yc(i,u),i.lanes=536870912,Tl(null,t);if(of(i),(t=ne)?(t=iv(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:K!==null?{id:tt,overflow:gt}:null,retryLane:536870912,hydrationErrors:null},r=ul(t),r.return=i,i.child=r,ee=i,ne=null)):t=null,t===null)throw Yi(i);return i.lanes=536870912,null}return yc(i,u)}var p=t.memoizedState;if(p!==null){var w=p.dehydrated;if(of(i),m)if(i.flags&256)i.flags&=-257,i=Gg(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(o(558));else if(qe||Fr(t,i,r,!1),m=(r&t.childLanes)!==0,qe||m){if(u=ge,u!==null&&(w=Ou(u,r),w!==0&&w!==p.retryLane))throw p.retryLane=w,li(t,w),zn(u,t,w),Cf;Cc(),i=Gg(t,i,r)}else t=p.treeContext,ne=hi(w.nextSibling),ee=i,Ft=!0,$i=null,kn=!1,t!==null&&wn(i,t),i=yc(i,u),i.flags|=4096;return i}return t=ui(t.child,{mode:u.mode,children:u.children}),t.ref=i.ref,i.child=t,t.return=i,t}function vc(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function Rf(t,i,r,u,m){return sr(i),r=uf(t,i,r,u,void 0,m),u=cf(),t!==null&&!qe?(hf(t,i,m),Ss(t,i,m)):(Ft&&u&&Xe(i),i.flags|=1,un(t,i,r,m),i.child)}function Kg(t,i,r,u,m,p){return sr(i),i.updateQueue=null,r=Yp(i,u,r,m),$p(t),u=cf(),t!==null&&!qe?(hf(t,i,p),Ss(t,i,p)):(Ft&&u&&Xe(i),i.flags|=1,un(t,i,r,p),i.child)}function Fg(t,i,r,u,m){if(sr(i),i.stateNode===null){var p=gs,w=r.contextType;typeof w=="object"&&w!==null&&(p=ln(w)),p=new r(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Af,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},tf(i),w=r.contextType,p.context=typeof w=="object"&&w!==null?ln(w):gs,p.state=i.memoizedState,w=r.getDerivedStateFromProps,typeof w=="function"&&(Ef(i,r,w,u),p.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&Af.enqueueReplaceState(p,p.state,null),_l(i,u,p,m),vl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){p=i.stateNode;var A=i.memoizedProps,R=cr(r,A);p.props=R;var G=p.context,J=r.contextType;w=gs,typeof J=="object"&&J!==null&&(w=ln(J));var et=r.getDerivedStateFromProps;J=typeof et=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||G!==w)&&Dg(i,p,u,w),ea=!1;var F=i.memoizedState;p.state=F,_l(i,u,p,m),vl(),G=i.memoizedState,A||F!==G||ea?(typeof et=="function"&&(Ef(i,r,et,u),G=i.memoizedState),(R=ea||kg(i,r,R,u,F,G,w))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=G),p.props=u,p.state=G,p.context=w,u=R):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,ef(t,i),w=i.memoizedProps,J=cr(r,w),p.props=J,et=i.pendingProps,F=p.context,G=r.contextType,R=gs,typeof G=="object"&&G!==null&&(R=ln(G)),A=r.getDerivedStateFromProps,(G=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==et||F!==R)&&Dg(i,p,u,R),ea=!1,F=i.memoizedState,p.state=F,_l(i,u,p,m),vl();var Y=i.memoizedState;w!==et||F!==Y||ea||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof A=="function"&&(Ef(i,r,A,u),Y=i.memoizedState),(J=ea||kg(i,r,J,u,F,Y,R)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Y,R),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Y,R)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Y),p.props=u,p.state=Y,p.context=R,u=J):(typeof p.componentDidUpdate!="function"||w===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),u=!1)}return p=u,vc(t,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,r=u&&typeof r.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,t!==null&&u?(i.child=lr(i,t.child,null,m),i.child=lr(i,null,r,m)):un(t,i,r,m),i.memoizedState=p.state,t=i.child):t=Ss(t,i,m),t}function $g(t,i,r,u){return vs(),i.flags|=256,un(t,i,r,u),i.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(t){return{baseLanes:t,cachePool:zp()}}function kf(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=Fn),t}function Yg(t,i,r){var u=i.pendingProps,m=!1,p=(i.flags&128)!==0,w;if((w=p)||(w=t!==null&&t.memoizedState===null?!1:(ze.current&2)!==0),w&&(m=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ft){if(m?sa(i):aa(),(t=ne)?(t=iv(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:K!==null?{id:tt,overflow:gt}:null,retryLane:536870912,hydrationErrors:null},r=ul(t),r.return=i,i.child=r,ee=i,ne=null)):t=null,t===null)throw Yi(i);return md(t)?i.lanes=32:i.lanes=536870912,null}var A=u.children;return u=u.fallback,m?(aa(),m=i.mode,A=_c({mode:"hidden",children:A},m),u=ys(u,m,r,null),A.return=i,u.return=i,A.sibling=u,i.child=A,u=i.child,u.memoizedState=Mf(r),u.childLanes=kf(t,w,r),i.memoizedState=Lf,Tl(null,u)):(sa(i),Df(i,A))}var R=t.memoizedState;if(R!==null&&(A=R.dehydrated,A!==null)){if(p)i.flags&256?(sa(i),i.flags&=-257,i=Pf(t,i,r)):i.memoizedState!==null?(aa(),i.child=t.child,i.flags|=128,i=null):(aa(),A=u.fallback,m=i.mode,u=_c({mode:"visible",children:u.children},m),A=ys(A,m,r,null),A.flags|=2,u.return=i,A.return=i,u.sibling=A,i.child=u,lr(i,t.child,null,r),u=i.child,u.memoizedState=Mf(r),u.childLanes=kf(t,w,r),i.memoizedState=Lf,i=Tl(null,u));else if(sa(i),md(A)){if(w=A.nextSibling&&A.nextSibling.dataset,w)var G=w.dgst;w=G,u=Error(o(419)),u.stack="",u.digest=w,nr({value:u,source:null,stack:null}),i=Pf(t,i,r)}else if(qe||Fr(t,i,r,!1),w=(r&t.childLanes)!==0,qe||w){if(w=ge,w!==null&&(u=Ou(w,r),u!==0&&u!==R.retryLane))throw R.retryLane=u,li(t,u),zn(w,t,u),Cf;dd(A)||Cc(),i=Pf(t,i,r)}else dd(A)?(i.flags|=192,i.child=t.child,i=null):(t=R.treeContext,ne=hi(A.nextSibling),ee=i,Ft=!0,$i=null,kn=!1,t!==null&&wn(i,t),i=Df(i,u.children),i.flags|=4096);return i}return m?(aa(),A=u.fallback,m=i.mode,R=t.child,G=R.sibling,u=ui(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,G!==null?A=ui(G,A):(A=ys(A,m,r,null),A.flags|=2),A.return=i,u.return=i,u.sibling=A,i.child=u,Tl(null,u),u=i.child,A=t.child.memoizedState,A===null?A=Mf(r):(m=A.cachePool,m!==null?(R=He._currentValue,m=m.parent!==R?{parent:R,pool:R}:m):m=zp(),A={baseLanes:A.baseLanes|r,cachePool:m}),u.memoizedState=A,u.childLanes=kf(t,w,r),i.memoizedState=Lf,Tl(t.child,u)):(sa(i),r=t.child,t=r.sibling,r=ui(r,{mode:"visible",children:u.children}),r.return=i,r.sibling=null,t!==null&&(w=i.deletions,w===null?(i.deletions=[t],i.flags|=16):w.push(t)),i.child=r,i.memoizedState=null,r)}function Df(t,i){return i=_c({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _c(t,i){return t=gn(22,t,null,i),t.lanes=0,t}function Pf(t,i,r){return lr(i,t.child,null,r),t=Df(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Xg(t,i,r){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),$h(t.return,i,r)}function Nf(t,i,r,u,m,p){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:r,tailMode:m,treeForkCount:p}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=r,w.tailMode=m,w.treeForkCount=p)}function Wg(t,i,r){var u=i.pendingProps,m=u.revealOrder,p=u.tail;u=u.children;var w=ze.current,A=(w&2)!==0;if(A?(w=w&1|2,i.flags|=128):w&=1,ut(ze,w),un(t,i,u,r),u=Ft?T:0,!A&&t!==null&&(t.flags&128)!==0)t:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xg(t,r,i);else if(t.tag===19)Xg(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break t;for(;t.sibling===null;){if(t.return===null||t.return===i)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(m){case"forwards":for(r=i.child,m=null;r!==null;)t=r.alternate,t!==null&&oc(t)===null&&(m=r),r=r.sibling;r=m,r===null?(m=i.child,i.child=null):(m=r.sibling,r.sibling=null),Nf(i,!1,m,r,p,u);break;case"backwards":case"unstable_legacy-backwards":for(r=null,m=i.child,i.child=null;m!==null;){if(t=m.alternate,t!==null&&oc(t)===null){i.child=m;break}t=m.sibling,m.sibling=r,r=m,m=t}Nf(i,!0,r,null,p,u);break;case"together":Nf(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Ss(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),la|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(Fr(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(o(153));if(i.child!==null){for(t=i.child,r=ui(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=ui(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function jf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function wS(t,i,r){switch(i.tag){case 3:ue(i,i.stateNode.containerInfo),ta(i,He,t.memoizedState.cache),vs();break;case 27:case 5:Un(i);break;case 4:ue(i,i.stateNode.containerInfo);break;case 10:ta(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,of(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(sa(i),i.flags|=128,null):(r&i.child.childLanes)!==0?Yg(t,i,r):(sa(i),t=Ss(t,i,r),t!==null?t.sibling:null);sa(i);break;case 19:var m=(t.flags&128)!==0;if(u=(r&i.childLanes)!==0,u||(Fr(t,i,r,!1),u=(r&i.childLanes)!==0),m){if(u)return Wg(t,i,r);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ut(ze,ze.current),u)break;return null;case 22:return i.lanes=0,qg(t,i,r,i.pendingProps);case 24:ta(i,He,t.memoizedState.cache)}return Ss(t,i,r)}function Jg(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)qe=!0;else{if(!jf(t,r)&&(i.flags&128)===0)return qe=!1,wS(t,i,r);qe=(t.flags&131072)!==0}else qe=!1,Ft&&(i.flags&1048576)!==0&&qt(i,T,i.index);switch(i.lanes=0,i.tag){case 16:t:{var u=i.pendingProps;if(t=rr(i.elementType),i.type=t,typeof t=="function")Zr(t)?(u=cr(t,u),i.tag=1,i=Fg(null,i,t,u,r)):(i.tag=0,i=Rf(null,i,t,u,r));else{if(t!=null){var m=t.$$typeof;if(m===at){i.tag=11,i=Vg(null,i,t,u,r);break t}else if(m===lt){i.tag=14,i=Hg(null,i,t,u,r);break t}}throw i=Ut(t)||t,Error(o(306,i,""))}}return i;case 0:return Rf(t,i,i.type,i.pendingProps,r);case 1:return u=i.type,m=cr(u,i.pendingProps),Fg(t,i,u,m,r);case 3:t:{if(ue(i,i.stateNode.containerInfo),t===null)throw Error(o(387));u=i.pendingProps;var p=i.memoizedState;m=p.element,ef(t,i),_l(i,u,null,r);var w=i.memoizedState;if(u=w.cache,ta(i,He,u),u!==p.cache&&Yh(i,[He],r,!0),vl(),u=w.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=$g(t,i,u,r);break t}else if(u!==m){m=l(Error(o(424)),i),nr(m),i=$g(t,i,u,r);break t}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ne=hi(t.firstChild),ee=i,Ft=!0,$i=null,kn=!0,r=qp(i,null,u,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vs(),u===m){i=Ss(t,i,r);break t}un(t,i,u,r)}i=i.child}return i;case 26:return vc(t,i),t===null?(r=uv(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ft||(r=i.type,t=i.pendingProps,u=Nc(yt.current).createElement(r),u[Ue]=i,u[en]=t,cn(u,r,t),Ve(u),i.stateNode=u):i.memoizedState=uv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Un(i),t===null&&Ft&&(u=i.stateNode=rv(i.type,i.pendingProps,yt.current),ee=i,kn=!0,m=ne,da(i.type)?(pd=m,ne=hi(u.firstChild)):ne=m),un(t,i,i.pendingProps.children,r),vc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ft&&((m=u=ne)&&(u=WS(u,i.type,i.pendingProps,kn),u!==null?(i.stateNode=u,ee=i,ne=hi(u.firstChild),kn=!1,m=!0):m=!1),m||Yi(i)),Un(i),m=i.type,p=i.pendingProps,w=t!==null?t.memoizedProps:null,u=p.children,cd(m,p)?u=null:w!==null&&cd(m,w)&&(i.flags|=32),i.memoizedState!==null&&(m=uf(t,i,fS,null,null,r),Ul._currentValue=m),vc(t,i),un(t,i,u,r),i.child;case 6:return t===null&&Ft&&((t=r=ne)&&(r=JS(r,i.pendingProps,kn),r!==null?(i.stateNode=r,ee=i,ne=null,t=!0):t=!1),t||Yi(i)),null;case 13:return Yg(t,i,r);case 4:return ue(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=lr(i,null,u,r):un(t,i,u,r),i.child;case 11:return Vg(t,i,i.type,i.pendingProps,r);case 7:return un(t,i,i.pendingProps,r),i.child;case 8:return un(t,i,i.pendingProps.children,r),i.child;case 12:return un(t,i,i.pendingProps.children,r),i.child;case 10:return u=i.pendingProps,ta(i,i.type,u.value),un(t,i,u.children,r),i.child;case 9:return m=i.type._context,u=i.pendingProps.children,sr(i),m=ln(m),u=u(m),i.flags|=1,un(t,i,u,r),i.child;case 14:return Hg(t,i,i.type,i.pendingProps,r);case 15:return Ig(t,i,i.type,i.pendingProps,r);case 19:return Wg(t,i,r);case 31:return bS(t,i,r);case 22:return qg(t,i,r,i.pendingProps);case 24:return sr(i),u=ln(He),t===null?(m=Jh(),m===null&&(m=ge,p=Xh(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=r),m=p),i.memoizedState={parent:u,cache:m},tf(i),ta(i,He,m)):((t.lanes&r)!==0&&(ef(t,i),_l(i,null,null,r),vl()),m=t.memoizedState,p=i.memoizedState,m.parent!==u?(m={parent:u,cache:u},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),ta(i,He,u)):(u=p.cache,ta(i,He,u),u!==m.cache&&Yh(i,[He],r,!0))),un(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function xs(t){t.flags|=4}function zf(t,i,r,u,m){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(m&335544128)===m)if(t.stateNode.complete)t.flags|=8192;else if(Ey())t.flags|=8192;else throw or=ic,Qh}else t.flags&=-16777217}function Qg(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!mv(i))if(Ey())t.flags|=8192;else throw or=ic,Qh}function bc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Tu():536870912,t.lanes|=i,ao|=i)}function El(t,i){if(!Ft)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function _e(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,u=0;if(i)for(var m=t.child;m!==null;)r|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)r|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=u,t.childLanes=r,i}function SS(t,i,r){var u=i.pendingProps;switch(Re(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(i),null;case 1:return _e(i),null;case 3:return r=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),_s(He),me(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ti(i)?xs(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,fl())),_e(i),null;case 26:var m=i.type,p=i.memoizedState;return t===null?(xs(i),p!==null?(_e(i),Qg(i,p)):(_e(i),zf(i,m,null,u,r))):p?p!==t.memoizedState?(xs(i),_e(i),Qg(i,p)):(_e(i),i.flags&=-16777217):(t=t.memoizedProps,t!==u&&xs(i),_e(i),zf(i,m,t,u,r)),null;case 27:if(Qn(i),r=yt.current,m=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&xs(i);else{if(!u){if(i.stateNode===null)throw Error(o(166));return _e(i),null}t=ht.current,Ti(i)?hl(i):(t=rv(m,u,r),i.stateNode=t,xs(i))}return _e(i),null;case 5:if(Qn(i),m=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&xs(i);else{if(!u){if(i.stateNode===null)throw Error(o(166));return _e(i),null}if(p=ht.current,Ti(i))hl(i);else{var w=Nc(yt.current);switch(p){case 1:p=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=w.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?w.createElement(m,{is:u.is}):w.createElement(m)}}p[Ue]=i,p[en]=u;t:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)p.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break t;for(;w.sibling===null;){if(w.return===null||w.return===i)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=p;t:switch(cn(p,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&xs(i)}}return _e(i),zf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&xs(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(o(166));if(t=yt.current,Ti(i)){if(t=i.stateNode,r=i.memoizedProps,u=null,m=ee,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}t[Ue]=i,t=!!(t.nodeValue===r||u!==null&&u.suppressHydrationWarning===!0||Yy(t.nodeValue,r)),t||Yi(i,!0)}else t=Nc(t).createTextNode(u),t[Ue]=i,i.stateNode=t}return _e(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(u=Ti(i),r!==null){if(t===null){if(!u)throw Error(o(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[Ue]=i}else vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;_e(i),t=!1}else r=fl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(Gn(i),i):(Gn(i),null);if((i.flags&128)!==0)throw Error(o(558))}return _e(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(m=Ti(i),u!==null&&u.dehydrated!==null){if(t===null){if(!m)throw Error(o(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[Ue]=i}else vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;_e(i),m=!1}else m=fl(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Gn(i),i):(Gn(i),null)}return Gn(i),(i.flags&128)!==0?(i.lanes=r,i):(r=u!==null,t=t!==null&&t.memoizedState!==null,r&&(u=i.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),bc(i,i.updateQueue),_e(i),null);case 4:return me(),t===null&&ad(i.stateNode.containerInfo),_e(i),null;case 10:return _s(i.type),_e(i),null;case 19:if(W(ze),u=i.memoizedState,u===null)return _e(i),null;if(m=(i.flags&128)!==0,p=u.rendering,p===null)if(m)El(u,!1);else{if(Me!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(p=oc(t),p!==null){for(i.flags|=128,El(u,!1),t=p.updateQueue,i.updateQueue=t,bc(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)ll(r,t),r=r.sibling;return ut(ze,ze.current&1|2),Ft&&Ot(i,u.treeForkCount),i.child}t=t.sibling}u.tail!==null&&ft()>Ec&&(i.flags|=128,m=!0,El(u,!1),i.lanes=4194304)}else{if(!m)if(t=oc(p),t!==null){if(i.flags|=128,m=!0,t=t.updateQueue,i.updateQueue=t,bc(i,t),El(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ft)return _e(i),null}else 2*ft()-u.renderingStartTime>Ec&&r!==536870912&&(i.flags|=128,m=!0,El(u,!1),i.lanes=4194304);u.isBackwards?(p.sibling=i.child,i.child=p):(t=u.last,t!==null?t.sibling=p:i.child=p,u.last=p)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=ft(),t.sibling=null,r=ze.current,ut(ze,m?r&1|2:r&1),Ft&&Ot(i,u.treeForkCount),t):(_e(i),null);case 22:case 23:return Gn(i),rf(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(r&536870912)!==0&&(i.flags&128)===0&&(_e(i),i.subtreeFlags&6&&(i.flags|=8192)):_e(i),r=i.updateQueue,r!==null&&bc(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==r&&(i.flags|=2048),t!==null&&W(ar),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),_s(He),_e(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function xS(t,i){switch(Re(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return _s(He),me(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Qn(i),null;case 31:if(i.memoizedState!==null){if(Gn(i),i.alternate===null)throw Error(o(340));vs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Gn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(o(340));vs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(ze),null;case 4:return me(),null;case 10:return _s(i.type),null;case 22:case 23:return Gn(i),rf(),t!==null&&W(ar),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return _s(He),null;case 25:return null;default:return null}}function ty(t,i){switch(Re(i),i.tag){case 3:_s(He),me();break;case 26:case 27:case 5:Qn(i);break;case 4:me();break;case 31:i.memoizedState!==null&&Gn(i);break;case 13:Gn(i);break;case 19:W(ze);break;case 10:_s(i.type);break;case 22:case 23:Gn(i),rf(),t!==null&&W(ar);break;case 24:_s(He)}}function Al(t,i){try{var r=i.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var m=u.next;r=m;do{if((r.tag&t)===t){u=void 0;var p=r.create,w=r.inst;u=p(),w.destroy=u}r=r.next}while(r!==m)}}catch(A){le(i,i.return,A)}}function ra(t,i,r){try{var u=i.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&t)===t){var w=u.inst,A=w.destroy;if(A!==void 0){w.destroy=void 0,m=i;var R=r,G=A;try{G()}catch(J){le(m,R,J)}}}u=u.next}while(u!==p)}}catch(J){le(i,i.return,J)}}function ey(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{Gp(i,r)}catch(u){le(t,t.return,u)}}}function ny(t,i,r){r.props=cr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(u){le(t,i,u)}}function Ol(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof r=="function"?t.refCleanup=r(u):r.current=u}}catch(m){le(t,i,m)}}function Wi(t,i){var r=t.ref,u=t.refCleanup;if(r!==null)if(typeof u=="function")try{u()}catch(m){le(t,i,m)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(m){le(t,i,m)}else r.current=null}function iy(t){var i=t.type,r=t.memoizedProps,u=t.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&u.focus();break t;case"img":r.src?u.src=r.src:r.srcSet&&(u.srcset=r.srcSet)}}catch(m){le(t,t.return,m)}}function Bf(t,i,r){try{var u=t.stateNode;GS(u,t.type,r,i),u[en]=i}catch(m){le(t,t.return,m)}}function sy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&da(t.type)||t.tag===4}function Uf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&da(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vf(t,i,r){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=Cn));else if(u!==4&&(u===27&&da(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(Vf(t,i,r),t=t.sibling;t!==null;)Vf(t,i,r),t=t.sibling}function wc(t,i,r){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(u!==4&&(u===27&&da(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(wc(t,i,r),t=t.sibling;t!==null;)wc(t,i,r),t=t.sibling}function ay(t){var i=t.stateNode,r=t.memoizedProps;try{for(var u=t.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);cn(i,u,r),i[Ue]=t,i[en]=r}catch(p){le(t,t.return,p)}}var Ts=!1,Ze=!1,Hf=!1,ry=typeof WeakSet=="function"?WeakSet:Set,an=null;function TS(t,i){if(t=t.containerInfo,ld=Ic,t=$a(t),qi(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var u=r.getSelection&&r.getSelection();if(u&&u.rangeCount!==0){r=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{r.nodeType,p.nodeType}catch{r=null;break t}var w=0,A=-1,R=-1,G=0,J=0,et=t,F=null;e:for(;;){for(var Y;et!==r||m!==0&&et.nodeType!==3||(A=w+m),et!==p||u!==0&&et.nodeType!==3||(R=w+u),et.nodeType===3&&(w+=et.nodeValue.length),(Y=et.firstChild)!==null;)F=et,et=Y;for(;;){if(et===t)break e;if(F===r&&++G===m&&(A=w),F===p&&++J===u&&(R=w),(Y=et.nextSibling)!==null)break;et=F,F=et.parentNode}et=Y}r=A===-1||R===-1?null:{start:A,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(ud={focusedElem:t,selectionRange:r},Ic=!1,an=i;an!==null;)if(i=an,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,an=t;else for(;an!==null;){switch(i=an,p=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)m=t[r],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,r=i,m=p.memoizedProps,p=p.memoizedState,u=r.stateNode;try{var bt=cr(r.type,m);t=u.getSnapshotBeforeUpdate(bt,p),u.__reactInternalSnapshotBeforeUpdate=t}catch(Lt){le(r,r.return,Lt)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)fd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=i.sibling,t!==null){t.return=i.return,an=t;break}an=i.return}}function oy(t,i,r){var u=r.flags;switch(r.tag){case 0:case 11:case 15:As(t,r),u&4&&Al(5,r);break;case 1:if(As(t,r),u&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(w){le(r,r.return,w)}else{var m=cr(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(m,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){le(r,r.return,w)}}u&64&&ey(r),u&512&&Ol(r,r.return);break;case 3:if(As(t,r),u&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Gp(t,i)}catch(w){le(r,r.return,w)}}break;case 27:i===null&&u&4&&ay(r);case 26:case 5:As(t,r),i===null&&u&4&&iy(r),u&512&&Ol(r,r.return);break;case 12:As(t,r);break;case 31:As(t,r),u&4&&cy(t,r);break;case 13:As(t,r),u&4&&hy(t,r),u&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=DS.bind(null,r),QS(t,r))));break;case 22:if(u=r.memoizedState!==null||Ts,!u){i=i!==null&&i.memoizedState!==null||Ze,m=Ts;var p=Ze;Ts=u,(Ze=i)&&!p?Os(t,r,(r.subtreeFlags&8772)!==0):As(t,r),Ts=m,Ze=p}break;case 30:break;default:As(t,r)}}function ly(t){var i=t.alternate;i!==null&&(t.alternate=null,ly(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Zo(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Se=null,Dn=!1;function Es(t,i,r){for(r=r.child;r!==null;)uy(t,i,r),r=r.sibling}function uy(t,i,r){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Ni,r)}catch{}switch(r.tag){case 26:Ze||Wi(r,i),Es(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ze||Wi(r,i);var u=Se,m=Dn;da(r.type)&&(Se=r.stateNode,Dn=!1),Es(t,i,r),jl(r.stateNode),Se=u,Dn=m;break;case 5:Ze||Wi(r,i);case 6:if(u=Se,m=Dn,Se=null,Es(t,i,r),Se=u,Dn=m,Se!==null)if(Dn)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(r.stateNode)}catch(p){le(r,i,p)}else try{Se.removeChild(r.stateNode)}catch(p){le(r,i,p)}break;case 18:Se!==null&&(Dn?(t=Se,ev(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),mo(t)):ev(Se,r.stateNode));break;case 4:u=Se,m=Dn,Se=r.stateNode.containerInfo,Dn=!0,Es(t,i,r),Se=u,Dn=m;break;case 0:case 11:case 14:case 15:ra(2,r,i),Ze||ra(4,r,i),Es(t,i,r);break;case 1:Ze||(Wi(r,i),u=r.stateNode,typeof u.componentWillUnmount=="function"&&ny(r,i,u)),Es(t,i,r);break;case 21:Es(t,i,r);break;case 22:Ze=(u=Ze)||r.memoizedState!==null,Es(t,i,r),Ze=u;break;default:Es(t,i,r)}}function cy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{mo(t)}catch(r){le(i,i.return,r)}}}function hy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{mo(t)}catch(r){le(i,i.return,r)}}function ES(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ry),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ry),i;default:throw Error(o(435,t.tag))}}function Sc(t,i){var r=ES(t);i.forEach(function(u){if(!r.has(u)){r.add(u);var m=PS.bind(null,t,u);u.then(m,m)}})}function Pn(t,i){var r=i.deletions;if(r!==null)for(var u=0;u<r.length;u++){var m=r[u],p=t,w=i,A=w;t:for(;A!==null;){switch(A.tag){case 27:if(da(A.type)){Se=A.stateNode,Dn=!1;break t}break;case 5:Se=A.stateNode,Dn=!1;break t;case 3:case 4:Se=A.stateNode.containerInfo,Dn=!0;break t}A=A.return}if(Se===null)throw Error(o(160));uy(p,w,m),Se=null,Dn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)fy(i,t),i=i.sibling}var Ai=null;function fy(t,i){var r=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Pn(i,t),Nn(t),u&4&&(ra(3,t,t.return),Al(3,t),ra(5,t,t.return));break;case 1:Pn(i,t),Nn(t),u&512&&(Ze||r===null||Wi(r,r.return)),u&64&&Ts&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?u:r.concat(u))));break;case 26:var m=Ai;if(Pn(i,t),Nn(t),u&512&&(Ze||r===null||Wi(r,r.return)),u&4){var p=r!==null?r.memoizedState:null;if(u=t.memoizedState,r===null)if(u===null)if(t.stateNode===null){t:{u=t.type,r=t.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[ka]||p[Ue]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),cn(p,u,r),p[Ue]=t,Ve(p),u=p;break t;case"link":var w=fv("link","href",m).get(u+(r.href||""));if(w){for(var A=0;A<w.length;A++)if(p=w[A],p.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&p.getAttribute("rel")===(r.rel==null?null:r.rel)&&p.getAttribute("title")===(r.title==null?null:r.title)&&p.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){w.splice(A,1);break e}}p=m.createElement(u),cn(p,u,r),m.head.appendChild(p);break;case"meta":if(w=fv("meta","content",m).get(u+(r.content||""))){for(A=0;A<w.length;A++)if(p=w[A],p.getAttribute("content")===(r.content==null?null:""+r.content)&&p.getAttribute("name")===(r.name==null?null:r.name)&&p.getAttribute("property")===(r.property==null?null:r.property)&&p.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&p.getAttribute("charset")===(r.charSet==null?null:r.charSet)){w.splice(A,1);break e}}p=m.createElement(u),cn(p,u,r),m.head.appendChild(p);break;default:throw Error(o(468,u))}p[Ue]=t,Ve(p),u=p}t.stateNode=u}else dv(m,t.type,t.stateNode);else t.stateNode=hv(m,u,t.memoizedProps);else p!==u?(p===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):p.count--,u===null?dv(m,t.type,t.stateNode):hv(m,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Bf(t,t.memoizedProps,r.memoizedProps)}break;case 27:Pn(i,t),Nn(t),u&512&&(Ze||r===null||Wi(r,r.return)),r!==null&&u&4&&Bf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Pn(i,t),Nn(t),u&512&&(Ze||r===null||Wi(r,r.return)),t.flags&32){m=t.stateNode;try{ni(m,"")}catch(bt){le(t,t.return,bt)}}u&4&&t.stateNode!=null&&(m=t.memoizedProps,Bf(t,m,r!==null?r.memoizedProps:m)),u&1024&&(Hf=!0);break;case 6:if(Pn(i,t),Nn(t),u&4){if(t.stateNode===null)throw Error(o(162));u=t.memoizedProps,r=t.stateNode;try{r.nodeValue=u}catch(bt){le(t,t.return,bt)}}break;case 3:if(Bc=null,m=Ai,Ai=jc(i.containerInfo),Pn(i,t),Ai=m,Nn(t),u&4&&r!==null&&r.memoizedState.isDehydrated)try{mo(i.containerInfo)}catch(bt){le(t,t.return,bt)}Hf&&(Hf=!1,dy(t));break;case 4:u=Ai,Ai=jc(t.stateNode.containerInfo),Pn(i,t),Nn(t),Ai=u;break;case 12:Pn(i,t),Nn(t);break;case 31:Pn(i,t),Nn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Sc(t,u)));break;case 13:Pn(i,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Tc=ft()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Sc(t,u)));break;case 22:m=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,G=Ts,J=Ze;if(Ts=G||m,Ze=J||R,Pn(i,t),Ze=J,Ts=G,Nn(t),u&8192)t:for(i=t.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(r===null||R||Ts||Ze||hr(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){R=r=i;try{if(p=R.stateNode,m)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{A=R.stateNode;var et=R.memoizedProps.style,F=et!=null&&et.hasOwnProperty("display")?et.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(bt){le(R,R.return,bt)}}}else if(i.tag===6){if(r===null){R=i;try{R.stateNode.nodeValue=m?"":R.memoizedProps}catch(bt){le(R,R.return,bt)}}}else if(i.tag===18){if(r===null){R=i;try{var Y=R.stateNode;m?nv(Y,!0):nv(R.stateNode,!1)}catch(bt){le(R,R.return,bt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(r=u.retryQueue,r!==null&&(u.retryQueue=null,Sc(t,r))));break;case 19:Pn(i,t),Nn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Sc(t,u)));break;case 30:break;case 21:break;default:Pn(i,t),Nn(t)}}function Nn(t){var i=t.flags;if(i&2){try{for(var r,u=t.return;u!==null;){if(sy(u)){r=u;break}u=u.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var m=r.stateNode,p=Uf(t);wc(t,p,m);break;case 5:var w=r.stateNode;r.flags&32&&(ni(w,""),r.flags&=-33);var A=Uf(t);wc(t,A,w);break;case 3:case 4:var R=r.stateNode.containerInfo,G=Uf(t);Vf(t,G,R);break;default:throw Error(o(161))}}catch(J){le(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function dy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;dy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function As(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)oy(t,i.alternate,i),i=i.sibling}function hr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ra(4,i,i.return),hr(i);break;case 1:Wi(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&ny(i,i.return,r),hr(i);break;case 27:jl(i.stateNode);case 26:case 5:Wi(i,i.return),hr(i);break;case 22:i.memoizedState===null&&hr(i);break;case 30:hr(i);break;default:hr(i)}t=t.sibling}}function Os(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,m=t,p=i,w=p.flags;switch(p.tag){case 0:case 11:case 15:Os(m,p,r),Al(4,p);break;case 1:if(Os(m,p,r),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){le(u,u.return,G)}if(u=p,m=u.updateQueue,m!==null){var A=u.stateNode;try{var R=m.shared.hiddenCallbacks;if(R!==null)for(m.shared.hiddenCallbacks=null,m=0;m<R.length;m++)Zp(R[m],A)}catch(G){le(u,u.return,G)}}r&&w&64&&ey(p),Ol(p,p.return);break;case 27:ay(p);case 26:case 5:Os(m,p,r),r&&u===null&&w&4&&iy(p),Ol(p,p.return);break;case 12:Os(m,p,r);break;case 31:Os(m,p,r),r&&w&4&&cy(m,p);break;case 13:Os(m,p,r),r&&w&4&&hy(m,p);break;case 22:p.memoizedState===null&&Os(m,p,r),Ol(p,p.return);break;case 30:break;default:Os(m,p,r)}i=i.sibling}}function If(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&dl(r))}function qf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&dl(t))}function Oi(t,i,r,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)my(t,i,r,u),i=i.sibling}function my(t,i,r,u){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Oi(t,i,r,u),m&2048&&Al(9,i);break;case 1:Oi(t,i,r,u);break;case 3:Oi(t,i,r,u),m&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&dl(t)));break;case 12:if(m&2048){Oi(t,i,r,u),t=i.stateNode;try{var p=i.memoizedProps,w=p.id,A=p.onPostCommit;typeof A=="function"&&A(w,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){le(i,i.return,R)}}else Oi(t,i,r,u);break;case 31:Oi(t,i,r,u);break;case 13:Oi(t,i,r,u);break;case 23:break;case 22:p=i.stateNode,w=i.alternate,i.memoizedState!==null?p._visibility&2?Oi(t,i,r,u):Cl(t,i):p._visibility&2?Oi(t,i,r,u):(p._visibility|=2,no(t,i,r,u,(i.subtreeFlags&10256)!==0||!1)),m&2048&&If(w,i);break;case 24:Oi(t,i,r,u),m&2048&&qf(i.alternate,i);break;default:Oi(t,i,r,u)}}function no(t,i,r,u,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=t,w=i,A=r,R=u,G=w.flags;switch(w.tag){case 0:case 11:case 15:no(p,w,A,R,m),Al(8,w);break;case 23:break;case 22:var J=w.stateNode;w.memoizedState!==null?J._visibility&2?no(p,w,A,R,m):Cl(p,w):(J._visibility|=2,no(p,w,A,R,m)),m&&G&2048&&If(w.alternate,w);break;case 24:no(p,w,A,R,m),m&&G&2048&&qf(w.alternate,w);break;default:no(p,w,A,R,m)}i=i.sibling}}function Cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,u=i,m=u.flags;switch(u.tag){case 22:Cl(r,u),m&2048&&If(u.alternate,u);break;case 24:Cl(r,u),m&2048&&qf(u.alternate,u);break;default:Cl(r,u)}i=i.sibling}}var Rl=8192;function io(t,i,r){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)py(t,i,r),t=t.sibling}function py(t,i,r){switch(t.tag){case 26:io(t,i,r),t.flags&Rl&&t.memoizedState!==null&&hx(r,Ai,t.memoizedState,t.memoizedProps);break;case 5:io(t,i,r);break;case 3:case 4:var u=Ai;Ai=jc(t.stateNode.containerInfo),io(t,i,r),Ai=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Rl,Rl=16777216,io(t,i,r),Rl=u):io(t,i,r));break;default:io(t,i,r)}}function gy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ll(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var u=i[r];an=u,vy(u,t)}gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yy(t),t=t.sibling}function yy(t){switch(t.tag){case 0:case 11:case 15:Ll(t),t.flags&2048&&ra(9,t,t.return);break;case 3:Ll(t);break;case 12:Ll(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,xc(t)):Ll(t);break;default:Ll(t)}}function xc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var u=i[r];an=u,vy(u,t)}gy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ra(8,i,i.return),xc(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,xc(i));break;default:xc(i)}t=t.sibling}}function vy(t,i){for(;an!==null;){var r=an;switch(r.tag){case 0:case 11:case 15:ra(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var u=r.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:dl(r.memoizedState.cache)}if(u=r.child,u!==null)u.return=r,an=u;else t:for(r=t;an!==null;){u=an;var m=u.sibling,p=u.return;if(ly(u),u===r){an=null;break t}if(m!==null){m.return=p,an=m;break t}an=p}}}var AS={getCacheForType:function(t){var i=ln(He),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return ln(He).controller.signal}},OS=typeof WeakMap=="function"?WeakMap:Map,ae=0,ge=null,$t=null,Wt=0,oe=0,Kn=null,oa=!1,so=!1,Zf=!1,Cs=0,Me=0,la=0,fr=0,Gf=0,Fn=0,ao=0,Ml=null,jn=null,Kf=!1,Tc=0,_y=0,Ec=1/0,Ac=null,ua=null,We=0,ca=null,ro=null,Rs=0,Ff=0,$f=null,by=null,kl=0,Yf=null;function $n(){return(ae&2)!==0&&Wt!==0?Wt&-Wt:$.T!==null?ed():Io()}function wy(){if(Fn===0)if((Wt&536870912)===0||Ft){var t=Ra;Ra<<=1,(Ra&3932160)===0&&(Ra=262144),Fn=t}else Fn=536870912;return t=Zn.current,t!==null&&(t.flags|=32),Fn}function zn(t,i,r){(t===ge&&(oe===2||oe===9)||t.cancelPendingCommit!==null)&&(oo(t,0),ha(t,Wt,Fn,!1)),ls(t,r),((ae&2)===0||t!==ge)&&(t===ge&&((ae&2)===0&&(fr|=r),Me===4&&ha(t,Wt,Fn,!1)),Ji(t))}function Sy(t,i,r){if((ae&6)!==0)throw Error(o(327));var u=!r&&(i&127)===0&&(i&t.expiredLanes)===0||Ma(t,i),m=u?LS(t,i):Wf(t,i,!0),p=u;do{if(m===0){so&&!u&&ha(t,i,0,!1);break}else{if(r=t.current.alternate,p&&!CS(r)){m=Wf(t,i,!1),p=!1;continue}if(m===2){if(p=i,t.errorRecoveryDisabledLanes&p)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;t:{var A=t;m=Ml;var R=A.current.memoizedState.isDehydrated;if(R&&(oo(A,w).flags|=256),w=Wf(A,w,!1),w!==2){if(Zf&&!R){A.errorRecoveryDisabledLanes|=p,fr|=p,m=4;break t}p=jn,jn=m,p!==null&&(jn===null?jn=p:jn.push.apply(jn,p))}m=w}if(p=!1,m!==2)continue}}if(m===1){oo(t,0),ha(t,i,0,!0);break}t:{switch(u=t,p=m,p){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:ha(u,i,Fn,!oa);break t;case 2:jn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(m=Tc+300-ft(),10<m)){if(ha(u,i,Fn,!oa),Or(u,0,!0)!==0)break t;Rs=i,u.timeoutHandle=Qy(xy.bind(null,u,r,jn,Ac,Kf,i,Fn,fr,ao,oa,p,"Throttled",-0,0),m);break t}xy(u,r,jn,Ac,Kf,i,Fn,fr,ao,oa,p,null,-0,0)}}break}while(!0);Ji(t)}function xy(t,i,r,u,m,p,w,A,R,G,J,et,F,Y){if(t.timeoutHandle=-1,et=i.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},py(i,p,et);var bt=(p&62914560)===p?Tc-ft():(p&4194048)===p?_y-ft():0;if(bt=fx(et,bt),bt!==null){Rs=p,t.cancelPendingCommit=bt(My.bind(null,t,i,p,r,u,m,w,A,R,J,et,null,F,Y)),ha(t,p,w,!G);return}}My(t,i,p,r,u,m,w,A,R)}function CS(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var u=0;u<r.length;u++){var m=r[u],p=m.getSnapshot;m=m.value;try{if(!nn(p(),m))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ha(t,i,r,u){i&=~Gf,i&=~fr,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var m=i;0<m;){var p=31-rn(m),w=1<<p;u[p]=-1,m&=~w}r!==0&&Eu(t,r,i)}function Oc(){return(ae&6)===0?(Dl(0),!1):!0}function Xf(){if($t!==null){if(oe===0)var t=$t.return;else t=$t,Ei=Xi=null,ff(t),Wr=null,pl=0,t=$t;for(;t!==null;)ty(t.alternate,t),t=t.return;$t=null}}function oo(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,$S(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Rs=0,Xf(),ge=t,$t=r=ui(t.current,null),Wt=i,oe=0,Kn=null,oa=!1,so=Ma(t,i),Zf=!1,ao=Fn=Gf=fr=la=Me=0,jn=Ml=null,Kf=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var m=31-rn(u),p=1<<m;i|=t[m],u&=~p}return Cs=i,Qa(),r}function Ty(t,i){Ht=null,$.H=xl,i===Xr||i===nc?(i=Vp(),oe=3):i===Qh?(i=Vp(),oe=4):oe=i===Cf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kn=i,$t===null&&(Me=1,gc(t,l(i,t.current)))}function Ey(){var t=Zn.current;return t===null?!0:(Wt&4194048)===Wt?ci===null:(Wt&62914560)===Wt||(Wt&536870912)!==0?t===ci:!1}function Ay(){var t=$.H;return $.H=xl,t===null?xl:t}function Oy(){var t=$.A;return $.A=AS,t}function Cc(){Me=4,oa||(Wt&4194048)!==Wt&&Zn.current!==null||(so=!0),(la&134217727)===0&&(fr&134217727)===0||ge===null||ha(ge,Wt,Fn,!1)}function Wf(t,i,r){var u=ae;ae|=2;var m=Ay(),p=Oy();(ge!==t||Wt!==i)&&(Ac=null,oo(t,i)),i=!1;var w=Me;t:do try{if(oe!==0&&$t!==null){var A=$t,R=Kn;switch(oe){case 8:Xf(),w=6;break t;case 3:case 2:case 9:case 6:Zn.current===null&&(i=!0);var G=oe;if(oe=0,Kn=null,lo(t,A,R,G),r&&so){w=0;break t}break;default:G=oe,oe=0,Kn=null,lo(t,A,R,G)}}RS(),w=Me;break}catch(J){Ty(t,J)}while(!0);return i&&t.shellSuspendCounter++,Ei=Xi=null,ae=u,$.H=m,$.A=p,$t===null&&(ge=null,Wt=0,Qa()),w}function RS(){for(;$t!==null;)Cy($t)}function LS(t,i){var r=ae;ae|=2;var u=Ay(),m=Oy();ge!==t||Wt!==i?(Ac=null,Ec=ft()+500,oo(t,i)):so=Ma(t,i);t:do try{if(oe!==0&&$t!==null){i=$t;var p=Kn;e:switch(oe){case 1:oe=0,Kn=null,lo(t,i,p,1);break;case 2:case 9:if(Bp(p)){oe=0,Kn=null,Ry(i);break}i=function(){oe!==2&&oe!==9||ge!==t||(oe=7),Ji(t)},p.then(i,i);break t;case 3:oe=7;break t;case 4:oe=5;break t;case 7:Bp(p)?(oe=0,Kn=null,Ry(i)):(oe=0,Kn=null,lo(t,i,p,7));break;case 5:var w=null;switch($t.tag){case 26:w=$t.memoizedState;case 5:case 27:var A=$t;if(w?mv(w):A.stateNode.complete){oe=0,Kn=null;var R=A.sibling;if(R!==null)$t=R;else{var G=A.return;G!==null?($t=G,Rc(G)):$t=null}break e}}oe=0,Kn=null,lo(t,i,p,5);break;case 6:oe=0,Kn=null,lo(t,i,p,6);break;case 8:Xf(),Me=6;break t;default:throw Error(o(462))}}MS();break}catch(J){Ty(t,J)}while(!0);return Ei=Xi=null,$.H=u,$.A=m,ae=r,$t!==null?0:(ge=null,Wt=0,Qa(),Me)}function MS(){for(;$t!==null&&!q();)Cy($t)}function Cy(t){var i=Jg(t.alternate,t,Cs);t.memoizedProps=t.pendingProps,i===null?Rc(t):$t=i}function Ry(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=Kg(r,i,i.pendingProps,i.type,void 0,Wt);break;case 11:i=Kg(r,i,i.pendingProps,i.type.render,i.ref,Wt);break;case 5:ff(i);default:ty(r,i),i=$t=ll(i,Cs),i=Jg(r,i,Cs)}t.memoizedProps=t.pendingProps,i===null?Rc(t):$t=i}function lo(t,i,r,u){Ei=Xi=null,ff(i),Wr=null,pl=0;var m=i.return;try{if(_S(t,m,i,r,Wt)){Me=1,gc(t,l(r,t.current)),$t=null;return}}catch(p){if(m!==null)throw $t=m,p;Me=1,gc(t,l(r,t.current)),$t=null;return}i.flags&32768?(Ft||u===1?t=!0:so||(Wt&536870912)!==0?t=!1:(oa=t=!0,(u===2||u===9||u===3||u===6)&&(u=Zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ly(i,t)):Rc(i)}function Rc(t){var i=t;do{if((i.flags&32768)!==0){Ly(i,oa);return}t=i.return;var r=SS(i.alternate,i,Cs);if(r!==null){$t=r;return}if(i=i.sibling,i!==null){$t=i;return}$t=i=t}while(i!==null);Me===0&&(Me=5)}function Ly(t,i){do{var r=xS(t.alternate,t);if(r!==null){r.flags&=32767,$t=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){$t=t;return}$t=t=r}while(t!==null);Me=6,$t=null}function My(t,i,r,u,m,p,w,A,R){t.cancelPendingCommit=null;do Lc();while(We!==0);if((ae&6)!==0)throw Error(o(327));if(i!==null){if(i===t.current)throw Error(o(177));if(p=i.lanes|i.childLanes,p|=qr,kh(t,r,p,w,A,R),t===ge&&($t=ge=null,Wt=0),ro=i,ca=t,Rs=r,Ff=p,$f=m,by=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,NS(Gt,function(){return jy(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,m=nt.p,nt.p=2,w=ae,ae|=4;try{TS(t,i,r)}finally{ae=w,nt.p=m,$.T=u}}We=1,ky(),Dy(),Py()}}function ky(){if(We===1){We=0;var t=ca,i=ro,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=$.T,$.T=null;var u=nt.p;nt.p=2;var m=ae;ae|=4;try{fy(i,t);var p=ud,w=$a(t.containerInfo),A=p.focusedElem,R=p.selectionRange;if(w!==A&&A&&A.ownerDocument&&Ur(A.ownerDocument.documentElement,A)){if(R!==null&&qi(A)){var G=R.start,J=R.end;if(J===void 0&&(J=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(J,A.value.length);else{var et=A.ownerDocument||document,F=et&&et.defaultView||window;if(F.getSelection){var Y=F.getSelection(),bt=A.textContent.length,Lt=Math.min(R.start,bt),de=R.end===void 0?Lt:Math.min(R.end,bt);!Y.extend&&Lt>de&&(w=de,de=Lt,Lt=w);var B=Fa(A,Lt),j=Fa(A,de);if(B&&j&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==j.node||Y.focusOffset!==j.offset)){var Z=et.createRange();Z.setStart(B.node,B.offset),Y.removeAllRanges(),Lt>de?(Y.addRange(Z),Y.extend(j.node,j.offset)):(Z.setEnd(j.node,j.offset),Y.addRange(Z))}}}}for(et=[],Y=A;Y=Y.parentNode;)Y.nodeType===1&&et.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<et.length;A++){var Q=et[A];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ic=!!ld,ud=ld=null}finally{ae=m,nt.p=u,$.T=r}}t.current=i,We=2}}function Dy(){if(We===2){We=0;var t=ca,i=ro,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=$.T,$.T=null;var u=nt.p;nt.p=2;var m=ae;ae|=4;try{oy(t,i.alternate,i)}finally{ae=m,nt.p=u,$.T=r}}We=3}}function Py(){if(We===4||We===3){We=0,X();var t=ca,i=ro,r=Rs,u=by;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?We=5:(We=0,ro=ca=null,Ny(t,t.pendingLanes));var m=t.pendingLanes;if(m===0&&(ua=null),At(r),i=i.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Ni,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=$.T,m=nt.p,nt.p=2,$.T=null;try{for(var p=t.onRecoverableError,w=0;w<u.length;w++){var A=u[w];p(A.value,{componentStack:A.stack})}}finally{$.T=i,nt.p=m}}(Rs&3)!==0&&Lc(),Ji(t),m=t.pendingLanes,(r&261930)!==0&&(m&42)!==0?t===Yf?kl++:(kl=0,Yf=t):kl=0,Dl(0)}}function Ny(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,dl(i)))}function Lc(){return ky(),Dy(),Py(),jy()}function jy(){if(We!==5)return!1;var t=ca,i=Ff;Ff=0;var r=At(Rs),u=$.T,m=nt.p;try{nt.p=32>r?32:r,$.T=null,r=$f,$f=null;var p=ca,w=Rs;if(We=0,ro=ca=null,Rs=0,(ae&6)!==0)throw Error(o(331));var A=ae;if(ae|=4,yy(p.current),my(p,p.current,w,r),ae=A,Dl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Ni,p)}catch{}return!0}finally{nt.p=m,$.T=u,Ny(t,i)}}function zy(t,i,r){i=l(r,i),i=Of(t.stateNode,i,2),t=ia(t,i,2),t!==null&&(ls(t,2),Ji(t))}function le(t,i,r){if(t.tag===3)zy(t,t,r);else for(;i!==null;){if(i.tag===3){zy(i,t,r);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ua===null||!ua.has(u))){t=l(r,t),r=Bg(2),u=ia(i,r,2),u!==null&&(Ug(r,u,i,t),ls(u,2),Ji(u));break}}i=i.return}}function Jf(t,i,r){var u=t.pingCache;if(u===null){u=t.pingCache=new OS;var m=new Set;u.set(i,m)}else m=u.get(i),m===void 0&&(m=new Set,u.set(i,m));m.has(r)||(Zf=!0,m.add(r),t=kS.bind(null,t,i,r),i.then(t,t))}function kS(t,i,r){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ge===t&&(Wt&r)===r&&(Me===4||Me===3&&(Wt&62914560)===Wt&&300>ft()-Tc?(ae&2)===0&&oo(t,0):Gf|=r,ao===Wt&&(ao=0)),Ji(t)}function By(t,i){i===0&&(i=Tu()),t=li(t,i),t!==null&&(ls(t,i),Ji(t))}function DS(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),By(t,r)}function PS(t,i){var r=0;switch(t.tag){case 31:case 13:var u=t.stateNode,m=t.memoizedState;m!==null&&(r=m.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(i),By(t,r)}function NS(t,i){return rs(t,i)}var Mc=null,uo=null,Qf=!1,kc=!1,td=!1,fa=0;function Ji(t){t!==uo&&t.next===null&&(uo===null?Mc=uo=t:uo=uo.next=t),kc=!0,Qf||(Qf=!0,zS())}function Dl(t,i){if(!td&&kc){td=!0;do for(var r=!1,u=Mc;u!==null;){if(t!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var w=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-rn(42|t)+1)-1,p&=m&~(w&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(r=!0,Iy(u,p))}else p=Wt,p=Or(u,u===ge?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Ma(u,p)||(r=!0,Iy(u,p));u=u.next}while(r);td=!1}}function jS(){Uy()}function Uy(){kc=Qf=!1;var t=0;fa!==0&&FS()&&(t=fa);for(var i=ft(),r=null,u=Mc;u!==null;){var m=u.next,p=Vy(u,i);p===0?(u.next=null,r===null?Mc=m:r.next=m,m===null&&(uo=r)):(r=u,(t!==0||(p&3)!==0)&&(kc=!0)),u=m}We!==0&&We!==5||Dl(t),fa!==0&&(fa=0)}function Vy(t,i){for(var r=t.suspendedLanes,u=t.pingedLanes,m=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var w=31-rn(p),A=1<<w,R=m[w];R===-1?((A&r)===0||(A&u)!==0)&&(m[w]=Mh(A,i)):R<=i&&(t.expiredLanes|=A),p&=~A}if(i=ge,r=Wt,r=Or(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,r===0||t===i&&(oe===2||oe===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&D(u),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ma(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(u!==null&&D(u),At(r)){case 2:case 8:r=Et;break;case 32:r=Gt;break;case 268435456:r=Ne;break;default:r=Gt}return u=Hy.bind(null,t),r=rs(r,u),t.callbackPriority=i,t.callbackNode=r,i}return u!==null&&u!==null&&D(u),t.callbackPriority=2,t.callbackNode=null,2}function Hy(t,i){if(We!==0&&We!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Lc()&&t.callbackNode!==r)return null;var u=Wt;return u=Or(t,t===ge?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Sy(t,u,i),Vy(t,ft()),t.callbackNode!=null&&t.callbackNode===r?Hy.bind(null,t):null)}function Iy(t,i){if(Lc())return null;Sy(t,i,!0)}function zS(){YS(function(){(ae&6)!==0?rs(ot,jS):Uy()})}function ed(){if(fa===0){var t=$r;t===0&&(t=Ca,Ca<<=1,(Ca&261888)===0&&(Ca=256)),fa=t}return fa}function qy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hs(""+t)}function Zy(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function BS(t,i,r,u,m){if(i==="submit"&&r&&r.stateNode===m){var p=qy((m[en]||null).action),w=u.submitter;w&&(i=(i=w[en]||null)?qy(i.formAction):w.getAttribute("formAction"),i!==null&&(p=i,w=null));var A=new kr("action","action",null,u,m);t.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(fa!==0){var R=w?Zy(m,w):new FormData(m);wf(r,{pending:!0,data:R,method:m.method,action:p},null,R)}}else typeof p=="function"&&(A.preventDefault(),R=w?Zy(m,w):new FormData(m),wf(r,{pending:!0,data:R,method:m.method,action:p},p,R))},currentTarget:m}]})}}for(var nd=0;nd<Ki.length;nd++){var id=Ki[nd],US=id.toLowerCase(),VS=id[0].toUpperCase()+id.slice(1);Ln(US,"on"+VS)}Ln(Xa,"onAnimationEnd"),Ln(Xu,"onAnimationIteration"),Ln(Wa,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Gh,"onTransitionRun"),Ln(Wu,"onTransitionStart"),Ln(Kh,"onTransitionCancel"),Ln(Js,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function Gy(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var u=t[r],m=u.event;u=u.listeners;t:{var p=void 0;if(i)for(var w=u.length-1;0<=w;w--){var A=u[w],R=A.instance,G=A.currentTarget;if(A=A.listener,R!==p&&m.isPropagationStopped())break t;p=A,m.currentTarget=G;try{p(m)}catch(J){Ja(J)}m.currentTarget=null,p=R}else for(w=0;w<u.length;w++){if(A=u[w],R=A.instance,G=A.currentTarget,A=A.listener,R!==p&&m.isPropagationStopped())break t;p=A,m.currentTarget=G;try{p(m)}catch(J){Ja(J)}m.currentTarget=null,p=R}}}}function Yt(t,i){var r=i[zi];r===void 0&&(r=i[zi]=new Set);var u=t+"__bubble";r.has(u)||(Ky(i,t,2,!1),r.add(u))}function sd(t,i,r){var u=0;i&&(u|=4),Ky(r,t,u,i)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function ad(t){if(!t[Dc]){t[Dc]=!0,Lu.forEach(function(r){r!=="selectionchange"&&(HS.has(r)||sd(r,!1,t),sd(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Dc]||(i[Dc]=!0,sd("selectionchange",!1,i))}}function Ky(t,i,r,u){switch(wv(i)){case 2:var m=px;break;case 8:m=gx;break;default:m=bd}r=m.bind(null,i,r,t),m=void 0,!Ba||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),u?m!==void 0?t.addEventListener(i,r,{capture:!0,passive:m}):t.addEventListener(i,r,!0):m!==void 0?t.addEventListener(i,r,{passive:m}):t.addEventListener(i,r,!1)}function rd(t,i,r,u,m){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var A=u.stateNode.containerInfo;if(A===m)break;if(w===4)for(w=u.return;w!==null;){var R=w.tag;if((R===3||R===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;A!==null;){if(w=cs(A),w===null)return;if(R=w.tag,R===5||R===6||R===26||R===27){u=p=w;continue t}A=A.parentNode}}u=u.return}Wo(function(){var G=p,J=za(r),et=[];t:{var F=Ju.get(t);if(F!==void 0){var Y=kr,bt=t;switch(t){case"keypress":if(Ua(r)===0)break t;case"keydown":case"keyup":Y=Bu;break;case"focusin":bt="focus",Y=tl;break;case"focusout":bt="blur",Y=tl;break;case"beforeblur":case"afterblur":Y=tl;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Uh;break;case Xa:case Xu:case Wa:Y=el;break;case Js:Y=Hu;break;case"scroll":case"scrollend":Y=Xt;break;case"wheel":Y=ps;break;case"copy":case"cut":case"paste":Y=si;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Uu;break;case"toggle":case"beforetoggle":Y=Ia}var Lt=(i&4)!==0,de=!Lt&&(t==="scroll"||t==="scrollend"),B=Lt?F!==null?F+"Capture":null:F;Lt=[];for(var j=G,Z;j!==null;){var Q=j;if(Z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||Z===null||B===null||(Q=ds(j,B),Q!=null&&Lt.push(Nl(j,Q,Z))),de)break;j=j.return}0<Lt.length&&(F=new Y(F,bt,null,r,J),et.push({event:F,listeners:Lt}))}}if((i&7)===0){t:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&r!==Mr&&(bt=r.relatedTarget||r.fromElement)&&(cs(bt)||bt[us]))break t;if((Y||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(bt=r.relatedTarget||r.toElement,Y=G,bt=bt?cs(bt):null,bt!==null&&(de=h(bt),Lt=bt.tag,bt!==de||Lt!==5&&Lt!==27&&Lt!==6)&&(bt=null)):(Y=null,bt=G),Y!==bt)){if(Lt=Du,Q="onMouseLeave",B="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(Lt=Uu,Q="onPointerLeave",B="onPointerEnter",j="pointer"),de=Y==null?F:Bi(Y),Z=bt==null?F:Bi(bt),F=new Lt(Q,j+"leave",Y,r,J),F.target=de,F.relatedTarget=Z,Q=null,cs(J)===G&&(Lt=new Lt(B,j+"enter",bt,r,J),Lt.target=Z,Lt.relatedTarget=de,Q=Lt),de=Q,Y&&bt)e:{for(Lt=IS,B=Y,j=bt,Z=0,Q=B;Q;Q=Lt(Q))Z++;Q=0;for(var Rt=j;Rt;Rt=Lt(Rt))Q++;for(;0<Z-Q;)B=Lt(B),Z--;for(;0<Q-Z;)j=Lt(j),Q--;for(;Z--;){if(B===j||j!==null&&B===j.alternate){Lt=B;break e}B=Lt(B),j=Lt(j)}Lt=null}else Lt=null;Y!==null&&Fy(et,F,Y,Lt,!1),bt!==null&&de!==null&&Fy(et,de,bt,Lt,!0)}}t:{if(F=G?Bi(G):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var ie=Ka;else if(ai(F))if(Gu)ie=Zh;else{ie=qh;var xt=Si}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?G&&ja(G.elementType)&&(ie=Ka):ie=$s;if(ie&&(ie=ie(t,G))){Zu(et,ie,r,J);break t}xt&&xt(t,F,G),t==="focusout"&&G&&F.type==="number"&&G.memoizedProps.value!=null&&_i(F,"number",F.value)}switch(xt=G?Bi(G):window,t){case"focusin":(ai(xt)||xt.contentEditable==="true")&&(Zi=xt,Hr=G,Ya=null);break;case"focusout":Ya=Hr=Zi=null;break;case"mousedown":Xs=!0;break;case"contextmenu":case"mouseup":case"dragend":Xs=!1,$u(et,r,J);break;case"selectionchange":if(Vr)break;case"keydown":case"keyup":$u(et,r,J)}var Zt;if(Pr)t:{switch(t){case"compositionstart":var Jt="onCompositionStart";break t;case"compositionend":Jt="onCompositionEnd";break t;case"compositionupdate":Jt="onCompositionUpdate";break t}Jt=void 0}else Gs?qu(t,r)&&(Jt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Jt="onCompositionStart");Jt&&(Nr&&r.locale!=="ko"&&(Gs||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&Gs&&(Zt=Hi()):(ii=J,ms="value"in ii?ii.value:ii.textContent,Gs=!0)),xt=Pc(G,Jt),0<xt.length&&(Jt=new nl(Jt,t,null,r,J),et.push({event:Jt,listeners:xt}),Zt?Jt.data=Zt:(Zt=rl(r),Zt!==null&&(Jt.data=Zt)))),(Zt=Hh?qn(t,r):Ks(t,r))&&(Jt=Pc(G,"onBeforeInput"),0<Jt.length&&(xt=new nl("onBeforeInput","beforeinput",null,r,J),et.push({event:xt,listeners:Jt}),xt.data=Zt)),BS(et,t,G,r,J)}Gy(et,i)})}function Nl(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Pc(t,i){for(var r=i+"Capture",u=[];t!==null;){var m=t,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=ds(t,r),m!=null&&u.unshift(Nl(t,m,p)),m=ds(t,i),m!=null&&u.push(Nl(t,m,p))),t.tag===3)return u;t=t.return}return[]}function IS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fy(t,i,r,u,m){for(var p=i._reactName,w=[];r!==null&&r!==u;){var A=r,R=A.alternate,G=A.stateNode;if(A=A.tag,R!==null&&R===u)break;A!==5&&A!==26&&A!==27||G===null||(R=G,m?(G=ds(r,p),G!=null&&w.unshift(Nl(r,G,R))):m||(G=ds(r,p),G!=null&&w.push(Nl(r,G,R)))),r=r.return}w.length!==0&&t.push({event:i,listeners:w})}var qS=/\r\n?/g,ZS=/\u0000|\uFFFD/g;function $y(t){return(typeof t=="string"?t:""+t).replace(qS,`
`).replace(ZS,"")}function Yy(t,i){return i=$y(i),$y(t)===i}function fe(t,i,r,u,m,p){switch(r){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||ni(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&ni(t,""+u);break;case"className":ce(t,"class",u);break;case"tabIndex":ce(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ce(t,r,u);break;case"style":Rr(t,u,p);break;case"data":if(i!=="object"){ce(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(r);break}u=Hs(""+u),t.setAttribute(r,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(r==="formAction"?(i!=="input"&&fe(t,i,"name",m.name,m,null),fe(t,i,"formEncType",m.formEncType,m,null),fe(t,i,"formMethod",m.formMethod,m,null),fe(t,i,"formTarget",m.formTarget,m,null)):(fe(t,i,"encType",m.encType,m,null),fe(t,i,"method",m.method,m,null),fe(t,i,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(r);break}u=Hs(""+u),t.setAttribute(r,u);break;case"onClick":u!=null&&(t.onclick=Cn);break;case"onScroll":u!=null&&Yt("scroll",t);break;case"onScrollEnd":u!=null&&Yt("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(r=u.__html,r!=null){if(m.children!=null)throw Error(o(60));t.innerHTML=r}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}r=Hs(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,""+u):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":u===!0?t.setAttribute(r,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(r,u):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(r,u):t.removeAttribute(r);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(r):t.setAttribute(r,u);break;case"popover":Yt("beforetoggle",t),Yt("toggle",t),Kt(t,"popover",u);break;case"xlinkActuate":On(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":On(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":On(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":On(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":On(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":On(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":On(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":On(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":On(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Kt(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Lr.get(r)||r,Kt(t,r,u))}}function od(t,i,r,u,m,p){switch(r){case"style":Rr(t,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(r=u.__html,r!=null){if(m.children!=null)throw Error(o(60));t.innerHTML=r}}break;case"children":typeof u=="string"?ni(t,u):(typeof u=="number"||typeof u=="bigint")&&ni(t,""+u);break;case"onScroll":u!=null&&Yt("scroll",t);break;case"onScrollEnd":u!=null&&Yt("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mu.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(m=r.endsWith("Capture"),i=r.slice(2,m?r.length-7:void 0),p=t[en]||null,p=p!=null?p[r]:null,typeof p=="function"&&t.removeEventListener(i,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,u,m);break t}r in t?t[r]=u:u===!0?t.setAttribute(r,""):Kt(t,r,u)}}}function cn(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",t),Yt("load",t);var u=!1,m=!1,p;for(p in r)if(r.hasOwnProperty(p)){var w=r[p];if(w!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:fe(t,i,p,w,r,null)}}m&&fe(t,i,"srcSet",r.srcSet,r,null),u&&fe(t,i,"src",r.src,r,null);return;case"input":Yt("invalid",t);var A=p=w=m=null,R=null,G=null;for(u in r)if(r.hasOwnProperty(u)){var J=r[u];if(J!=null)switch(u){case"name":m=J;break;case"type":w=J;break;case"checked":R=J;break;case"defaultChecked":G=J;break;case"value":p=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,i));break;default:fe(t,i,u,J,r,null)}}Na(t,p,A,R,G,w,m,!1);return;case"select":Yt("invalid",t),u=w=p=null;for(m in r)if(r.hasOwnProperty(m)&&(A=r[m],A!=null))switch(m){case"value":p=A;break;case"defaultValue":w=A;break;case"multiple":u=A;default:fe(t,i,m,A,r,null)}i=p,r=w,t.multiple=!!u,i!=null?pe(t,!!u,i,!1):r!=null&&pe(t,!!u,r,!0);return;case"textarea":Yt("invalid",t),p=m=u=null;for(w in r)if(r.hasOwnProperty(w)&&(A=r[w],A!=null))switch(w){case"value":u=A;break;case"defaultValue":m=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(o(91));break;default:fe(t,i,w,A,r,null)}Us(t,u,m,p);return;case"option":for(R in r)r.hasOwnProperty(R)&&(u=r[R],u!=null)&&(R==="selected"?t.selected=u&&typeof u!="function"&&typeof u!="symbol":fe(t,i,R,u,r,null));return;case"dialog":Yt("beforetoggle",t),Yt("toggle",t),Yt("cancel",t),Yt("close",t);break;case"iframe":case"object":Yt("load",t);break;case"video":case"audio":for(u=0;u<Pl.length;u++)Yt(Pl[u],t);break;case"image":Yt("error",t),Yt("load",t);break;case"details":Yt("toggle",t);break;case"embed":case"source":case"link":Yt("error",t),Yt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in r)if(r.hasOwnProperty(G)&&(u=r[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:fe(t,i,G,u,r,null)}return;default:if(ja(i)){for(J in r)r.hasOwnProperty(J)&&(u=r[J],u!==void 0&&od(t,i,J,u,r,void 0));return}}for(A in r)r.hasOwnProperty(A)&&(u=r[A],u!=null&&fe(t,i,A,u,r,null))}function GS(t,i,r,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,w=null,A=null,R=null,G=null,J=null;for(Y in r){var et=r[Y];if(r.hasOwnProperty(Y)&&et!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":R=et;default:u.hasOwnProperty(Y)||fe(t,i,Y,null,u,et)}}for(var F in u){var Y=u[F];if(et=r[F],u.hasOwnProperty(F)&&(Y!=null||et!=null))switch(F){case"type":p=Y;break;case"name":m=Y;break;case"checked":G=Y;break;case"defaultChecked":J=Y;break;case"value":w=Y;break;case"defaultValue":A=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(o(137,i));break;default:Y!==et&&fe(t,i,F,Y,u,et)}}$o(t,w,A,R,G,J,p,m);return;case"select":Y=w=A=F=null;for(p in r)if(R=r[p],r.hasOwnProperty(p)&&R!=null)switch(p){case"value":break;case"multiple":Y=R;default:u.hasOwnProperty(p)||fe(t,i,p,null,u,R)}for(m in u)if(p=u[m],R=r[m],u.hasOwnProperty(m)&&(p!=null||R!=null))switch(m){case"value":F=p;break;case"defaultValue":A=p;break;case"multiple":w=p;default:p!==R&&fe(t,i,m,p,u,R)}i=A,r=w,u=Y,F!=null?pe(t,!!r,F,!1):!!u!=!!r&&(i!=null?pe(t,!!r,i,!0):pe(t,!!r,r?[]:"",!1));return;case"textarea":Y=F=null;for(A in r)if(m=r[A],r.hasOwnProperty(A)&&m!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:fe(t,i,A,null,u,m)}for(w in u)if(m=u[w],p=r[w],u.hasOwnProperty(w)&&(m!=null||p!=null))switch(w){case"value":F=m;break;case"defaultValue":Y=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:m!==p&&fe(t,i,w,m,u,p)}Vi(t,F,Y);return;case"option":for(var bt in r)F=r[bt],r.hasOwnProperty(bt)&&F!=null&&!u.hasOwnProperty(bt)&&(bt==="selected"?t.selected=!1:fe(t,i,bt,null,u,F));for(R in u)F=u[R],Y=r[R],u.hasOwnProperty(R)&&F!==Y&&(F!=null||Y!=null)&&(R==="selected"?t.selected=F&&typeof F!="function"&&typeof F!="symbol":fe(t,i,R,F,u,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in r)F=r[Lt],r.hasOwnProperty(Lt)&&F!=null&&!u.hasOwnProperty(Lt)&&fe(t,i,Lt,null,u,F);for(G in u)if(F=u[G],Y=r[G],u.hasOwnProperty(G)&&F!==Y&&(F!=null||Y!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,i));break;default:fe(t,i,G,F,u,Y)}return;default:if(ja(i)){for(var de in r)F=r[de],r.hasOwnProperty(de)&&F!==void 0&&!u.hasOwnProperty(de)&&od(t,i,de,void 0,u,F);for(J in u)F=u[J],Y=r[J],!u.hasOwnProperty(J)||F===Y||F===void 0&&Y===void 0||od(t,i,J,F,u,Y);return}}for(var B in r)F=r[B],r.hasOwnProperty(B)&&F!=null&&!u.hasOwnProperty(B)&&fe(t,i,B,null,u,F);for(et in u)F=u[et],Y=r[et],!u.hasOwnProperty(et)||F===Y||F==null&&Y==null||fe(t,i,et,F,u,Y)}function Xy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),u=0;u<r.length;u++){var m=r[u],p=m.transferSize,w=m.initiatorType,A=m.duration;if(p&&A&&Xy(w)){for(w=0,A=m.responseEnd,u+=1;u<r.length;u++){var R=r[u],G=R.startTime;if(G>A)break;var J=R.transferSize,et=R.initiatorType;J&&Xy(et)&&(R=R.responseEnd,w+=J*(R<A?1:(A-G)/(R-G)))}if(--u,i+=8*(p+w)/(m.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ld=null,ud=null;function Nc(t){return t.nodeType===9?t:t.ownerDocument}function Wy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function cd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var hd=null;function FS(){var t=window.event;return t&&t.type==="popstate"?t===hd?!1:(hd=t,!0):(hd=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,$S=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,YS=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(t){return tv.resolve(null).then(t).catch(XS)}:Qy;function XS(t){setTimeout(function(){throw t})}function da(t){return t==="head"}function ev(t,i){var r=i,u=0;do{var m=r.nextSibling;if(t.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"||r==="/&"){if(u===0){t.removeChild(m),mo(i);return}u--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")u++;else if(r==="html")jl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,jl(r);for(var p=r.firstChild;p;){var w=p.nextSibling,A=p.nodeName;p[ka]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||r.removeChild(p),p=w}}else r==="body"&&jl(t.ownerDocument.body);r=m}while(r);mo(i)}function nv(t,i){var r=t;t=0;do{var u=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=u}while(r)}function fd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":fd(r),Zo(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function WS(t,i,r,u){for(;t.nodeType===1;){var m=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[ka])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==m.rel||t.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||t.getAttribute("title")!==(m.title==null?null:m.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(m.src==null?null:m.src)||t.getAttribute("type")!==(m.type==null?null:m.type)||t.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=hi(t.nextSibling),t===null)break}return null}function JS(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=hi(t.nextSibling),t===null))return null;return t}function iv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=hi(t.nextSibling),t===null))return null;return t}function dd(t){return t.data==="$?"||t.data==="$~"}function md(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function QS(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var u=function(){i(),r.removeEventListener("DOMContentLoaded",u)};r.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function hi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var pd=null;function sv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return hi(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function av(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function rv(t,i,r){switch(i=Nc(r),t){case"html":if(t=i.documentElement,!t)throw Error(o(452));return t;case"head":if(t=i.head,!t)throw Error(o(453));return t;case"body":if(t=i.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function jl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Zo(t)}var fi=new Map,ov=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ls=nt.d;nt.d={f:tx,r:ex,D:nx,C:ix,L:sx,m:ax,X:ox,S:rx,M:lx};function tx(){var t=Ls.f(),i=Oc();return t||i}function ex(t){var i=js(t);i!==null&&i.tag===5&&i.type==="form"?Tg(i):Ls.r(t)}var co=typeof document>"u"?null:document;function lv(t,i,r){var u=co;if(u&&typeof i=="string"&&i){var m=ve(i);m='link[rel="'+t+'"][href="'+m+'"]',typeof r=="string"&&(m+='[crossorigin="'+r+'"]'),ov.has(m)||(ov.add(m),t={rel:t,crossOrigin:r,href:i},u.querySelector(m)===null&&(i=u.createElement("link"),cn(i,"link",t),Ve(i),u.head.appendChild(i)))}}function nx(t){Ls.D(t),lv("dns-prefetch",t,null)}function ix(t,i){Ls.C(t,i),lv("preconnect",t,i)}function sx(t,i,r){Ls.L(t,i,r);var u=co;if(u&&t&&i){var m='link[rel="preload"][as="'+ve(i)+'"]';i==="image"&&r&&r.imageSrcSet?(m+='[imagesrcset="'+ve(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(m+='[imagesizes="'+ve(r.imageSizes)+'"]')):m+='[href="'+ve(t)+'"]';var p=m;switch(i){case"style":p=ho(t);break;case"script":p=fo(t)}fi.has(p)||(t=x({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),fi.set(p,t),u.querySelector(m)!==null||i==="style"&&u.querySelector(zl(p))||i==="script"&&u.querySelector(Bl(p))||(i=u.createElement("link"),cn(i,"link",t),Ve(i),u.head.appendChild(i)))}}function ax(t,i){Ls.m(t,i);var r=co;if(r&&t){var u=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+ve(u)+'"][href="'+ve(t)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=fo(t)}if(!fi.has(p)&&(t=x({rel:"modulepreload",href:t},i),fi.set(p,t),r.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Bl(p)))return}u=r.createElement("link"),cn(u,"link",t),Ve(u),r.head.appendChild(u)}}}function rx(t,i,r){Ls.S(t,i,r);var u=co;if(u&&t){var m=zs(u).hoistableStyles,p=ho(t);i=i||"default";var w=m.get(p);if(!w){var A={loading:0,preload:null};if(w=u.querySelector(zl(p)))A.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},r),(r=fi.get(p))&&gd(t,r);var R=w=u.createElement("link");Ve(R),cn(R,"link",t),R._p=new Promise(function(G,J){R.onload=G,R.onerror=J}),R.addEventListener("load",function(){A.loading|=1}),R.addEventListener("error",function(){A.loading|=2}),A.loading|=4,zc(w,i,u)}w={type:"stylesheet",instance:w,count:1,state:A},m.set(p,w)}}}function ox(t,i){Ls.X(t,i);var r=co;if(r&&t){var u=zs(r).hoistableScripts,m=fo(t),p=u.get(m);p||(p=r.querySelector(Bl(m)),p||(t=x({src:t,async:!0},i),(i=fi.get(m))&&yd(t,i),p=r.createElement("script"),Ve(p),cn(p,"link",t),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function lx(t,i){Ls.M(t,i);var r=co;if(r&&t){var u=zs(r).hoistableScripts,m=fo(t),p=u.get(m);p||(p=r.querySelector(Bl(m)),p||(t=x({src:t,async:!0,type:"module"},i),(i=fi.get(m))&&yd(t,i),p=r.createElement("script"),Ve(p),cn(p,"link",t),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function uv(t,i,r,u){var m=(m=yt.current)?jc(m):null;if(!m)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=ho(r.href),r=zs(m).hoistableStyles,u=r.get(i),u||(u={type:"style",instance:null,count:0,state:null},r.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ho(r.href);var p=zs(m).hoistableStyles,w=p.get(t);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,w),(p=m.querySelector(zl(t)))&&!p._p&&(w.instance=p,w.state.loading=5),fi.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},fi.set(t,r),p||ux(m,t,r,w.state))),i&&u===null)throw Error(o(528,""));return w}if(i&&u!==null)throw Error(o(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fo(r),r=zs(m).hoistableScripts,u=r.get(i),u||(u={type:"script",instance:null,count:0,state:null},r.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function ho(t){return'href="'+ve(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function cv(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function ux(t,i,r,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),cn(i,"link",r),Ve(i),t.head.appendChild(i))}function fo(t){return'[src="'+ve(t)+'"]'}function Bl(t){return"script[async]"+t}function hv(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+ve(r.href)+'"]');if(u)return i.instance=u,Ve(u),u;var m=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Ve(u),cn(u,"style",m),zc(u,r.precedence,t),i.instance=u;case"stylesheet":m=ho(r.href);var p=t.querySelector(zl(m));if(p)return i.state.loading|=4,i.instance=p,Ve(p),p;u=cv(r),(m=fi.get(m))&&gd(u,m),p=(t.ownerDocument||t).createElement("link"),Ve(p);var w=p;return w._p=new Promise(function(A,R){w.onload=A,w.onerror=R}),cn(p,"link",u),i.state.loading|=4,zc(p,r.precedence,t),i.instance=p;case"script":return p=fo(r.src),(m=t.querySelector(Bl(p)))?(i.instance=m,Ve(m),m):(u=r,(m=fi.get(p))&&(u=x({},r),yd(u,m)),t=t.ownerDocument||t,m=t.createElement("script"),Ve(m),cn(m,"link",u),t.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,zc(u,r.precedence,t));return i.instance}function zc(t,i,r){for(var u=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,w=0;w<u.length;w++){var A=u[w];if(A.dataset.precedence===i)p=A;else if(p!==m)break}p?p.parentNode.insertBefore(t,p.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bc=null;function fv(t,i,r){if(Bc===null){var u=new Map,m=Bc=new Map;m.set(r,u)}else m=Bc,u=m.get(r),u||(u=new Map,m.set(r,u));if(u.has(t))return u;for(u.set(t,null),r=r.getElementsByTagName(t),m=0;m<r.length;m++){var p=r[m];if(!(p[ka]||p[Ue]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(i)||"";w=t+w;var A=u.get(w);A?A.push(p):u.set(w,[p])}}return u}function dv(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function cx(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function mv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function hx(t,i,r,u){if(r.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=ho(u.href),p=i.querySelector(zl(m));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Uc.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=p,Ve(p);return}p=i.ownerDocument||i,u=cv(u),(m=fi.get(m))&&gd(u,m),p=p.createElement("link"),Ve(p);var w=p;w._p=new Promise(function(A,R){w.onload=A,w.onerror=R}),cn(p,"link",u),r.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Uc.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var vd=0;function fx(t,i){return t.stylesheets&&t.count===0&&Hc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var u=setTimeout(function(){if(t.stylesheets&&Hc(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+i);0<t.imgBytes&&vd===0&&(vd=62500*KS());var m=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Hc(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>vd?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function Hc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,i.forEach(dx,t),Vc=null,Uc.call(t))}function dx(t,i){if(!(i.state.loading&4)){var r=Vc.get(t);if(r)var u=r.get(null);else{r=new Map,Vc.set(t,r);for(var m=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var w=m[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(r.set(w.dataset.precedence,w),u=w)}u&&r.set(null,u)}m=i.instance,w=m.getAttribute("data-precedence"),p=r.get(w)||u,p===u&&r.set(null,m),r.set(w,m),this.count++,u=Uc.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(m,t.firstChild)),i.state.loading|=4}}var Ul={$$typeof:z,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function mx(t,i,r,u,m,p,w,A,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ho(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ho(0),this.hiddenUpdates=Ho(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function pv(t,i,r,u,m,p,w,A,R,G,J,et){return t=new mx(t,i,r,w,R,G,J,et,A),i=1,p===!0&&(i|=24),p=gn(3,null,null,i),t.current=p,p.stateNode=t,i=Xh(),i.refCount++,t.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:r,cache:i},tf(p),t}function gv(t){return t?(t=gs,t):gs}function yv(t,i,r,u,m,p){m=gv(m),u.context===null?u.context=m:u.pendingContext=m,u=na(i),u.payload={element:r},p=p===void 0?null:p,p!==null&&(u.callback=p),r=ia(t,u,i),r!==null&&(zn(r,t,i),yl(r,t,i))}function vv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function _d(t,i){vv(t,i),(t=t.alternate)&&vv(t,i)}function _v(t){if(t.tag===13||t.tag===31){var i=li(t,67108864);i!==null&&zn(i,t,67108864),_d(t,67108864)}}function bv(t){if(t.tag===13||t.tag===31){var i=$n();i=An(i);var r=li(t,i);r!==null&&zn(r,t,i),_d(t,i)}}var Ic=!0;function px(t,i,r,u){var m=$.T;$.T=null;var p=nt.p;try{nt.p=2,bd(t,i,r,u)}finally{nt.p=p,$.T=m}}function gx(t,i,r,u){var m=$.T;$.T=null;var p=nt.p;try{nt.p=8,bd(t,i,r,u)}finally{nt.p=p,$.T=m}}function bd(t,i,r,u){if(Ic){var m=wd(u);if(m===null)rd(t,i,u,qc,r),Sv(t,u);else if(vx(m,t,i,r,u))u.stopPropagation();else if(Sv(t,u),i&4&&-1<yx.indexOf(t)){for(;m!==null;){var p=js(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=os(p.pendingLanes);if(w!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;w;){var R=1<<31-rn(w);A.entanglements[1]|=R,w&=~R}Ji(p),(ae&6)===0&&(Ec=ft()+500,Dl(0))}}break;case 31:case 13:A=li(p,2),A!==null&&zn(A,p,2),Oc(),_d(p,2)}if(p=wd(u),p===null&&rd(t,i,u,qc,r),p===m)break;m=p}m!==null&&u.stopPropagation()}else rd(t,i,u,null,r)}}function wd(t){return t=za(t),Sd(t)}var qc=null;function Sd(t){if(qc=null,t=cs(t),t!==null){var i=h(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=f(i),t!==null)return t;t=null}else if(r===31){if(t=g(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qc=t,null}function wv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mt()){case ot:return 2;case Et:return 8;case Gt:case te:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var xd=!1,ma=null,pa=null,ga=null,Vl=new Map,Hl=new Map,ya=[],yx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(t,i){switch(t){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(i.pointerId)}}function Il(t,i,r,u,m,p){return t===null||t.nativeEvent!==p?(t={blockedOn:i,domEventName:r,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},i!==null&&(i=js(i),i!==null&&_v(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),t)}function vx(t,i,r,u,m){switch(i){case"focusin":return ma=Il(ma,t,i,r,u,m),!0;case"dragenter":return pa=Il(pa,t,i,r,u,m),!0;case"mouseover":return ga=Il(ga,t,i,r,u,m),!0;case"pointerover":var p=m.pointerId;return Vl.set(p,Il(Vl.get(p)||null,t,i,r,u,m)),!0;case"gotpointercapture":return p=m.pointerId,Hl.set(p,Il(Hl.get(p)||null,t,i,r,u,m)),!0}return!1}function xv(t){var i=cs(t.target);if(i!==null){var r=h(i);if(r!==null){if(i=r.tag,i===13){if(i=f(r),i!==null){t.blockedOn=i,qo(t.priority,function(){bv(r)});return}}else if(i===31){if(i=g(r),i!==null){t.blockedOn=i,qo(t.priority,function(){bv(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=wd(t.nativeEvent);if(r===null){r=t.nativeEvent;var u=new r.constructor(r.type,r);Mr=u,r.target.dispatchEvent(u),Mr=null}else return i=js(r),i!==null&&_v(i),t.blockedOn=r,!1;i.shift()}return!0}function Tv(t,i,r){Zc(t)&&r.delete(i)}function _x(){xd=!1,ma!==null&&Zc(ma)&&(ma=null),pa!==null&&Zc(pa)&&(pa=null),ga!==null&&Zc(ga)&&(ga=null),Vl.forEach(Tv),Hl.forEach(Tv)}function Gc(t,i){t.blockedOn===i&&(t.blockedOn=null,xd||(xd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,_x)))}var Kc=null;function Ev(t){Kc!==t&&(Kc=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var i=0;i<t.length;i+=3){var r=t[i],u=t[i+1],m=t[i+2];if(typeof u!="function"){if(Sd(u||r)===null)continue;break}var p=js(r);p!==null&&(t.splice(i,3),i-=3,wf(p,{pending:!0,data:m,method:r.method,action:u},u,m))}}))}function mo(t){function i(R){return Gc(R,t)}ma!==null&&Gc(ma,t),pa!==null&&Gc(pa,t),ga!==null&&Gc(ga,t),Vl.forEach(i),Hl.forEach(i);for(var r=0;r<ya.length;r++){var u=ya[r];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ya.length&&(r=ya[0],r.blockedOn===null);)xv(r),r.blockedOn===null&&ya.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(u=0;u<r.length;u+=3){var m=r[u],p=r[u+1],w=m[en]||null;if(typeof p=="function")w||Ev(r);else if(w){var A=null;if(p&&p.hasAttribute("formAction")){if(m=p,w=p[en]||null)A=w.formAction;else if(Sd(m)!==null)continue}else A=w.action;typeof A=="function"?r[u+1]=A:(r.splice(u,3),u-=3),Ev(r)}}}function Av(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),u||setTimeout(r,20)}function r(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function Td(t){this._internalRoot=t}Fc.prototype.render=Td.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(o(409));var r=i.current,u=$n();yv(r,u,t,i,null,null)},Fc.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;yv(t.current,2,null,t,null,null),Oc(),i[us]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Io();t={blockedOn:null,target:t,priority:i};for(var r=0;r<ya.length&&i!==0&&i<ya[r].priority;r++);ya.splice(r,0,t),r===0&&xv(t)}};var Ov=e.version;if(Ov!=="19.2.3")throw Error(o(527,Ov,"19.2.3"));nt.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=_(i),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var bx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Ni=$c.inject(bx),je=$c}catch{}}return Zl.createRoot=function(t,i){if(!c(t))throw Error(o(299));var r=!1,u="",m=Pg,p=Ng,w=jg;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=pv(t,1,!1,null,null,r,u,null,m,p,w,Av),t[us]=i.current,ad(t),new Td(i)},Zl.hydrateRoot=function(t,i,r){if(!c(t))throw Error(o(299));var u=!1,m="",p=Pg,w=Ng,A=jg,R=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(m=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),i=pv(t,1,!0,i,r??null,u,m,R,p,w,A,Av),i.context=gv(null),r=i.current,u=$n(),u=An(u),m=na(u),m.callback=null,ia(r,m,u),r=u,i.current.lanes=r,ls(i,r),Ji(i),t[us]=i.current,ad(t),new Fc(i)},Zl.version="19.2.3",Zl}var zv;function Rx(){if(zv)return Od.exports;zv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Od.exports=Cx(),Od.exports}var Lx=Rx();function _h(n,e){var s={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(s[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(n);c<o.length;c++)e.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(n,o[c])&&(s[o[c]]=n[o[c]]);return s}function Mx(n,e,s,o){function c(h){return h instanceof s?h:new s(function(f){f(h)})}return new(s||(s=Promise))(function(h,f){function g(S){try{_(o.next(S))}catch(x){f(x)}}function v(S){try{_(o.throw(S))}catch(x){f(x)}}function _(S){S.done?h(S.value):c(S.value).then(g,v)}_((o=o.apply(n,e||[])).next())})}const kx=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class Im extends Error{constructor(e,s="FunctionsError",o){super(e),this.name=s,this.context=o}}class Dx extends Im{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Bv extends Im{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Uv extends Im{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var sm;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(sm||(sm={}));class Px{constructor(e,{headers:s={},customFetch:o,region:c=sm.Any}={}){this.url=e,this.headers=s,this.region=c,this.fetch=kx(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Mx(this,arguments,void 0,function*(s,o={}){var c;let h,f;try{const{headers:g,method:v,body:_,signal:S,timeout:x}=o;let E={},{region:O}=o;O||(O=this.region);const k=new URL(`${this.url}/${s}`);O&&O!=="any"&&(E["x-region"]=O,k.searchParams.set("forceFunctionRegion",O));let P;_&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&_ instanceof Blob||_ instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",P=_):typeof _=="string"?(E["Content-Type"]="text/plain",P=_):typeof FormData<"u"&&_ instanceof FormData?P=_:(E["Content-Type"]="application/json",P=JSON.stringify(_)):_&&typeof _!="string"&&!(typeof Blob<"u"&&_ instanceof Blob)&&!(_ instanceof ArrayBuffer)&&!(typeof FormData<"u"&&_ instanceof FormData)?P=JSON.stringify(_):P=_;let H=S;x&&(f=new AbortController,h=setTimeout(()=>f.abort(),x),S?(H=f.signal,S.addEventListener("abort",()=>f.abort())):H=f.signal);const I=yield this.fetch(k.toString(),{method:v||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),g),body:P,signal:H}).catch(rt=>{throw new Dx(rt)}),V=I.headers.get("x-relay-error");if(V&&V==="true")throw new Bv(I);if(!I.ok)throw new Uv(I);let z=((c=I.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),at;return z==="application/json"?at=yield I.json():z==="application/octet-stream"||z==="application/pdf"?at=yield I.blob():z==="text/event-stream"?at=I:z==="multipart/form-data"?at=yield I.formData():at=yield I.text(),{data:at,error:null,response:I}}catch(g){return{data:null,error:g,response:g instanceof Uv||g instanceof Bv?g.context:void 0}}finally{h&&clearTimeout(h)}})}}var Nx=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},jx=class{constructor(n){var e,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,g=null,v=null,_=h.status,S=h.statusText;if(h.ok){var x,E;if(s.method!=="HEAD"){var O;const I=await h.text();I===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((O=s.headers.get("Accept"))===null||O===void 0)&&O.includes("application/vnd.pgrst.plan+text"))?g=I:g=JSON.parse(I))}const P=(x=s.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),H=(E=h.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");P&&H&&H.length>1&&(v=parseInt(H[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,_=406,S="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var k;const P=await h.text();try{f=JSON.parse(P),Array.isArray(f)&&h.status===404&&(g=[],f=null,_=200,S="OK")}catch{h.status===404&&P===""?(_=204,S="No Content"):f={message:P}}if(f&&s.isMaybeSingle&&(!(f==null||(k=f.details)===null||k===void 0)&&k.includes("0 rows"))&&(f=null,_=200,S="OK"),f&&s.shouldThrowOnError)throw new Nx(f)}return{error:f,data:g,count:v,status:_,statusText:S}});return this.shouldThrowOnError||(c=c.catch(h=>{var f;let g="";const v=h?.cause;if(v){var _,S,x,E;const k=(_=v?.message)!==null&&_!==void 0?_:"",P=(S=v?.code)!==null&&S!==void 0?S:"";g=`${(x=h?.name)!==null&&x!==void 0?x:"FetchError"}: ${h?.message}`,g+=`

Caused by: ${(E=v?.name)!==null&&E!==void 0?E:"Error"}: ${k}`,P&&(g+=` (${P})`),v?.stack&&(g+=`
${v.stack}`)}else{var O;g=(O=h?.stack)!==null&&O!==void 0?O:""}return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(n,e)}returns(){return this}overrideTypes(){return this}},zx=class extends jx{select(n){let e=!1;const s=(n??"*").split("").map(o=>/\s/.test(o)&&!e?"":(o==='"'&&(e=!e),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:s,foreignTable:o,referencedTable:c=o}={}){const h=c?`${c}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${n}.${e?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:s=e}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,e,{foreignTable:s,referencedTable:o=s}={}){const c=typeof o>"u"?"offset":`${o}.offset`,h=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${n}`),this.url.searchParams.set(h,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:s=!1,buffers:o=!1,wal:c=!1,format:h="text"}={}){var f;const g=[n?"analyze":null,e?"verbose":null,s?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${v}"; options=${g};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const Vv=new RegExp("[,()]");var So=class extends zx{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const s=Array.from(new Set(e)).map(o=>typeof o=="string"&&Vv.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,e){const s=Array.from(new Set(e)).map(o=>typeof o=="string"&&Vv.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:s,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const h=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${c}fts${h}.${e}`),this}match(n){return Object.entries(n).forEach(([e,s])=>{this.url.searchParams.append(e,`eq.${s}`)}),this}not(n,e,s){return this.url.searchParams.append(n,`not.${e}.${s}`),this}or(n,{foreignTable:e,referencedTable:s=e}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${n})`),this}filter(n,e,s){return this.url.searchParams.append(n,`${e}.${s}`),this}},Bx=class{constructor(n,{headers:e={},schema:s,fetch:o}){this.url=n,this.headers=new Headers(e),this.schema=s,this.fetch=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,e){const{head:s=!1,count:o}=e??{},c=s?"HEAD":"GET";let h=!1;const f=(n??"*").split("").map(_=>/\s/.test(_)&&!h?"":(_==='"'&&(h=!h),_)).join(""),{url:g,headers:v}=this.cloneRequestState();return g.searchParams.set("select",f),o&&v.append("Prefer",`count=${o}`),new So({method:c,url:g,headers:v,schema:this.schema,fetch:this.fetch})}insert(n,{count:e,defaultToNull:s=!0}={}){var o;const c="POST",{url:h,headers:f}=this.cloneRequestState();if(e&&f.append("Prefer",`count=${e}`),s||f.append("Prefer","missing=default"),Array.isArray(n)){const g=n.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(g.length>0){const v=[...new Set(g)].map(_=>`"${_}"`);h.searchParams.set("columns",v.join(","))}}return new So({method:c,url:h,headers:f,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(n,{onConflict:e,ignoreDuplicates:s=!1,count:o,defaultToNull:c=!0}={}){var h;const f="POST",{url:g,headers:v}=this.cloneRequestState();if(v.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),e!==void 0&&g.searchParams.set("on_conflict",e),o&&v.append("Prefer",`count=${o}`),c||v.append("Prefer","missing=default"),Array.isArray(n)){const _=n.reduce((S,x)=>S.concat(Object.keys(x)),[]);if(_.length>0){const S=[...new Set(_)].map(x=>`"${x}"`);g.searchParams.set("columns",S.join(","))}}return new So({method:f,url:g,headers:v,schema:this.schema,body:n,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(n,{count:e}={}){var s;const o="PATCH",{url:c,headers:h}=this.cloneRequestState();return e&&h.append("Prefer",`count=${e}`),new So({method:o,url:c,headers:h,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:n}={}){var e;const s="DELETE",{url:o,headers:c}=this.cloneRequestState();return n&&c.append("Prefer",`count=${n}`),new So({method:s,url:o,headers:c,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Ux=class Z0{constructor(e,{headers:s={},schema:o,fetch:c}={}){this.url=e,this.headers=new Headers(s),this.schemaName=o,this.fetch=c}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Bx(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Z0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:o=!1,get:c=!1,count:h}={}){var f;let g;const v=new URL(`${this.url}/rpc/${e}`);let _;const S=O=>O!==null&&typeof O=="object"&&(!Array.isArray(O)||O.some(S)),x=o&&Object.values(s).some(S);x?(g="POST",_=s):o||c?(g=o?"HEAD":"GET",Object.entries(s).filter(([O,k])=>k!==void 0).map(([O,k])=>[O,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([O,k])=>{v.searchParams.append(O,k)})):(g="POST",_=s);const E=new Headers(this.headers);return x?E.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&E.set("Prefer",`count=${h}`),new So({method:g,url:v,headers:E,schema:this.schemaName,body:_,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class Vx{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const o=s.versions;if(o&&o.node){const c=o.node,h=parseInt(c.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const o=this.getWebSocketConstructor();return new o(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Hx="2.91.1",Ix=`realtime-js/${Hx}`,qx="1.0.0",G0="2.0.0",Hv=G0,am=1e4,Zx=1e3,Gx=100;var ba;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ba||(ba={}));var Qe;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Qe||(Qe={}));var ki;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ki||(ki={}));var rm;(function(n){n.websocket="websocket"})(rm||(rm={}));var vr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(vr||(vr={}));class Kx{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,s){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return s(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(e){var s;return this._isArrayBuffer((s=e.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var s,o;const c=(o=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(e){var s,o;const c=(o=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(e,s,o){var c,h;const f=e.topic,g=(c=e.ref)!==null&&c!==void 0?c:"",v=(h=e.join_ref)!==null&&h!==void 0?h:"",_=e.payload.event,S=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(S).length===0?"":JSON.stringify(S);if(v.length>255)throw new Error(`joinRef length ${v.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`userEvent length ${_.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+v.length+g.length+f.length+_.length+x.length,O=new ArrayBuffer(this.HEADER_LENGTH+E);let k=new DataView(O),P=0;k.setUint8(P++,this.KINDS.userBroadcastPush),k.setUint8(P++,v.length),k.setUint8(P++,g.length),k.setUint8(P++,f.length),k.setUint8(P++,_.length),k.setUint8(P++,x.length),k.setUint8(P++,s),Array.from(v,I=>k.setUint8(P++,I.charCodeAt(0))),Array.from(g,I=>k.setUint8(P++,I.charCodeAt(0))),Array.from(f,I=>k.setUint8(P++,I.charCodeAt(0))),Array.from(_,I=>k.setUint8(P++,I.charCodeAt(0))),Array.from(x,I=>k.setUint8(P++,I.charCodeAt(0)));var H=new Uint8Array(O.byteLength+o.byteLength);return H.set(new Uint8Array(O),0),H.set(new Uint8Array(o),O.byteLength),H.buffer}decode(e,s){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return s(o)}if(typeof e=="string"){const o=JSON.parse(e),[c,h,f,g,v]=o;return s({join_ref:c,ref:h,topic:f,event:g,payload:v})}return s({})}_binaryDecode(e){const s=new DataView(e),o=s.getUint8(0),c=new TextDecoder;if(o===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,s,c)}_decodeUserBroadcast(e,s,o){const c=s.getUint8(1),h=s.getUint8(2),f=s.getUint8(3),g=s.getUint8(4);let v=this.HEADER_LENGTH+4;const _=o.decode(e.slice(v,v+c));v=v+c;const S=o.decode(e.slice(v,v+h));v=v+h;const x=o.decode(e.slice(v,v+f));v=v+f;const E=e.slice(v,e.byteLength),O=g===this.JSON_ENCODING?JSON.parse(o.decode(E)):E,k={type:this.BROADCAST_EVENT,event:S,payload:O};return f>0&&(k.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:_,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var s;return e instanceof ArrayBuffer||((s=e?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(e,s){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([o])=>s.includes(o)))}}class K0{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ye;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(ye||(ye={}));const Iv=(n,e,s={})=>{var o;const c=(o=s.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((h,f)=>(h[f]=Fx(f,n,e,c),h),{}):{}},Fx=(n,e,s,o)=>{const c=e.find(g=>g.name===n),h=c?.type,f=s[n];return h&&!o.includes(h)?F0(h,f):om(f)},F0=(n,e)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return Wx(e,s)}switch(n){case ye.bool:return $x(e);case ye.float4:case ye.float8:case ye.int2:case ye.int4:case ye.int8:case ye.numeric:case ye.oid:return Yx(e);case ye.json:case ye.jsonb:return Xx(e);case ye.timestamp:return Jx(e);case ye.abstime:case ye.date:case ye.daterange:case ye.int4range:case ye.int8range:case ye.money:case ye.reltime:case ye.text:case ye.time:case ye.timestamptz:case ye.timetz:case ye.tsrange:case ye.tstzrange:return om(e);default:return om(e)}},om=n=>n,$x=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Yx=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},Xx=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},Wx=(n,e)=>{if(typeof n!="string")return n;const s=n.length-1,o=n[s];if(n[0]==="{"&&o==="}"){let h;const f=n.slice(1,s);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(g=>F0(e,g))}return n},Jx=n=>typeof n=="string"?n.replace(" ","T"):n,$0=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Md{constructor(e,s,o={},c=am){this.channel=e,this.event=s,this.payload=o,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var o;return this._hasReceived(e)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(qv||(qv={}));class Wl{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},c=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wl.syncState(this.state,c,h,f),this.pendingDiffs.forEach(v=>{this.state=Wl.syncDiff(this.state,v,h,f)}),this.pendingDiffs=[],g()}),this.channel._on(o.diff,{},c=>{const{onJoin:h,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Wl.syncDiff(this.state,c,h,f),g())}),this.onJoin((c,h,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:f})}),this.onLeave((c,h,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,o,c){const h=this.cloneDeep(e),f=this.transformState(s),g={},v={};return this.map(h,(_,S)=>{f[_]||(v[_]=S)}),this.map(f,(_,S)=>{const x=h[_];if(x){const E=S.map(H=>H.presence_ref),O=x.map(H=>H.presence_ref),k=S.filter(H=>O.indexOf(H.presence_ref)<0),P=x.filter(H=>E.indexOf(H.presence_ref)<0);k.length>0&&(g[_]=k),P.length>0&&(v[_]=P)}else g[_]=S}),this.syncDiff(h,{joins:g,leaves:v},o,c)}static syncDiff(e,s,o,c){const{joins:h,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),c||(c=()=>{}),this.map(h,(g,v)=>{var _;const S=(_=e[g])!==null&&_!==void 0?_:[];if(e[g]=this.cloneDeep(v),S.length>0){const x=e[g].map(O=>O.presence_ref),E=S.filter(O=>x.indexOf(O.presence_ref)<0);e[g].unshift(...E)}o(g,S,v)}),this.map(f,(g,v)=>{let _=e[g];if(!_)return;const S=v.map(x=>x.presence_ref);_=_.filter(x=>S.indexOf(x.presence_ref)<0),e[g]=_,c(g,_,v),_.length===0&&delete e[g]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(o=>s(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,o)=>{const c=e[o];return"metas"in c?s[o]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):s[o]=c,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Zv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Zv||(Zv={}));var Jl;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Jl||(Jl={}));var ks;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ks||(ks={}));class Oo{constructor(e,s={config:{}},o){var c,h;if(this.topic=e,this.params=s,this.socket=o,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Md(this,ki.join,this.params,this.timeout),this.rejoinTimer=new K0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ki.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new Wl(this),this.broadcastEndpointURL=$0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var o,c,h;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:f,presence:g,private:v}}=this.params,_=(c=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(O=>O.filter))!==null&&c!==void 0?c:[],S=!!this.bindings[Jl.PRESENCE]&&this.bindings[Jl.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,x={},E={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:S}),postgres_changes:_,private:v};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(O=>e?.(ks.CHANNEL_ERROR,O)),this._onClose(()=>e?.(ks.CLOSED)),this.updateJoinPayload(Object.assign({config:E},x)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:O})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),O===void 0){e?.(ks.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,H=(k=P?.length)!==null&&k!==void 0?k:0,I=[];for(let V=0;V<H;V++){const z=P[V],{filter:{event:at,schema:rt,table:ct,filter:lt}}=z,pt=O&&O[V];if(pt&&pt.event===at&&Oo.isFilterValueEqual(pt.schema,rt)&&Oo.isFilterValueEqual(pt.table,ct)&&Oo.isFilterValueEqual(pt.filter,lt))I.push(Object.assign(Object.assign({},z),{id:pt.id}));else{this.unsubscribe(),this.state=Qe.errored,e?.(ks.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=I,e&&e(ks.SUBSCRIBED);return}}).receive("error",O=>{this.state=Qe.errored,e?.(ks.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{e?.(ks.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,o){return this.state===Qe.joined&&e===Jl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,s,o)}async httpSend(e,s,o={}){var c;if(s==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=o.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let v=g.statusText;try{const _=await g.json();v=_.error||_.message||v}catch{}return Promise.reject(new Error(v))}async send(e,s={}){var o,c;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=e,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const v={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const _=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((c=_.body)===null||c===void 0?void 0:c.cancel()),_.ok?"ok":"error"}catch(_){return _.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,g,v;const _=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((v=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||v===void 0)&&v.ack)&&h("ok"),_.receive("ok",()=>h("ok")),_.receive("error",()=>h("error")),_.receive("timeout",()=>h("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ki.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(c=>{o=new Md(this,ki.leave,{},e),o.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qe.closed,this.bindings={}}async _fetchWithTimeout(e,s,o){const c=new AbortController,h=setTimeout(()=>c.abort(),o),f=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(h),f}_push(e,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Md(this,e,s,o);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Gx){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,o){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,o){var c,h;const f=e.toLocaleLowerCase(),{close:g,error:v,leave:_,join:S}=ki;if(o&&[g,v,_,S].indexOf(f)>=0&&o!==this._joinRef())return;let E=this._onMessage(f,s,o);if(s&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(O=>{var k,P,H;return((k=O.filter)===null||k===void 0?void 0:k.event)==="*"||((H=(P=O.filter)===null||P===void 0?void 0:P.event)===null||H===void 0?void 0:H.toLocaleLowerCase())===f}).map(O=>O.callback(E,o)):(h=this.bindings[f])===null||h===void 0||h.filter(O=>{var k,P,H,I,V,z,at,rt;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in O){const ct=O.id,lt=(k=O.filter)===null||k===void 0?void 0:k.event;return ct&&((P=s.ids)===null||P===void 0?void 0:P.includes(ct))&&(lt==="*"||lt?.toLocaleLowerCase()===((H=s.data)===null||H===void 0?void 0:H.type.toLocaleLowerCase()))&&(!(!((I=O.filter)===null||I===void 0)&&I.table)||O.filter.table===((V=s.data)===null||V===void 0?void 0:V.table))}else{const ct=(at=(z=O?.filter)===null||z===void 0?void 0:z.event)===null||at===void 0?void 0:at.toLocaleLowerCase();return ct==="*"||ct===((rt=s?.event)===null||rt===void 0?void 0:rt.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===f}).map(O=>{if(typeof E=="object"&&"ids"in E){const k=E.data,{schema:P,table:H,commit_timestamp:I,type:V,errors:z}=k;E=Object.assign(Object.assign({},{schema:P,table:H,commit_timestamp:I,eventType:V,new:{},old:{},errors:z}),this._getPayloadRecords(k))}O.callback(E,o)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,o){const c=e.toLocaleLowerCase(),h={type:c,filter:s,callback:o};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(e,s){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===o&&Oo.isEqual(c.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const o in e)if(e[o]!==s[o])return!1;return!0}static isFilterValueEqual(e,s){return(e??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ki.close,{},e)}_onError(e){this._on(ki.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Iv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Iv(e.columns,e.old_record)),s}}const kd=()=>{},Yc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qx=[1e3,2e3,5e3,1e4],tT=1e4,eT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nT{constructor(e,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=am,this.transport=null,this.heartbeatIntervalMs=Yc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kd,this.ref=0,this.reconnectTimer=null,this.vsn=Hv,this.logger=kd,this.conn=null,this.sendBuffer=[],this.serializer=new Kx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...h)=>c(...h):(...h)=>fetch(...h),!(!((o=s?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${rm.websocket}`,this.httpEndpoint=$0(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Vx.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,o){this.logger(e,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case ba.connecting:return vr.Connecting;case ba.open:return vr.Open;case ba.closing:return vr.Closing;default:return vr.Closed}}isConnected(){return this.connectionState()===vr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const o=`realtime:${e}`,c=this.getChannels().find(h=>h.topic===o);if(c)return c;{const h=new Oo(`realtime:${e}`,s,this);return this.channels.push(h),h}}push(e){const{topic:s,event:o,payload:c,ref:h}=e,f=()=>{this.encode(e,g=>{var v;(v=this.conn)===null||v===void 0||v.send(g)})};this.log("push",`${s} ${o} (${h})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Zx,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Yc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const _=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",_)}catch(S){this.log("error","error in heartbeat callback",S)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:c,payload:h,ref:f}=s,g=f?`(${f})`:"",v=h.status||"";this.log("receive",`${v} ${o} ${c} ${g}`.trim(),h),this.channels.filter(_=>_._isMember(o)).forEach(_=>_._trigger(c,h,f)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ba.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ba.open||this.conn.readyState===ba.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ki.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const o=e.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${e}${o}${c}`}_workerObjectUrl(e){let s;if(e)s=e;else{const o=new Blob([eT],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s,o=!1;if(e)s=e,o=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),s=this.accessTokenValue}else s=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(c=>{const h={access_token:s,version:Ix};s&&c.updateJoinPayload(h),c.joinedOnce&&c._isJoined()&&c._push(ki.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(s)}catch(c){this.log("error",`error in ${e} callback`,c)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new K0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,o,c,h,f,g,v,_,S,x,E,O;switch(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(o=e?.timeout)!==null&&o!==void 0?o:am,this.heartbeatIntervalMs=(c=e?.heartbeatIntervalMs)!==null&&c!==void 0?c:Yc.HEARTBEAT_INTERVAL,this.worker=(h=e?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=e?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=e?.heartbeatCallback)!==null&&g!==void 0?g:kd,this.vsn=(v=e?.vsn)!==null&&v!==void 0?v:Hv,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(_=e?.reconnectAfterMs)!==null&&_!==void 0?_:(k=>Qx[k-1]||tT),this.vsn){case qx:this.encode=(S=e?.encode)!==null&&S!==void 0?S:((k,P)=>P(JSON.stringify(k))),this.decode=(x=e?.decode)!==null&&x!==void 0?x:((k,P)=>P(JSON.parse(k)));break;case G0:this.encode=(E=e?.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(O=e?.decode)!==null&&O!==void 0?O:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var ru=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function iT(n,e,s){const o=new URL(e,n);if(s)for(const[c,h]of Object.entries(s))h!==void 0&&o.searchParams.set(c,h);return o.toString()}async function sT(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function aT(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:o,query:c,body:h,headers:f}){const g=iT(n.baseUrl,o,c),v=await sT(n.auth),_=await e(g,{method:s,headers:{...h?{"Content-Type":"application/json"}:{},...v,...f},body:h?JSON.stringify(h):void 0}),S=await _.text(),x=(_.headers.get("content-type")||"").includes("application/json"),E=x&&S?JSON.parse(S):S;if(!_.ok){const O=x?E:void 0,k=O?.error;throw new ru(k?.message??`Request failed with status ${_.status}`,{status:_.status,icebergType:k?.type,icebergCode:k?.code,details:O})}return{status:_.status,headers:_.headers,data:E}}}}function Xc(n){return n.join("")}var rT=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:Xc(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(n,e){const s={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xc(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xc(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xc(n.namespace)}`}),!0}catch(e){if(e instanceof ru&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(s){if(s instanceof ru&&s.status===409)return;throw s}}};function po(n){return n.join("")}var oT=class{constructor(n,e="",s){this.client=n,this.prefix=e,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${po(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${po(n.namespace)}/tables`,body:e,headers:s})).data.metadata}async updateTable(n,e){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${po(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${po(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${po(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${po(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(s){if(s instanceof ru&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(s){if(s instanceof ru&&s.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw s}}},lT=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=aT({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new rT(this.client,e),this.tableOps=new oT(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},bh=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Ee(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var uT=class extends bh{constructor(n,e,s){super(n),this.name="StorageApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},lm=class extends bh{constructor(n,e){super(n),this.name="StorageUnknownError",this.originalError=e}};const qm=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),cT=()=>Response,um=n=>{if(Array.isArray(n))return n.map(s=>um(s));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([s,o])=>{const c=s.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));e[c]=um(o)}),e},hT=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},fT=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function ou(n){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(n)}function dT(n,e){if(ou(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,e);if(ou(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mT(n){var e=dT(n,"string");return ou(e)=="symbol"?e:e+""}function pT(n,e,s){return(e=mT(e))in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function Gv(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),s.push.apply(s,o)}return s}function kt(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Gv(Object(s),!0).forEach(function(o){pT(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Gv(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}const Dd=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},gT=async(n,e,s)=>{n instanceof await cT()&&!s?.noResolveJson?n.json().then(o=>{const c=n.status||500,h=o?.statusCode||c+"";e(new uT(Dd(o),c,h))}).catch(o=>{e(new lm(Dd(o),o))}):e(new lm(Dd(n),n))},yT=(n,e,s,o)=>{const c={method:n,headers:e?.headers||{}};return n==="GET"||!o?c:(hT(o)?(c.headers=kt({"Content-Type":"application/json"},e?.headers),c.body=JSON.stringify(o)):c.body=o,e?.duplex&&(c.duplex=e.duplex),kt(kt({},c),s))};async function vu(n,e,s,o,c,h){return new Promise((f,g)=>{n(s,yT(e,o,c,h)).then(v=>{if(!v.ok)throw v;return o?.noResolveJson?v:v.json()}).then(v=>f(v)).catch(v=>gT(v,g,o))})}async function lu(n,e,s,o){return vu(n,"GET",e,s,o)}async function Mi(n,e,s,o,c){return vu(n,"POST",e,o,c,s)}async function cm(n,e,s,o,c){return vu(n,"PUT",e,o,c,s)}async function vT(n,e,s,o){return vu(n,"HEAD",e,kt(kt({},s),{},{noResolveJson:!0}),o)}async function Zm(n,e,s,o,c){return vu(n,"DELETE",e,o,c,s)}var _T=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Ee(e))return{data:null,error:e};throw e}}};let Y0;Y0=Symbol.toStringTag;var bT=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[Y0]="BlobDownloadBuilder",this.promise=null}asStream(){return new _T(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Ee(e))return{data:null,error:e};throw e}}};const wT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ST=class{constructor(n,e={},s,o){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.bucketId=s,this.fetch=qm(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,e,s,o){var c=this;try{let h;const f=kt(kt({},Kv),o);let g=kt(kt({},c.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const v=f.metadata;typeof Blob<"u"&&s instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),v&&h.append("metadata",c.encodeMetadata(v)),h.append("",s)):typeof FormData<"u"&&s instanceof FormData?(h=s,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),v&&!h.has("metadata")&&h.append("metadata",c.encodeMetadata(v))):(h=s,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,v&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(v))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),o?.headers&&(g=kt(kt({},g),o.headers));const _=c._removeEmptyFolders(e),S=c._getFinalPath(_),x=await(n=="PUT"?cm:Mi)(c.fetch,`${c.url}/object/${S}`,h,kt({headers:g},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:_,id:x.Id,fullPath:x.Key},error:null}}catch(h){if(c.shouldThrowOnError)throw h;if(Ee(h))return{data:null,error:h};throw h}}async upload(n,e,s){return this.uploadOrUpdate("POST",n,e,s)}async uploadToSignedUrl(n,e,s,o){var c=this;const h=c._removeEmptyFolders(n),f=c._getFinalPath(h),g=new URL(c.url+`/object/upload/sign/${f}`);g.searchParams.set("token",e);try{let v;const _=kt({upsert:Kv.upsert},o),S=kt(kt({},c.headers),{"x-upsert":String(_.upsert)});return typeof Blob<"u"&&s instanceof Blob?(v=new FormData,v.append("cacheControl",_.cacheControl),v.append("",s)):typeof FormData<"u"&&s instanceof FormData?(v=s,v.append("cacheControl",_.cacheControl)):(v=s,S["cache-control"]=`max-age=${_.cacheControl}`,S["content-type"]=_.contentType),{data:{path:h,fullPath:(await cm(c.fetch,g.toString(),v,{headers:S})).Key},error:null}}catch(v){if(c.shouldThrowOnError)throw v;if(Ee(v))return{data:null,error:v};throw v}}async createSignedUploadUrl(n,e){var s=this;try{let o=s._getFinalPath(n);const c=kt({},s.headers);e?.upsert&&(c["x-upsert"]="true");const h=await Mi(s.fetch,`${s.url}/object/upload/sign/${o}`,{},{headers:c}),f=new URL(s.url+h.url),g=f.searchParams.get("token");if(!g)throw new bh("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:g},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ee(o))return{data:null,error:o};throw o}}async update(n,e,s){return this.uploadOrUpdate("PUT",n,e,s)}async move(n,e,s){var o=this;try{return{data:await Mi(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:n,destinationKey:e,destinationBucket:s?.destinationBucket},{headers:o.headers}),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Ee(c))return{data:null,error:c};throw c}}async copy(n,e,s){var o=this;try{return{data:{path:(await Mi(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:n,destinationKey:e,destinationBucket:s?.destinationBucket},{headers:o.headers})).Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Ee(c))return{data:null,error:c};throw c}}async createSignedUrl(n,e,s){var o=this;try{let c=o._getFinalPath(n),h=await Mi(o.fetch,`${o.url}/object/sign/${c}`,kt({expiresIn:e},s?.transform?{transform:s.transform}:{}),{headers:o.headers});const f=s?.download?`&download=${s.download===!0?"":s.download}`:"";return h={signedUrl:encodeURI(`${o.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Ee(c))return{data:null,error:c};throw c}}async createSignedUrls(n,e,s){var o=this;try{const c=await Mi(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:e,paths:n},{headers:o.headers}),h=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:c.map(f=>kt(kt({},f),{},{signedUrl:f.signedURL?encodeURI(`${o.url}${f.signedURL}${h}`):null})),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Ee(c))return{data:null,error:c};throw c}}download(n,e){const s=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),c=o?`?${o}`:"",h=this._getFinalPath(n),f=()=>lu(this.fetch,`${this.url}/${s}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new bT(f,this.shouldThrowOnError)}async info(n){var e=this;const s=e._getFinalPath(n);try{return{data:um(await lu(e.fetch,`${e.url}/object/info/${s}`,{headers:e.headers})),error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(Ee(o))return{data:null,error:o};throw o}}async exists(n){var e=this;const s=e._getFinalPath(n);try{return await vT(e.fetch,`${e.url}/object/${s}`,{headers:e.headers}),{data:!0,error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(Ee(o)&&o instanceof lm){const c=o.originalError;if([400,404].includes(c?.status))return{data:!1,error:o}}throw o}}getPublicUrl(n,e){const s=this._getFinalPath(n),o=[],c=e?.download?`download=${e.download===!0?"":e.download}`:"";c!==""&&o.push(c);const h=typeof e?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(e?.transform||{});f!==""&&o.push(f);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${g}`)}}}async remove(n){var e=this;try{return{data:await Zm(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ee(s))return{data:null,error:s};throw s}}async list(n,e,s){var o=this;try{const c=kt(kt(kt({},wT),e),{},{prefix:n||""});return{data:await Mi(o.fetch,`${o.url}/object/list/${o.bucketId}`,c,{headers:o.headers},s),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(Ee(c))return{data:null,error:c};throw c}}async listV2(n,e){var s=this;try{const o=kt({},n);return{data:await Mi(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,o,{headers:s.headers},e),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ee(o))return{data:null,error:o};throw o}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const X0="2.91.1",W0={"X-Client-Info":`storage-js/${X0}`};var xT=class{constructor(n,e={},s,o){this.shouldThrowOnError=!1;const c=new URL(n);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=kt(kt({},W0),e),this.fetch=qm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var e=this;try{const s=e.listBucketOptionsToQueryString(n);return{data:await lu(e.fetch,`${e.url}/bucket${s}`,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ee(s))return{data:null,error:s};throw s}}async getBucket(n){var e=this;try{return{data:await lu(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ee(s))return{data:null,error:s};throw s}}async createBucket(n,e={public:!1}){var s=this;try{return{data:await Mi(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ee(o))return{data:null,error:o};throw o}}async updateBucket(n,e){var s=this;try{return{data:await cm(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ee(o))return{data:null,error:o};throw o}}async emptyBucket(n){var e=this;try{return{data:await Mi(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ee(s))return{data:null,error:s};throw s}}async deleteBucket(n){var e=this;try{return{data:await Zm(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ee(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},TT=class{constructor(n,e={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=kt(kt({},W0),e),this.fetch=qm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await Mi(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ee(s))return{data:null,error:s};throw s}}async listBuckets(n){var e=this;try{const s=new URLSearchParams;n?.limit!==void 0&&s.set("limit",n.limit.toString()),n?.offset!==void 0&&s.set("offset",n.offset.toString()),n?.sortColumn&&s.set("sortColumn",n.sortColumn),n?.sortOrder&&s.set("sortOrder",n.sortOrder),n?.search&&s.set("search",n.search);const o=s.toString(),c=o?`${e.url}/bucket?${o}`:`${e.url}/bucket`;return{data:await lu(e.fetch,c,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ee(s))return{data:null,error:s};throw s}}async deleteBucket(n){var e=this;try{return{data:await Zm(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Ee(s))return{data:null,error:s};throw s}}from(n){var e=this;if(!fT(n))throw new bh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new lT({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(s,{get(c,h){const f=c[h];return typeof f!="function"?f:async(...g)=>{try{return{data:await f.apply(c,g),error:null}}catch(v){if(o)throw v;return{data:null,error:v}}}}})}};const Gm={"X-Client-Info":`storage-js/${X0}`,"Content-Type":"application/json"};var J0=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Xn(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var Pd=class extends J0{constructor(n,e,s){super(n),this.name="StorageVectorsApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ET=class extends J0{constructor(n,e){super(n),this.name="StorageVectorsUnknownError",this.originalError=e}};const Km=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),AT=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Fv=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),OT=async(n,e,s)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!s?.noResolveJson){const o=n.status||500,c=n;if(typeof c.json=="function")c.json().then(h=>{const f=h?.statusCode||h?.code||o+"";e(new Pd(Fv(h),o,f))}).catch(()=>{const h=o+"";e(new Pd(c.statusText||`HTTP ${o} error`,o,h))});else{const h=o+"";e(new Pd(c.statusText||`HTTP ${o} error`,o,h))}}else e(new ET(Fv(n),n))},CT=(n,e,s,o)=>{const c={method:n,headers:e?.headers||{}};return o?(AT(o)?(c.headers=kt({"Content-Type":"application/json"},e?.headers),c.body=JSON.stringify(o)):c.body=o,kt(kt({},c),s)):c};async function RT(n,e,s,o,c,h){return new Promise((f,g)=>{n(s,CT(e,o,c,h)).then(v=>{if(!v.ok)throw v;if(o?.noResolveJson)return v;const _=v.headers.get("content-type");return!_||!_.includes("application/json")?{}:v.json()}).then(v=>f(v)).catch(v=>OT(v,g,o))})}async function Wn(n,e,s,o,c){return RT(n,"POST",e,o,c,s)}var LT=class{constructor(n,e={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=kt(kt({},Gm),e),this.fetch=Km(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Xn(s))return{data:null,error:s};throw s}}async getIndex(n,e){var s=this;try{return{data:await Wn(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Xn(o))return{data:null,error:o};throw o}}async listIndexes(n){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Xn(s))return{data:null,error:s};throw s}}async deleteIndex(n,e){var s=this;try{return{data:await Wn(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:s.headers})||{},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Xn(o))return{data:null,error:o};throw o}}},MT=class{constructor(n,e={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=kt(kt({},Gm),e),this.fetch=Km(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var e=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Wn(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Xn(s))return{data:null,error:s};throw s}}async getVectors(n){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Xn(s))return{data:null,error:s};throw s}}async listVectors(n){var e=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await Wn(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Xn(s))return{data:null,error:s};throw s}}async queryVectors(n){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Xn(s))return{data:null,error:s};throw s}}async deleteVectors(n){var e=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Wn(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Xn(s))return{data:null,error:s};throw s}}},kT=class{constructor(n,e={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=kt(kt({},Gm),e),this.fetch=Km(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Xn(s))return{data:null,error:s};throw s}}async getBucket(n){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Xn(s))return{data:null,error:s};throw s}}async listBuckets(n={}){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Xn(s))return{data:null,error:s};throw s}}async deleteBucket(n){var e=this;try{return{data:await Wn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Xn(s))return{data:null,error:s};throw s}}},DT=class extends kT{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new PT(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,s=this;return e().call(s,n)}async getBucket(n){var e=()=>super.getBucket,s=this;return e().call(s,n)}async listBuckets(n={}){var e=()=>super.listBuckets,s=this;return e().call(s,n)}async deleteBucket(n){var e=()=>super.deleteBucket,s=this;return e().call(s,n)}},PT=class extends LT{constructor(n,e,s,o){super(n,e,o),this.vectorBucketName=s}async createIndex(n){var e=()=>super.createIndex,s=this;return e().call(s,kt(kt({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,s=this;return e().call(s,kt(kt({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,s=this;return e().call(s,s.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,s=this;return e().call(s,s.vectorBucketName,n)}index(n){return new NT(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},NT=class extends MT{constructor(n,e,s,o,c){super(n,e,c),this.vectorBucketName=s,this.indexName=o}async putVectors(n){var e=()=>super.putVectors,s=this;return e().call(s,kt(kt({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var e=()=>super.getVectors,s=this;return e().call(s,kt(kt({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,s=this;return e().call(s,kt(kt({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,s=this;return e().call(s,kt(kt({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,s=this;return e().call(s,kt(kt({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},jT=class extends xT{constructor(n,e={},s,o){super(n,e,s,o)}from(n){return new ST(this.url,this.headers,n,this.fetch)}get vectors(){return new DT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new TT(this.url+"/iceberg",this.headers,this.fetch)}};const Q0="2.91.1",xo=30*1e3,hm=3,Nd=hm*xo,zT="http://localhost:9999",BT="supabase.auth.token",UT={"X-Client-Info":`gotrue-js/${Q0}`},fm="X-Supabase-Api-Version",tb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,HT=600*1e3;class uu extends Error{constructor(e,s,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function Ct(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class IT extends uu{constructor(e,s,o){super(e,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function qT(n){return Ct(n)&&n.name==="AuthApiError"}class _r extends uu{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Ns extends uu{constructor(e,s,o,c){super(e,o,c),this.name=s,this.status=o}}class Yn extends Ns{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ZT(n){return Ct(n)&&n.name==="AuthSessionMissingError"}class go extends Ns{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wc extends Ns{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Jc extends Ns{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function GT(n){return Ct(n)&&n.name==="AuthImplicitGrantRedirectError"}class $v extends Ns{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class KT extends Ns{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class dm extends Ns{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function jd(n){return Ct(n)&&n.name==="AuthRetryableFetchError"}class Yv extends Ns{constructor(e,s,o){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class mm extends Ns{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const oh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xv=` 	
\r=`.split(""),FT=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Xv.length;e+=1)n[Xv[e].charCodeAt(0)]=-2;for(let e=0;e<oh.length;e+=1)n[oh[e].charCodeAt(0)]=e;return n})();function Wv(n,e,s){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;s(oh[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;s(oh[o]),e.queuedBits-=6}}function eb(n,e,s){const o=FT[n];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Jv(n){const e=[],s=f=>{e.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=f=>{XT(f,o,s)};for(let f=0;f<n.length;f+=1)eb(n.charCodeAt(f),c,h);return e.join("")}function $T(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function YT(n,e){for(let s=0;s<n.length;s+=1){let o=n.charCodeAt(s);if(o>55295&&o<=56319){const c=(o-55296)*1024&65535;o=(n.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}$T(o,e)}}function XT(n,e,s){if(e.utf8seq===0){if(n<=127){s(n);return}for(let o=1;o<6;o+=1)if((n>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function ko(n){const e=[],s={queue:0,queuedBits:0},o=c=>{e.push(c)};for(let c=0;c<n.length;c+=1)eb(n.charCodeAt(c),s,o);return new Uint8Array(e)}function WT(n){const e=[];return YT(n,s=>e.push(s)),new Uint8Array(e)}function br(n){const e=[],s={queue:0,queuedBits:0},o=c=>{e.push(c)};return n.forEach(c=>Wv(c,s,o)),Wv(null,s,o),e.join("")}function JT(n){return Math.round(Date.now()/1e3)+n}function QT(){return Symbol("auth-callback")}const fn=()=>typeof window<"u"&&typeof document<"u",dr={tested:!1,writable:!1},nb=()=>{if(!fn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dr.tested)return dr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),dr.tested=!0,dr.writable=!0}catch{dr.tested=!0,dr.writable=!1}return dr.writable};function t1(n){const e={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,h)=>{e[h]=c})}catch{}return s.searchParams.forEach((o,c)=>{e[c]=o}),e}const ib=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),e1=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",To=async(n,e,s)=>{await n.setItem(e,JSON.stringify(s))},mr=async(n,e)=>{const s=await n.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},hn=async(n,e)=>{await n.removeItem(e)};class wh{constructor(){this.promise=new wh.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}wh.promiseConstructor=Promise;function zd(n){const e=n.split(".");if(e.length!==3)throw new mm("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!VT.test(e[o]))throw new mm("JWT not in base64url format");return{header:JSON.parse(Jv(e[0])),payload:JSON.parse(Jv(e[1])),signature:ko(e[2]),raw:{header:e[0],payload:e[1]}}}async function n1(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function i1(n,e){return new Promise((o,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await n(h);if(!e(h,null,f)){o(f);return}}catch(f){if(!e(h,f)){c(f);return}}})()})}function s1(n){return("0"+n.toString(16)).substr(-2)}function a1(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let c="";for(let h=0;h<56;h++)c+=s.charAt(Math.floor(Math.random()*o));return c}return crypto.getRandomValues(e),Array.from(e,s1).join("")}async function r1(n){const s=new TextEncoder().encode(n),o=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(o);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function o1(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await r1(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yo(n,e,s=!1){const o=a1();let c=o;s&&(c+="/PASSWORD_RECOVERY"),await To(n,`${e}-code-verifier`,c);const h=await o1(o);return[h,o===h?"plain":"s256"]}const l1=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function u1(n){const e=n.headers.get(fm);if(!e||!e.match(l1))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function c1(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function h1(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const f1=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vo(n){if(!f1.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bd(){const n={};return new Proxy(n,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function d1(n,e){return new Proxy(n,{get:(s,o,c)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const h=o.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,o,c)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,o,c)}})}function Qv(n){return JSON.parse(JSON.stringify(n))}const gr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),m1=[502,503,504];async function t_(n){var e;if(!e1(n))throw new dm(gr(n),0);if(m1.includes(n.status))throw new dm(gr(n),n.status);let s;try{s=await n.json()}catch(h){throw new _r(gr(h),h)}let o;const c=u1(n);if(c&&c.getTime()>=tb["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new Yv(gr(s),n.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new Yn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new Yv(gr(s),n.status,s.weak_password.reasons);throw new IT(gr(s),n.status||500,o)}const p1=(n,e,s,o)=>{const c={method:n,headers:e?.headers||{}};return n==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),c.body=JSON.stringify(o),Object.assign(Object.assign({},c),s))};async function Mt(n,e,s,o){var c;const h=Object.assign({},o?.headers);h[fm]||(h[fm]=tb["2024-01-01"].name),o?.jwt&&(h.Authorization=`Bearer ${o.jwt}`);const f=(c=o?.query)!==null&&c!==void 0?c:{};o?.redirectTo&&(f.redirect_to=o.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",v=await g1(n,e,s+g,{headers:h,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(v):{data:Object.assign({},v),error:null}}async function g1(n,e,s,o,c,h){const f=p1(e,o,c,h);let g;try{g=await n(s,Object.assign({},f))}catch(v){throw console.error(v),new dm(gr(v),0)}if(g.ok||await t_(g),o?.noResolveJson)return g;try{return await g.json()}catch(v){await t_(v)}}function Ri(n){var e;let s=null;_1(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=JT(n.expires_in)));const o=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:s,user:o},error:null}}function e_(n){const e=Ri(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(e.data.weak_password=n.weak_password),e}function wa(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function y1(n){return{data:n,error:null}}function v1(n){const{action_link:e,email_otp:s,hashed_token:o,redirect_to:c,verification_type:h}=n,f=_h(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:e,email_otp:s,hashed_token:o,redirect_to:c,verification_type:h},v=Object.assign({},f);return{data:{properties:g,user:v},error:null}}function n_(n){return n}function _1(n){return n.access_token&&n.refresh_token&&n.expires_in}const Ud=["global","local","others"];class b1{constructor({url:e="",headers:s={},fetch:o}){this.url=e,this.headers=s,this.fetch=ib(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Ud[0]){if(Ud.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ud.join(", ")}`);try{return await Mt(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Ct(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,s={}){try{return await Mt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:wa})}catch(o){if(Ct(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:s}=e,o=_h(e,["options"]),c=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(c.new_email=o?.newEmail,delete c.newEmail),await Mt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:v1,redirectTo:s?.redirectTo})}catch(s){if(Ct(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await Mt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wa})}catch(s){if(Ct(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,o,c,h,f,g,v;try{const _={nextPage:null,lastPage:0,total:0},S=await Mt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(h=(c=e?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:n_});if(S.error)throw S.error;const x=await S.json(),E=(f=S.headers.get("x-total-count"))!==null&&f!==void 0?f:0,O=(v=(g=S.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&v!==void 0?v:[];return O.length>0&&(O.forEach(k=>{const P=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(k.split(";")[1].split("=")[1]);_[`${H}Page`]=P}),_.total=parseInt(E)),{data:Object.assign(Object.assign({},x),_),error:null}}catch(_){if(Ct(_))return{data:{users:[]},error:_};throw _}}async getUserById(e){vo(e);try{return await Mt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wa})}catch(s){if(Ct(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){vo(e);try{return await Mt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:wa})}catch(o){if(Ct(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,s=!1){vo(e);try{return await Mt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:wa})}catch(o){if(Ct(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){vo(e.userId);try{const{data:s,error:o}=await Mt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:o}}catch(s){if(Ct(s))return{data:null,error:s};throw s}}async _deleteFactor(e){vo(e.userId),vo(e.id);try{return{data:await Mt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(Ct(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,o,c,h,f,g,v;try{const _={nextPage:null,lastPage:0,total:0},S=await Mt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(h=(c=e?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:n_});if(S.error)throw S.error;const x=await S.json(),E=(f=S.headers.get("x-total-count"))!==null&&f!==void 0?f:0,O=(v=(g=S.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&v!==void 0?v:[];return O.length>0&&(O.forEach(k=>{const P=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),H=JSON.parse(k.split(";")[1].split("=")[1]);_[`${H}Page`]=P}),_.total=parseInt(E)),{data:Object.assign(Object.assign({},x),_),error:null}}catch(_){if(Ct(_))return{data:{clients:[]},error:_};throw _}}async _createOAuthClient(e){try{return await Mt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Ct(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await Mt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Ct(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await Mt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Ct(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await Mt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ct(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await Mt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Ct(s))return{data:null,error:s};throw s}}}function i_(n={}){return{getItem:e=>n[e]||null,setItem:(e,s)=>{n[e]=s},removeItem:e=>{delete n[e]}}}const _o={debug:!!(globalThis&&nb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class w1 extends sb{}async function S1(n,e,s){_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),_o.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async c=>{if(c){_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,c.name);try{return await s()}finally{_o.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,c.name)}}else{if(e===0)throw _o.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new w1(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(_o.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function x1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ab(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function T1(n){return parseInt(n,16)}function E1(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function A1(n){var e;const{chainId:s,domain:o,expirationTime:c,issuedAt:h=new Date,nonce:f,notBefore:g,requestId:v,resources:_,scheme:S,uri:x,version:E}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const O=ab(n.address),k=S?`${S}://${o}`:o,P=n.statement?`${n.statement}
`:"",H=`${k} wants you to sign in with your Ethereum account:
${O}

${P}`;let I=`URI: ${x}
Version: ${E}
Chain ID: ${s}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(c&&(I+=`
Expiration Time: ${c.toISOString()}`),g&&(I+=`
Not Before: ${g.toISOString()}`),v&&(I+=`
Request ID: ${v}`),_){let V=`
Resources:`;for(const z of _){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);V+=`
- ${z}`}I+=V}return`${H}
${I}`}class Ke extends Error{constructor({message:e,code:s,cause:o,name:c}){var h;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(h=c??(o instanceof Error?o.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=s}}class lh extends Ke{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function O1({error:n,options:e}){var s,o,c;const{publicKey:h}=e;if(!h)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ke({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=h.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Ke({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((o=h.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ke({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Ke({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Ke({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Ke({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return h.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new Ke({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Ke({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const f=window.location.hostname;if(rb(f)){if(h.rp.id!==f)return new Ke({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new Ke({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function C1({error:n,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ke({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Ke({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const o=window.location.hostname;if(rb(o)){if(s.rpId!==o)return new Ke({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ke({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Ke({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ke({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class R1{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const L1=new R1;function M1(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:s,excludeCredentials:o}=n,c=_h(n,["challenge","user","excludeCredentials"]),h=ko(e).buffer,f=Object.assign(Object.assign({},s),{id:ko(s.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:h,user:f});if(o&&o.length>0){g.excludeCredentials=new Array(o.length);for(let v=0;v<o.length;v++){const _=o[v];g.excludeCredentials[v]=Object.assign(Object.assign({},_),{id:ko(_.id).buffer,type:_.type||"public-key",transports:_.transports})}}return g}function k1(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:s}=n,o=_h(n,["challenge","allowCredentials"]),c=ko(e).buffer,h=Object.assign(Object.assign({},o),{challenge:c});if(s&&s.length>0){h.allowCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const g=s[f];h.allowCredentials[f]=Object.assign(Object.assign({},g),{id:ko(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function D1(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:br(new Uint8Array(n.response.attestationObject)),clientDataJSON:br(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function P1(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,o=n.getClientExtensionResults(),c=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:br(new Uint8Array(c.authenticatorData)),clientDataJSON:br(new Uint8Array(c.clientDataJSON)),signature:br(new Uint8Array(c.signature)),userHandle:c.userHandle?br(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rb(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function s_(){var n,e;return!!(fn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function N1(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new lh("Browser returned unexpected credential type",e)}:{data:null,error:new lh("Empty credential response",e)}}catch(e){return{data:null,error:O1({error:e,options:n})}}}async function j1(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new lh("Browser returned unexpected credential type",e)}:{data:null,error:new lh("Empty credential response",e)}}catch(e){return{data:null,error:C1({error:e,options:n})}}}const z1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},B1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function uh(...n){const e=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),o={};for(const c of n)if(c)for(const h in c){const f=c[h];if(f!==void 0)if(Array.isArray(f))o[h]=f;else if(s(f))o[h]=f;else if(e(f)){const g=o[h];e(g)?o[h]=uh(g,f):o[h]=uh(f)}else o[h]=f}return o}function U1(n,e){return uh(z1,n,e||{})}function V1(n,e){return uh(B1,n,e||{})}class H1{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:o,signal:c},h){try{const{data:f,error:g}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!f)return{data:null,error:g};const v=c??L1.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:_}=f.webauthn.credential_options.publicKey;_.name||(_.name=`${_.id}:${o}`),_.displayName||(_.displayName=_.name)}switch(f.webauthn.type){case"create":{const _=U1(f.webauthn.credential_options.publicKey,h?.create),{data:S,error:x}=await N1({publicKey:_,signal:v});return S?{data:{factorId:e,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:S}},error:null}:{data:null,error:x}}case"request":{const _=V1(f.webauthn.credential_options.publicKey,h?.request),{data:S,error:x}=await j1(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:_,signal:v}));return S?{data:{factorId:e,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:S}},error:null}:{data:null,error:x}}}}catch(f){return Ct(f)?{data:null,error:f}:{data:null,error:new _r("Unexpected error in challenge",f)}}}async _verify({challengeId:e,factorId:s,webauthn:o}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!s)return{data:null,error:new uu("rpId is required for WebAuthn authentication")};try{if(!s_())return{data:null,error:new _r("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:o},signal:c},{request:h});if(!f)return{data:null,error:g};const{webauthn:v}=f;return this._verify({factorId:e,challengeId:f.challengeId,webauthn:{type:v.type,rpId:s,rpOrigins:o,credential_response:v.credential_response}})}catch(f){return Ct(f)?{data:null,error:f}:{data:null,error:new _r("Unexpected error in authenticate",f)}}}async _register({friendlyName:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!s)return{data:null,error:new uu("rpId is required for WebAuthn registration")};try{if(!s_())return{data:null,error:new _r("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:e});if(!f)return await this.client.mfa.listFactors().then(S=>{var x;return(x=S.data)===null||x===void 0?void 0:x.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===e&&E.status!=="unverified")}).then(S=>S?this.client.mfa.unenroll({factorId:S?.id}):void 0),{data:null,error:g};const{data:v,error:_}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:s,rpOrigins:o},signal:c},{create:h});return v?this._verify({factorId:f.id,challengeId:v.challengeId,webauthn:{rpId:s,rpOrigins:o,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:_}}catch(f){return Ct(f)?{data:null,error:f}:{data:null,error:new _r("Unexpected error in register",f)}}}}x1();const I1={url:zT,storageKey:BT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:UT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function a_(n,e,s){return await s()}const bo={};class cu{get jwks(){var e,s;return(s=(e=bo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=bo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bo[this.storageKey]=Object.assign(Object.assign({},bo[this.storageKey]),{cachedAt:e})}constructor(e){var s,o,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},I1),e);if(this.storageKey=h.storageKey,this.instanceID=(s=cu.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,cu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&fn()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new b1({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=ib(h.fetch),this.lock=h.lock||a_,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&fn()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=S1:this.lock=a_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new H1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:nb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=i_(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=i_(this.memoryStorage)),fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Q0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},o="none";if(fn()&&(s=t1(window.location.href),this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce")),fn()&&this.detectSessionInUrl&&o!=="none"){const{data:c,error:h}=await this._getSessionFromURL(s,o);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),GT(h)){const v=(e=h.details)===null||e===void 0?void 0:e.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:f,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Ct(s)?this._returnResult({error:s}):this._returnResult({error:new _r("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,o,c;try{const h=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(c=e?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Ri}),{data:f,error:g}=h;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const v=f.session,_=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:_,session:v},error:null})}catch(h){if(Ct(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(e){var s,o,c;try{let h;if("email"in e){const{email:S,password:x,options:E}=e;let O=null,k=null;this.flowType==="pkce"&&([O,k]=await yo(this.storage,this.storageKey)),h=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:S,password:x,data:(s=E?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:O,code_challenge_method:k},xform:Ri})}else if("phone"in e){const{phone:S,password:x,options:E}=e;h=await Mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:x,data:(o=E?.data)!==null&&o!==void 0?o:{},channel:(c=E?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:Ri})}else throw new Wc("You must provide either an email or phone number and a password");const{data:f,error:g}=h;if(g||!f)return await hn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const v=f.session,_=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:_,session:v},error:null})}catch(h){if(await hn(this.storage,`${this.storageKey}-code-verifier`),Ct(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(e){try{let s;if("email"in e){const{email:h,password:f,options:g}=e;s=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:e_})}else if("phone"in e){const{phone:h,password:f,options:g}=e;s=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:e_})}else throw new Wc("You must provide either an email or phone number and a password");const{data:o,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o||!o.session||!o.user){const h=new go;return this._returnResult({data:{user:null,session:null},error:h})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:c})}catch(s){if(Ct(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,o,c,h;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=e.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,o,c,h,f,g,v,_,S,x,E;let O,k;if("message"in e)O=e.message,k=e.signature;else{const{chain:P,wallet:H,statement:I,options:V}=e;let z;if(fn())if(typeof H=="object")z=H;else{const wt=window;if("ethereum"in wt&&typeof wt.ethereum=="object"&&"request"in wt.ethereum&&typeof wt.ethereum.request=="function")z=wt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=H}const at=new URL((s=V?.url)!==null&&s!==void 0?s:window.location.href),rt=await z.request({method:"eth_requestAccounts"}).then(wt=>wt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!rt||rt.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ct=ab(rt[0]);let lt=(o=V?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!lt){const wt=await z.request({method:"eth_chainId"});lt=T1(wt)}const pt={domain:at.host,address:ct,statement:I,uri:at.href,version:"1",chainId:lt,nonce:(c=V?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(h=V?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=V?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(v=V?.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(_=V?.signInWithEthereum)===null||_===void 0?void 0:_.requestId,resources:(S=V?.signInWithEthereum)===null||S===void 0?void 0:S.resources};O=A1(pt),k=await z.request({method:"personal_sign",params:[E1(O),ct]})}try{const{data:P,error:H}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:O,signature:k},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Ri});if(H)throw H;if(!P||!P.session||!P.user){const I=new go;return this._returnResult({data:{user:null,session:null},error:I})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:H})}catch(P){if(Ct(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async signInWithSolana(e){var s,o,c,h,f,g,v,_,S,x,E,O;let k,P;if("message"in e)k=e.message,P=e.signature;else{const{chain:H,wallet:I,statement:V,options:z}=e;let at;if(fn())if(typeof I=="object")at=I;else{const ct=window;if("solana"in ct&&typeof ct.solana=="object"&&("signIn"in ct.solana&&typeof ct.solana.signIn=="function"||"signMessage"in ct.solana&&typeof ct.solana.signMessage=="function"))at=ct.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof I!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");at=I}const rt=new URL((s=z?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in at&&at.signIn){const ct=await at.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:rt.host,uri:rt.href}),V?{statement:V}:null));let lt;if(Array.isArray(ct)&&ct[0]&&typeof ct[0]=="object")lt=ct[0];else if(ct&&typeof ct=="object"&&"signedMessage"in ct&&"signature"in ct)lt=ct;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in lt&&"signature"in lt&&(typeof lt.signedMessage=="string"||lt.signedMessage instanceof Uint8Array)&&lt.signature instanceof Uint8Array)k=typeof lt.signedMessage=="string"?lt.signedMessage:new TextDecoder().decode(lt.signedMessage),P=lt.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in at)||typeof at.signMessage!="function"||!("publicKey"in at)||typeof at!="object"||!at.publicKey||!("toBase58"in at.publicKey)||typeof at.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${rt.host} wants you to sign in with your Solana account:`,at.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${rt.href}`,`Issued At: ${(c=(o=z?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=z?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((f=z?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((g=z?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((v=z?.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((_=z?.signInWithSolana)===null||_===void 0)&&_.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((x=(S=z?.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||x===void 0)&&x.length?["Resources",...z.signInWithSolana.resources.map(lt=>`- ${lt}`)]:[]].join(`
`);const ct=await at.signMessage(new TextEncoder().encode(k),"utf8");if(!ct||!(ct instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=ct}}try{const{data:H,error:I}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:br(P)},!((E=e.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(O=e.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:Ri});if(I)throw I;if(!H||!H.session||!H.user){const V=new go;return this._returnResult({data:{user:null,session:null},error:V})}return H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),this._returnResult({data:Object.assign({},H),error:I})}catch(H){if(Ct(H))return this._returnResult({data:{user:null,session:null},error:H});throw H}}async _exchangeCodeForSession(e){const s=await mr(this.storage,`${this.storageKey}-code-verifier`),[o,c]=(s??"").split("/");try{if(!o&&this.flowType==="pkce")throw new KT;const{data:h,error:f}=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:Ri});if(await hn(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const g=new go;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:f})}catch(h){if(await hn(this.storage,`${this.storageKey}-code-verifier`),Ct(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(e){try{const{options:s,provider:o,token:c,access_token:h,nonce:f}=e,g=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:c,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Ri}),{data:v,error:_}=g;if(_)return this._returnResult({data:{user:null,session:null},error:_});if(!v||!v.session||!v.user){const S=new go;return this._returnResult({data:{user:null,session:null},error:S})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:v,error:_})}catch(s){if(Ct(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,o,c,h,f;try{if("email"in e){const{email:g,options:v}=e;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await yo(this.storage,this.storageKey));const{error:x}=await Mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(s=v?.data)!==null&&s!==void 0?s:{},create_user:(o=v?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:_,code_challenge_method:S},redirectTo:v?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:g,options:v}=e,{data:_,error:S}=await Mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=v?.data)!==null&&c!==void 0?c:{},create_user:(h=v?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},channel:(f=v?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:_?.message_id},error:S})}throw new Wc("You must provide either an email or phone number.")}catch(g){if(await hn(this.storage,`${this.storageKey}-code-verifier`),Ct(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(e){var s,o;try{let c,h;"options"in e&&(c=(s=e.options)===null||s===void 0?void 0:s.redirectTo,h=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:g}=await Mt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:Ri});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const v=f.session,_=f.user;return v?.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),this._returnResult({data:{user:_,session:v},error:null})}catch(c){if(Ct(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(e){var s,o,c,h,f;try{let g=null,v=null;this.flowType==="pkce"&&([g,v]=await yo(this.storage,this.storageKey));const _=await Mt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((c=e?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:v}),headers:this.headers,xform:y1});return!((h=_.data)===null||h===void 0)&&h.url&&fn()&&!(!((f=e.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(_.data.url),this._returnResult(_)}catch(g){if(await hn(this.storage,`${this.storageKey}-code-verifier`),Ct(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:o}=e;if(o)throw o;if(!s)throw new Yn;const{error:c}=await Mt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(e){if(Ct(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:o,type:c,options:h}=e,{error:f}=await Mt(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in e){const{phone:o,type:c,options:h}=e,{data:f,error:g}=await Mt(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new Wc("You must provide either an email or phone number and a type")}catch(s){if(Ct(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await mr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<Nd:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const f=await mr(this.userStorage,this.storageKey+"-user");f?.user?e.user=f.user:e.user=Bd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};e.user=d1(e.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:c,error:h}=await this._callRefreshToken(e.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(e){try{return e?await Mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wa}):await this._useSession(async s=>{var o,c,h;const{data:f,error:g}=s;if(g)throw g;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yn}:await Mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:wa})})}catch(s){if(Ct(s))return ZT(s)&&(await this._removeSession(),await hn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async o=>{const{data:c,error:h}=o;if(h)throw h;if(!c.session)throw new Yn;const f=c.session;let g=null,v=null;this.flowType==="pkce"&&e.email!=null&&([g,v]=await yo(this.storage,this.storageKey));const{data:_,error:S}=await Mt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:g,code_challenge_method:v}),jwt:f.access_token,xform:wa});if(S)throw S;return f.user=_.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(o){if(await hn(this.storage,`${this.storageKey}-code-verifier`),Ct(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Yn;const s=Date.now()/1e3;let o=s,c=!0,h=null;const{payload:f}=zd(e.access_token);if(f.exp&&(o=f.exp,c=o<=s),c){const{data:g,error:v}=await this._callRefreshToken(e.refresh_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!g)return{data:{user:null,session:null},error:null};h=g}else{const{data:g,error:v}=await this._getUser(e.access_token);if(v)throw v;h={access_token:e.access_token,refresh_token:e.refresh_token,user:g.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(s){if(Ct(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var o;if(!e){const{data:f,error:g}=s;if(g)throw g;e=(o=f.session)!==null&&o!==void 0?o:void 0}if(!e?.refresh_token)throw new Yn;const{data:c,error:h}=await this._callRefreshToken(e.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(Ct(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!fn())throw new Jc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new $v("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jc("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $v("No code detected.");const{data:V,error:z}=await this._exchangeCodeForSession(e.code);if(z)throw z;const at=new URL(window.location.href);return at.searchParams.delete("code"),window.history.replaceState(window.history.state,"",at.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:c,access_token:h,refresh_token:f,expires_in:g,expires_at:v,token_type:_}=e;if(!h||!g||!f||!_)throw new Jc("No session defined in URL");const S=Math.round(Date.now()/1e3),x=parseInt(g);let E=S+x;v&&(E=parseInt(v));const O=E-S;O*1e3<=xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${x}s`);const k=E-x;S-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,E,S):S-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,E,S);const{data:P,error:H}=await this._getUser(h);if(H)throw H;const I={provider_token:o,provider_refresh_token:c,access_token:h,expires_in:x,expires_at:E,refresh_token:f,token_type:_,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:I,redirectType:e.type},error:null})}catch(o){if(Ct(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await mr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:c,error:h}=s;if(h)return this._returnResult({error:h});const f=(o=c.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:g}=await this.admin.signOut(f,e);if(g&&!(qT(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return e!=="others"&&(await this._removeSession(),await hn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=QT(),o={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async s=>{var o,c;try{const{data:{session:h},error:f}=s;if(f)throw f;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",e,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(e))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",h),console.error(h)}})}async resetPasswordForEmail(e,s={}){let o=null,c=null;this.flowType==="pkce"&&([o,c]=await yo(this.storage,this.storageKey,!0));try{return await Mt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(h){if(await hn(this.storage,`${this.storageKey}-code-verifier`),Ct(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var e;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(Ct(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:o,error:c}=await this._useSession(async h=>{var f,g,v,_,S;const{data:x,error:E}=h;if(E)throw E;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(f=e.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=e.options)===null||g===void 0?void 0:g.scopes,queryParams:(v=e.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await Mt(this.fetch,"GET",O,{headers:this.headers,jwt:(S=(_=x.session)===null||_===void 0?void 0:_.access_token)!==null&&S!==void 0?S:void 0})});if(c)throw c;return fn()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:e.provider,url:o?.url},error:null})}catch(o){if(Ct(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var o;try{const{error:c,data:{session:h}}=s;if(c)throw c;const{options:f,provider:g,token:v,access_token:_,nonce:S}=e,x=await Mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=h?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:g,id_token:v,access_token:_,nonce:S,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ri}),{data:E,error:O}=x;return O?this._returnResult({data:{user:null,session:null},error:O}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new go}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:O}))}catch(c){if(await hn(this.storage,`${this.storageKey}-code-verifier`),Ct(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var o,c;const{data:h,error:f}=s;if(f)throw f;return await Mt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(c=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(Ct(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await i1(async c=>(c>0&&await n1(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await Mt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ri})),(c,h)=>{const f=200*Math.pow(2,c);return h&&jd(h)&&Date.now()+f-o<xo})}catch(o){if(this._debug(s,"error",o),Ct(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",o),fn()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const c=await mr(this.storage,this.storageKey);if(c&&this.userStorage){let f=await mr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await To(this.userStorage,this.storageKey+"-user",f)),c.user=(e=f?.user)!==null&&e!==void 0?e:Bd()}else if(c&&!c.user&&!c.user){const f=await mr(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await hn(this.storage,this.storageKey+"-user"),await To(this.storage,this.storageKey,c)):c.user=Bd()}if(this._debug(o,"session from storage",c),!this._isValidSession(c)){this._debug(o,"session is not valid"),c!==null&&await this._removeSession();return}const h=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Nd;if(this._debug(o,`session has${h?"":" not"} expired with margin of ${Nd}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),jd(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(c.access_token);!g&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(o,"error",c),console.error(c);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var s,o;if(!e)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new wh;const{data:h,error:f}=await this._refreshAccessToken(e);if(f)throw f;if(!h.session)throw new Yn;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const g={data:h.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(h){if(this._debug(c,"error",h),Ct(h)){const f={data:null,error:h};return jd(h)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(e,s,o=!0){const c=`#_notifyAllSubscribers(${e})`;this._debug(c,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:s});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(e,s)}catch(v){h.push(v)}});if(await Promise.all(f),h.length>0){for(let g=0;g<h.length;g+=1)console.error(h[g]);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await hn(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},e),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await To(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const h=Qv(c);await To(this.storage,this.storageKey,h)}else{const c=Qv(s);await To(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await hn(this.storage,this.storageKey),await hn(this.storage,this.storageKey+"-code-verifier"),await hn(this.storage,this.storageKey+"-user"),this.userStorage&&await hn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&fn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((o.expires_at*1e3-e)/xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${xo}ms, refresh threshold is ${hm} ticks`),c<=hm&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof sb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,o){const c=[`provider=${encodeURIComponent(s)}`];if(o?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&c.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[h,f]=await yo(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(g.toString())}if(o?.queryParams){const h=new URLSearchParams(o.queryParams);c.push(h.toString())}return o?.skipBrowserRedirect&&c.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${c.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var o;const{data:c,error:h}=s;return h?this._returnResult({data:null,error:h}):await Mt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(Ct(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var o,c;const{data:h,error:f}=s;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:v,error:_}=await Mt(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(o=h?.session)===null||o===void 0?void 0:o.access_token});return _?this._returnResult({data:null,error:_}):(e.factorType==="totp"&&v.type==="totp"&&(!((c=v?.totp)===null||c===void 0)&&c.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),this._returnResult({data:v,error:null}))})}catch(s){if(Ct(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var o;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?D1(e.webauthn.credential_response):P1(e.webauthn.credential_response)})}:{code:e.code}),{data:g,error:v}=await Mt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:f,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});return v?this._returnResult({data:null,error:v}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:v}))})}catch(s){if(Ct(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var o;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const f=await Mt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:M1(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:k1(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(Ct(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:o}=await this.getUser();if(o)return{data:null,error:o};const c={all:[],phone:[],totp:[],webauthn:[]};for(const h of(e=s?.factors)!==null&&e!==void 0?e:[])c.all.push(h),h.status==="verified"&&c[h.factor_type].push(h);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var e,s;const{data:{session:o},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=zd(o.access_token);let f=null;h.aal&&(f=h.aal);let g=f;((s=(e=o.user.factors)===null||e===void 0?void 0:e.filter(S=>S.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(g="aal2");const _=h.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:o},error:c}=s;return c?this._returnResult({data:null,error:c}):o?await Mt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(s){if(Ct(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async o=>{const{data:{session:c},error:h}=o;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Yn});const f=await Mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&fn()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(o){if(Ct(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,s){try{return await this._useSession(async o=>{const{data:{session:c},error:h}=o;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Yn});const f=await Mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&fn()&&!s?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(o){if(Ct(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:s},error:o}=e;return o?this._returnResult({data:null,error:o}):s?await Mt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(e){if(Ct(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async s=>{const{data:{session:o},error:c}=s;return c?this._returnResult({data:null,error:c}):o?(await Mt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yn})})}catch(s){if(Ct(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,s={keys:[]}){let o=s.keys.find(g=>g.kid===e);if(o)return o;const c=Date.now();if(o=this.jwks.keys.find(g=>g.kid===e),o&&this.jwks_cached_at+HT>c)return o;const{data:h,error:f}=await Mt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=c,o=h.keys.find(g=>g.kid===e),!o)?null:o}async getClaims(e,s={}){try{let o=e;if(!o){const{data:O,error:k}=await this.getSession();if(k||!O.session)return this._returnResult({data:null,error:k});o=O.session.access_token}const{header:c,payload:h,signature:f,raw:{header:g,payload:v}}=zd(o);s?.allowExpired||c1(h.exp);const _=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!_){const{error:O}=await this.getUser(o);if(O)throw O;return{data:{claims:h,header:c,signature:f},error:null}}const S=h1(c.alg),x=await crypto.subtle.importKey("jwk",_,S,!0,["verify"]);if(!await crypto.subtle.verify(S,x,f,WT(`${g}.${v}`)))throw new mm("Invalid JWT signature");return{data:{claims:h,header:c,signature:f},error:null}}catch(o){if(Ct(o))return this._returnResult({data:null,error:o});throw o}}}cu.nextInstanceID={};const q1=cu,Z1="2.91.1";let Fl="";typeof Deno<"u"?Fl="deno":typeof document<"u"?Fl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fl="react-native":Fl="node";const G1={"X-Client-Info":`supabase-js-${Fl}/${Z1}`},K1={headers:G1},F1={schema:"public"},$1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Y1={};function hu(n){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(n)}function X1(n,e){if(hu(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,e);if(hu(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function W1(n){var e=X1(n,"string");return hu(e)=="symbol"?e:e+""}function J1(n,e,s){return(e=W1(e))in n?Object.defineProperty(n,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[e]=s,n}function r_(n,e){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(n,c).enumerable})),s.push.apply(s,o)}return s}function De(n){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?r_(Object(s),!0).forEach(function(o){J1(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):r_(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}const Q1=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),tE=()=>Headers,eE=(n,e,s)=>{const o=Q1(s),c=tE();return async(h,f)=>{var g;const v=(g=await e())!==null&&g!==void 0?g:n;let _=new c(f?.headers);return _.has("apikey")||_.set("apikey",n),_.has("Authorization")||_.set("Authorization",`Bearer ${v}`),o(h,De(De({},f),{},{headers:_}))}};function nE(n){return n.endsWith("/")?n:n+"/"}function iE(n,e){var s,o;const{db:c,auth:h,realtime:f,global:g}=n,{db:v,auth:_,realtime:S,global:x}=e,E={db:De(De({},v),c),auth:De(De({},_),h),realtime:De(De({},S),f),storage:{},global:De(De(De({},x),g),{},{headers:De(De({},(s=x?.headers)!==null&&s!==void 0?s:{}),(o=g?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return n.accessToken?E.accessToken=n.accessToken:delete E.accessToken,E}function sE(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(nE(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var aE=class extends q1{constructor(n){super(n)}},rE=class{constructor(n,e,s){var o,c;this.supabaseUrl=n,this.supabaseKey=e;const h=sE(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:F1,realtime:Y1,auth:De(De({},$1),{},{storageKey:f}),global:K1},v=iE(s??{},g);if(this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken)this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(S,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var _;this.auth=this._initSupabaseAuthClient((_=v.auth)!==null&&_!==void 0?_:{},this.headers,v.global.fetch)}this.fetch=eE(e,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(De({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(S=>this.realtime.setAuth(S)).catch(S=>console.warn("Failed to set initial Realtime auth token:",S)),this.rest=new Ux(new URL("rest/v1",h).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new jT(this.storageUrl.href,this.headers,this.fetch,s?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new Px(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,s)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,s;if(n.accessToken)return await n.accessToken();const{data:o}=await n.auth.getSession();return(e=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:s,storage:o,userStorage:c,storageKey:h,flowType:f,lock:g,debug:v,throwOnError:_},S,x){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new aE({url:this.authUrl.href,headers:De(De({},E),S),storageKey:h,autoRefreshToken:n,persistSession:e,detectSessionInUrl:s,storage:o,userStorage:c,flowType:f,lock:g,debug:v,throwOnError:_,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new nT(this.realtimeUrl.href,De(De({},n),{},{params:De(De({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e?.access_token)})}_handleTokenChanged(n,e,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const oE=(n,e,s)=>new rE(n,e,s);function lE(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const e=n.version;if(e==null)return!1;const s=e.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}lE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");console.warn("Supabase URL or Anon Key is missing. Check your .env file.");const Ql=oE("",""),o_=n=>{let e;const s=new Set,o=(_,S)=>{const x=typeof _=="function"?_(e):_;if(!Object.is(x,e)){const E=e;e=S??(typeof x!="object"||x===null)?x:Object.assign({},e,x),s.forEach(O=>O(e,E))}},c=()=>e,g={setState:o,getState:c,getInitialState:()=>v,subscribe:_=>(s.add(_),()=>s.delete(_))},v=e=n(o,c,g);return g},uE=(n=>n?o_(n):o_),cE=n=>n;function hE(n,e=cE){const s=ke.useSyncExternalStore(n.subscribe,ke.useCallback(()=>e(n.getState()),[n,e]),ke.useCallback(()=>e(n.getInitialState()),[n,e]));return ke.useDebugValue(s),s}const l_=n=>{const e=uE(n),s=o=>hE(e,o);return Object.assign(s,e),s},fE=(n=>n?l_(n):l_),Po=fE(n=>({searchQuery:"",setSearchQuery:e=>n({searchQuery:e}),selectedCategory:null,setSelectedCategory:e=>n({selectedCategory:e}),selectedSector:null,setSelectedSector:e=>n({selectedSector:e}),selectedStall:null,setSelectedStall:e=>n({selectedStall:e}),isSidebarOpen:!1,setSidebarOpen:e=>n({isSidebarOpen:e}),userLocation:null,setUserLocation:e=>n({userLocation:e})}));const ob=(...n)=>n.filter((e,s,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===s).join(" ").trim();const dE=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const mE=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,o)=>o?o.toUpperCase():s.toLowerCase());const u_=n=>{const e=mE(n);return e.charAt(0).toUpperCase()+e.slice(1)};var pE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gE=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const yE=it.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:h,iconNode:f,...g},v)=>it.createElement("svg",{ref:v,...pE,width:e,height:e,stroke:n,strokeWidth:o?Number(s)*24/Number(e):s,className:ob("lucide",c),...!h&&!gE(g)&&{"aria-hidden":"true"},...g},[...f.map(([_,S])=>it.createElement(_,S)),...Array.isArray(h)?h:[h]]));const mn=(n,e)=>{const s=it.forwardRef(({className:o,...c},h)=>it.createElement(yE,{ref:h,iconNode:e,className:ob(`lucide-${dE(u_(n))}`,`lucide-${n}`,o),...c}));return s.displayName=u_(n),s};const vE=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],c_=mn("bell",vE);const _E=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bE=mn("clock",_E);const wE=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],SE=mn("layout-grid",wE);const xE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fu=mn("map-pin",xE);const TE=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Vd=mn("map",TE);const EE=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],AE=mn("menu",EE);const OE=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],CE=mn("message-circle",OE);const RE=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],LE=mn("navigation",RE);const ME=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],kE=mn("phone",ME);const DE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],lb=mn("plus",DE);const PE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],NE=mn("save",PE);const jE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],h_=mn("search",jE);const zE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],f_=mn("settings",zE);const BE=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],UE=mn("share-2",BE);const VE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Eo=mn("star",VE);const HE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],IE=mn("upload",HE);const qE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fm=mn("x",qE),$m=it.createContext({});function Ym(n){const e=it.useRef(null);return e.current===null&&(e.current=n()),e.current}const ub=typeof window<"u",cb=ub?it.useLayoutEffect:it.useEffect,Sh=it.createContext(null);function Xm(n,e){n.indexOf(e)===-1&&n.push(e)}function Wm(n,e){const s=n.indexOf(e);s>-1&&n.splice(s,1)}const es=(n,e,s)=>s>e?e:s<n?n:s;let Jm=()=>{};const Ps={},hb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function fb(n){return typeof n=="object"&&n!==null}const db=n=>/^0[^.\s]+$/u.test(n);function Qm(n){let e;return()=>(e===void 0&&(e=n()),e)}const pi=n=>n,ZE=(n,e)=>s=>e(n(s)),_u=(...n)=>n.reduce(ZE),du=(n,e,s)=>{const o=e-n;return o===0?1:(s-n)/o};class tp{constructor(){this.subscriptions=[]}add(e){return Xm(this.subscriptions,e),()=>Wm(this.subscriptions,e)}notify(e,s,o){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](e,s,o);else for(let h=0;h<c;h++){const f=this.subscriptions[h];f&&f(e,s,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ds=n=>n*1e3,mi=n=>n/1e3;function mb(n,e){return e?n*(1e3/e):0}const pb=(n,e,s)=>(((1-3*s+3*e)*n+(3*s-6*e))*n+3*e)*n,GE=1e-7,KE=12;function FE(n,e,s,o,c){let h,f,g=0;do f=e+(s-e)/2,h=pb(f,o,c)-n,h>0?s=f:e=f;while(Math.abs(h)>GE&&++g<KE);return f}function bu(n,e,s,o){if(n===e&&s===o)return pi;const c=h=>FE(h,0,1,n,s);return h=>h===0||h===1?h:pb(c(h),e,o)}const gb=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,yb=n=>e=>1-n(1-e),vb=bu(.33,1.53,.69,.99),ep=yb(vb),_b=gb(ep),bb=n=>(n*=2)<1?.5*ep(n):.5*(2-Math.pow(2,-10*(n-1))),np=n=>1-Math.sin(Math.acos(n)),wb=yb(np),Sb=gb(np),$E=bu(.42,0,1,1),YE=bu(0,0,.58,1),xb=bu(.42,0,.58,1),XE=n=>Array.isArray(n)&&typeof n[0]!="number",Tb=n=>Array.isArray(n)&&typeof n[0]=="number",WE={linear:pi,easeIn:$E,easeInOut:xb,easeOut:YE,circIn:np,circInOut:Sb,circOut:wb,backIn:ep,backInOut:_b,backOut:vb,anticipate:bb},JE=n=>typeof n=="string",d_=n=>{if(Tb(n)){Jm(n.length===4);const[e,s,o,c]=n;return bu(e,s,o,c)}else if(JE(n))return WE[n];return n},Qc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function QE(n,e){let s=new Set,o=new Set,c=!1,h=!1;const f=new WeakSet;let g={delta:0,timestamp:0,isProcessing:!1};function v(S){f.has(S)&&(_.schedule(S),n()),S(g)}const _={schedule:(S,x=!1,E=!1)=>{const k=E&&c?s:o;return x&&f.add(S),k.has(S)||k.add(S),S},cancel:S=>{o.delete(S),f.delete(S)},process:S=>{if(g=S,c){h=!0;return}c=!0,[s,o]=[o,s],s.forEach(v),s.clear(),c=!1,h&&(h=!1,_.process(S))}};return _}const tA=40;function Eb(n,e){let s=!1,o=!0;const c={delta:0,timestamp:0,isProcessing:!1},h=()=>s=!0,f=Qc.reduce((z,at)=>(z[at]=QE(h),z),{}),{setup:g,read:v,resolveKeyframes:_,preUpdate:S,update:x,preRender:E,render:O,postRender:k}=f,P=()=>{const z=Ps.useManualTiming?c.timestamp:performance.now();s=!1,Ps.useManualTiming||(c.delta=o?1e3/60:Math.max(Math.min(z-c.timestamp,tA),1)),c.timestamp=z,c.isProcessing=!0,g.process(c),v.process(c),_.process(c),S.process(c),x.process(c),E.process(c),O.process(c),k.process(c),c.isProcessing=!1,s&&e&&(o=!1,n(P))},H=()=>{s=!0,o=!0,c.isProcessing||n(P)};return{schedule:Qc.reduce((z,at)=>{const rt=f[at];return z[at]=(ct,lt=!1,pt=!1)=>(s||H(),rt.schedule(ct,lt,pt)),z},{}),cancel:z=>{for(let at=0;at<Qc.length;at++)f[Qc[at]].cancel(z)},state:c,steps:f}}const{schedule:be,cancel:Ta,state:dn,steps:Hd}=Eb(typeof requestAnimationFrame<"u"?requestAnimationFrame:pi,!0);let ih;function eA(){ih=void 0}const Tn={now:()=>(ih===void 0&&Tn.set(dn.isProcessing||Ps.useManualTiming?dn.timestamp:performance.now()),ih),set:n=>{ih=n,queueMicrotask(eA)}},Ab=n=>e=>typeof e=="string"&&e.startsWith(n),Ob=Ab("--"),nA=Ab("var(--"),ip=n=>nA(n)?iA.test(n.split("/*")[0].trim()):!1,iA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function m_(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const jo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},mu={...jo,transform:n=>es(0,1,n)},th={...jo,default:1},tu=n=>Math.round(n*1e5)/1e5,sp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sA(n){return n==null}const aA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ap=(n,e)=>s=>!!(typeof s=="string"&&aA.test(s)&&s.startsWith(n)||e&&!sA(s)&&Object.prototype.hasOwnProperty.call(s,e)),Cb=(n,e,s)=>o=>{if(typeof o!="string")return o;const[c,h,f,g]=o.match(sp);return{[n]:parseFloat(c),[e]:parseFloat(h),[s]:parseFloat(f),alpha:g!==void 0?parseFloat(g):1}},rA=n=>es(0,255,n),Id={...jo,transform:n=>Math.round(rA(n))},wr={test:ap("rgb","red"),parse:Cb("red","green","blue"),transform:({red:n,green:e,blue:s,alpha:o=1})=>"rgba("+Id.transform(n)+", "+Id.transform(e)+", "+Id.transform(s)+", "+tu(mu.transform(o))+")"};function oA(n){let e="",s="",o="",c="";return n.length>5?(e=n.substring(1,3),s=n.substring(3,5),o=n.substring(5,7),c=n.substring(7,9)):(e=n.substring(1,2),s=n.substring(2,3),o=n.substring(3,4),c=n.substring(4,5),e+=e,s+=s,o+=o,c+=c),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:c?parseInt(c,16)/255:1}}const pm={test:ap("#"),parse:oA,transform:wr.transform},wu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),_a=wu("deg"),ts=wu("%"),St=wu("px"),lA=wu("vh"),uA=wu("vw"),p_={...ts,parse:n=>ts.parse(n)/100,transform:n=>ts.transform(n*100)},Co={test:ap("hsl","hue"),parse:Cb("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:s,alpha:o=1})=>"hsla("+Math.round(n)+", "+ts.transform(tu(e))+", "+ts.transform(tu(s))+", "+tu(mu.transform(o))+")"},Fe={test:n=>wr.test(n)||pm.test(n)||Co.test(n),parse:n=>wr.test(n)?wr.parse(n):Co.test(n)?Co.parse(n):pm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?wr.transform(n):Co.transform(n),getAnimatableNone:n=>{const e=Fe.parse(n);return e.alpha=0,Fe.transform(e)}},cA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hA(n){return isNaN(n)&&typeof n=="string"&&(n.match(sp)?.length||0)+(n.match(cA)?.length||0)>0}const Rb="number",Lb="color",fA="var",dA="var(",g_="${}",mA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pu(n){const e=n.toString(),s=[],o={color:[],number:[],var:[]},c=[];let h=0;const g=e.replace(mA,v=>(Fe.test(v)?(o.color.push(h),c.push(Lb),s.push(Fe.parse(v))):v.startsWith(dA)?(o.var.push(h),c.push(fA),s.push(v)):(o.number.push(h),c.push(Rb),s.push(parseFloat(v))),++h,g_)).split(g_);return{values:s,split:g,indexes:o,types:c}}function Mb(n){return pu(n).values}function kb(n){const{split:e,types:s}=pu(n),o=e.length;return c=>{let h="";for(let f=0;f<o;f++)if(h+=e[f],c[f]!==void 0){const g=s[f];g===Rb?h+=tu(c[f]):g===Lb?h+=Fe.transform(c[f]):h+=c[f]}return h}}const pA=n=>typeof n=="number"?0:Fe.test(n)?Fe.getAnimatableNone(n):n;function gA(n){const e=Mb(n);return kb(n)(e.map(pA))}const Ea={test:hA,parse:Mb,createTransformer:kb,getAnimatableNone:gA};function qd(n,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?n+(e-n)*6*s:s<1/2?e:s<2/3?n+(e-n)*(2/3-s)*6:n}function yA({hue:n,saturation:e,lightness:s,alpha:o}){n/=360,e/=100,s/=100;let c=0,h=0,f=0;if(!e)c=h=f=s;else{const g=s<.5?s*(1+e):s+e-s*e,v=2*s-g;c=qd(v,g,n+1/3),h=qd(v,g,n),f=qd(v,g,n-1/3)}return{red:Math.round(c*255),green:Math.round(h*255),blue:Math.round(f*255),alpha:o}}function ch(n,e){return s=>s>0?e:n}const Oe=(n,e,s)=>n+(e-n)*s,Zd=(n,e,s)=>{const o=n*n,c=s*(e*e-o)+o;return c<0?0:Math.sqrt(c)},vA=[pm,wr,Co],_A=n=>vA.find(e=>e.test(n));function y_(n){const e=_A(n);if(!e)return!1;let s=e.parse(n);return e===Co&&(s=yA(s)),s}const v_=(n,e)=>{const s=y_(n),o=y_(e);if(!s||!o)return ch(n,e);const c={...s};return h=>(c.red=Zd(s.red,o.red,h),c.green=Zd(s.green,o.green,h),c.blue=Zd(s.blue,o.blue,h),c.alpha=Oe(s.alpha,o.alpha,h),wr.transform(c))},gm=new Set(["none","hidden"]);function bA(n,e){return gm.has(n)?s=>s<=0?n:e:s=>s>=1?e:n}function wA(n,e){return s=>Oe(n,e,s)}function rp(n){return typeof n=="number"?wA:typeof n=="string"?ip(n)?ch:Fe.test(n)?v_:TA:Array.isArray(n)?Db:typeof n=="object"?Fe.test(n)?v_:SA:ch}function Db(n,e){const s=[...n],o=s.length,c=n.map((h,f)=>rp(h)(h,e[f]));return h=>{for(let f=0;f<o;f++)s[f]=c[f](h);return s}}function SA(n,e){const s={...n,...e},o={};for(const c in s)n[c]!==void 0&&e[c]!==void 0&&(o[c]=rp(n[c])(n[c],e[c]));return c=>{for(const h in o)s[h]=o[h](c);return s}}function xA(n,e){const s=[],o={color:0,var:0,number:0};for(let c=0;c<e.values.length;c++){const h=e.types[c],f=n.indexes[h][o[h]],g=n.values[f]??0;s[c]=g,o[h]++}return s}const TA=(n,e)=>{const s=Ea.createTransformer(e),o=pu(n),c=pu(e);return o.indexes.var.length===c.indexes.var.length&&o.indexes.color.length===c.indexes.color.length&&o.indexes.number.length>=c.indexes.number.length?gm.has(n)&&!c.values.length||gm.has(e)&&!o.values.length?bA(n,e):_u(Db(xA(o,c),c.values),s):ch(n,e)};function Pb(n,e,s){return typeof n=="number"&&typeof e=="number"&&typeof s=="number"?Oe(n,e,s):rp(n)(n,e)}const EA=n=>{const e=({timestamp:s})=>n(s);return{start:(s=!0)=>be.update(e,s),stop:()=>Ta(e),now:()=>dn.isProcessing?dn.timestamp:Tn.now()}},Nb=(n,e,s=10)=>{let o="";const c=Math.max(Math.round(e/s),2);for(let h=0;h<c;h++)o+=Math.round(n(h/(c-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},hh=2e4;function op(n){let e=0;const s=50;let o=n.next(e);for(;!o.done&&e<hh;)e+=s,o=n.next(e);return e>=hh?1/0:e}function AA(n,e=100,s){const o=s({...n,keyframes:[0,e]}),c=Math.min(op(o),hh);return{type:"keyframes",ease:h=>o.next(c*h).value/e,duration:mi(c)}}const OA=5;function jb(n,e,s){const o=Math.max(e-OA,0);return mb(s-n(o),e-o)}const Pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gd=.001;function CA({duration:n=Pe.duration,bounce:e=Pe.bounce,velocity:s=Pe.velocity,mass:o=Pe.mass}){let c,h,f=1-e;f=es(Pe.minDamping,Pe.maxDamping,f),n=es(Pe.minDuration,Pe.maxDuration,mi(n)),f<1?(c=_=>{const S=_*f,x=S*n,E=S-s,O=ym(_,f),k=Math.exp(-x);return Gd-E/O*k},h=_=>{const x=_*f*n,E=x*s+s,O=Math.pow(f,2)*Math.pow(_,2)*n,k=Math.exp(-x),P=ym(Math.pow(_,2),f);return(-c(_)+Gd>0?-1:1)*((E-O)*k)/P}):(c=_=>{const S=Math.exp(-_*n),x=(_-s)*n+1;return-Gd+S*x},h=_=>{const S=Math.exp(-_*n),x=(s-_)*(n*n);return S*x});const g=5/n,v=LA(c,h,g);if(n=Ds(n),isNaN(v))return{stiffness:Pe.stiffness,damping:Pe.damping,duration:n};{const _=Math.pow(v,2)*o;return{stiffness:_,damping:f*2*Math.sqrt(o*_),duration:n}}}const RA=12;function LA(n,e,s){let o=s;for(let c=1;c<RA;c++)o=o-n(o)/e(o);return o}function ym(n,e){return n*Math.sqrt(1-e*e)}const MA=["duration","bounce"],kA=["stiffness","damping","mass"];function __(n,e){return e.some(s=>n[s]!==void 0)}function DA(n){let e={velocity:Pe.velocity,stiffness:Pe.stiffness,damping:Pe.damping,mass:Pe.mass,isResolvedFromDuration:!1,...n};if(!__(n,kA)&&__(n,MA))if(n.visualDuration){const s=n.visualDuration,o=2*Math.PI/(s*1.2),c=o*o,h=2*es(.05,1,1-(n.bounce||0))*Math.sqrt(c);e={...e,mass:Pe.mass,stiffness:c,damping:h}}else{const s=CA(n);e={...e,...s,mass:Pe.mass},e.isResolvedFromDuration=!0}return e}function fh(n=Pe.visualDuration,e=Pe.bounce){const s=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:o,restDelta:c}=s;const h=s.keyframes[0],f=s.keyframes[s.keyframes.length-1],g={done:!1,value:h},{stiffness:v,damping:_,mass:S,duration:x,velocity:E,isResolvedFromDuration:O}=DA({...s,velocity:-mi(s.velocity||0)}),k=E||0,P=_/(2*Math.sqrt(v*S)),H=f-h,I=mi(Math.sqrt(v/S)),V=Math.abs(H)<5;o||(o=V?Pe.restSpeed.granular:Pe.restSpeed.default),c||(c=V?Pe.restDelta.granular:Pe.restDelta.default);let z;if(P<1){const rt=ym(I,P);z=ct=>{const lt=Math.exp(-P*I*ct);return f-lt*((k+P*I*H)/rt*Math.sin(rt*ct)+H*Math.cos(rt*ct))}}else if(P===1)z=rt=>f-Math.exp(-I*rt)*(H+(k+I*H)*rt);else{const rt=I*Math.sqrt(P*P-1);z=ct=>{const lt=Math.exp(-P*I*ct),pt=Math.min(rt*ct,300);return f-lt*((k+P*I*H)*Math.sinh(pt)+rt*H*Math.cosh(pt))/rt}}const at={calculatedDuration:O&&x||null,next:rt=>{const ct=z(rt);if(O)g.done=rt>=x;else{let lt=rt===0?k:0;P<1&&(lt=rt===0?Ds(k):jb(z,rt,ct));const pt=Math.abs(lt)<=o,wt=Math.abs(f-ct)<=c;g.done=pt&&wt}return g.value=g.done?f:ct,g},toString:()=>{const rt=Math.min(op(at),hh),ct=Nb(lt=>at.next(rt*lt).value,rt,30);return rt+"ms "+ct},toTransition:()=>{}};return at}fh.applyToOptions=n=>{const e=AA(n,100,fh);return n.ease=e.ease,n.duration=Ds(e.duration),n.type="keyframes",n};function vm({keyframes:n,velocity:e=0,power:s=.8,timeConstant:o=325,bounceDamping:c=10,bounceStiffness:h=500,modifyTarget:f,min:g,max:v,restDelta:_=.5,restSpeed:S}){const x=n[0],E={done:!1,value:x},O=pt=>g!==void 0&&pt<g||v!==void 0&&pt>v,k=pt=>g===void 0?v:v===void 0||Math.abs(g-pt)<Math.abs(v-pt)?g:v;let P=s*e;const H=x+P,I=f===void 0?H:f(H);I!==H&&(P=I-x);const V=pt=>-P*Math.exp(-pt/o),z=pt=>I+V(pt),at=pt=>{const wt=V(pt),Bt=z(pt);E.done=Math.abs(wt)<=_,E.value=E.done?I:Bt};let rt,ct;const lt=pt=>{O(E.value)&&(rt=pt,ct=fh({keyframes:[E.value,k(E.value)],velocity:jb(z,pt,E.value),damping:c,stiffness:h,restDelta:_,restSpeed:S}))};return lt(0),{calculatedDuration:null,next:pt=>{let wt=!1;return!ct&&rt===void 0&&(wt=!0,at(pt),lt(pt)),rt!==void 0&&pt>=rt?ct.next(pt-rt):(!wt&&at(pt),E)}}}function PA(n,e,s){const o=[],c=s||Ps.mix||Pb,h=n.length-1;for(let f=0;f<h;f++){let g=c(n[f],n[f+1]);if(e){const v=Array.isArray(e)?e[f]||pi:e;g=_u(v,g)}o.push(g)}return o}function NA(n,e,{clamp:s=!0,ease:o,mixer:c}={}){const h=n.length;if(Jm(h===e.length),h===1)return()=>e[0];if(h===2&&e[0]===e[1])return()=>e[1];const f=n[0]===n[1];n[0]>n[h-1]&&(n=[...n].reverse(),e=[...e].reverse());const g=PA(e,o,c),v=g.length,_=S=>{if(f&&S<n[0])return e[0];let x=0;if(v>1)for(;x<n.length-2&&!(S<n[x+1]);x++);const E=du(n[x],n[x+1],S);return g[x](E)};return s?S=>_(es(n[0],n[h-1],S)):_}function jA(n,e){const s=n[n.length-1];for(let o=1;o<=e;o++){const c=du(0,e,o);n.push(Oe(s,1,c))}}function zA(n){const e=[0];return jA(e,n.length-1),e}function BA(n,e){return n.map(s=>s*e)}function UA(n,e){return n.map(()=>e||xb).splice(0,n.length-1)}function eu({duration:n=300,keyframes:e,times:s,ease:o="easeInOut"}){const c=XE(o)?o.map(d_):d_(o),h={done:!1,value:e[0]},f=BA(s&&s.length===e.length?s:zA(e),n),g=NA(f,e,{ease:Array.isArray(c)?c:UA(e,c)});return{calculatedDuration:n,next:v=>(h.value=g(v),h.done=v>=n,h)}}const VA=n=>n!==null;function lp(n,{repeat:e,repeatType:s="loop"},o,c=1){const h=n.filter(VA),g=c<0||e&&s!=="loop"&&e%2===1?0:h.length-1;return!g||o===void 0?h[g]:o}const HA={decay:vm,inertia:vm,tween:eu,keyframes:eu,spring:fh};function zb(n){typeof n.type=="string"&&(n.type=HA[n.type])}class up{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const IA=n=>n/100;class cp extends up{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;zb(e);const{type:s=eu,repeat:o=0,repeatDelay:c=0,repeatType:h,velocity:f=0}=e;let{keyframes:g}=e;const v=s||eu;v!==eu&&typeof g[0]!="number"&&(this.mixKeyframes=_u(IA,Pb(g[0],g[1])),g=[0,100]);const _=v({...e,keyframes:g});h==="mirror"&&(this.mirroredGenerator=v({...e,keyframes:[...g].reverse(),velocity:-f})),_.calculatedDuration===null&&(_.calculatedDuration=op(_));const{calculatedDuration:S}=_;this.calculatedDuration=S,this.resolvedDuration=S+c,this.totalDuration=this.resolvedDuration*(o+1)-c,this.generator=_}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:o,totalDuration:c,mixKeyframes:h,mirroredGenerator:f,resolvedDuration:g,calculatedDuration:v}=this;if(this.startTime===null)return o.next(0);const{delay:_=0,keyframes:S,repeat:x,repeatType:E,repeatDelay:O,type:k,onUpdate:P,finalKeyframe:H}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const I=this.currentTime-_*(this.playbackSpeed>=0?1:-1),V=this.playbackSpeed>=0?I<0:I>c;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let z=this.currentTime,at=o;if(x){const pt=Math.min(this.currentTime,c)/g;let wt=Math.floor(pt),Bt=pt%1;!Bt&&pt>=1&&(Bt=1),Bt===1&&wt--,wt=Math.min(wt,x+1),wt%2&&(E==="reverse"?(Bt=1-Bt,O&&(Bt-=O/g)):E==="mirror"&&(at=f)),z=es(0,1,Bt)*g}const rt=V?{done:!1,value:S[0]}:at.next(z);h&&(rt.value=h(rt.value));let{done:ct}=rt;!V&&v!==null&&(ct=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const lt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ct);return lt&&k!==vm&&(rt.value=lp(S,this.options,H,this.speed)),P&&P(rt.value),lt&&this.finish(),rt}then(e,s){return this.finished.then(e,s)}get duration(){return mi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+mi(e)}get time(){return mi(this.currentTime)}set time(e){e=Ds(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Tn.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=mi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=EA,startTime:s}=this.options;this.driver||(this.driver=e(c=>this.tick(c))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=s??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function qA(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Sr=n=>n*180/Math.PI,_m=n=>{const e=Sr(Math.atan2(n[1],n[0]));return bm(e)},ZA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:_m,rotateZ:_m,skewX:n=>Sr(Math.atan(n[1])),skewY:n=>Sr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},bm=n=>(n=n%360,n<0&&(n+=360),n),b_=_m,w_=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),S_=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),GA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:w_,scaleY:S_,scale:n=>(w_(n)+S_(n))/2,rotateX:n=>bm(Sr(Math.atan2(n[6],n[5]))),rotateY:n=>bm(Sr(Math.atan2(-n[2],n[0]))),rotateZ:b_,rotate:b_,skewX:n=>Sr(Math.atan(n[4])),skewY:n=>Sr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function wm(n){return n.includes("scale")?1:0}function Sm(n,e){if(!n||n==="none")return wm(e);const s=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,c;if(s)o=GA,c=s;else{const g=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=ZA,c=g}if(!c)return wm(e);const h=o[e],f=c[1].split(",").map(FA);return typeof h=="function"?h(f):f[h]}const KA=(n,e)=>{const{transform:s="none"}=getComputedStyle(n);return Sm(s,e)};function FA(n){return parseFloat(n.trim())}const zo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bo=new Set(zo),x_=n=>n===jo||n===St,$A=new Set(["x","y","z"]),YA=zo.filter(n=>!$A.has(n));function XA(n){const e=[];return YA.forEach(s=>{const o=n.getValue(s);o!==void 0&&(e.push([s,o.get()]),o.set(s.startsWith("scale")?1:0))}),e}const xa={width:({x:n},{paddingLeft:e="0",paddingRight:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),height:({y:n},{paddingTop:e="0",paddingBottom:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Sm(e,"x"),y:(n,{transform:e})=>Sm(e,"y")};xa.translateX=xa.x;xa.translateY=xa.y;const Tr=new Set;let xm=!1,Tm=!1,Em=!1;function Bb(){if(Tm){const n=Array.from(Tr).filter(o=>o.needsMeasurement),e=new Set(n.map(o=>o.element)),s=new Map;e.forEach(o=>{const c=XA(o);c.length&&(s.set(o,c),o.render())}),n.forEach(o=>o.measureInitialState()),e.forEach(o=>{o.render();const c=s.get(o);c&&c.forEach(([h,f])=>{o.getValue(h)?.set(f)})}),n.forEach(o=>o.measureEndState()),n.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Tm=!1,xm=!1,Tr.forEach(n=>n.complete(Em)),Tr.clear()}function Ub(){Tr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Tm=!0)})}function WA(){Em=!0,Ub(),Bb(),Em=!1}class hp{constructor(e,s,o,c,h,f=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=o,this.motionValue=c,this.element=h,this.isAsync=f}scheduleResolve(){this.state="scheduled",this.isAsync?(Tr.add(this),xm||(xm=!0,be.read(Ub),be.resolveKeyframes(Bb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:o,motionValue:c}=this;if(e[0]===null){const h=c?.get(),f=e[e.length-1];if(h!==void 0)e[0]=h;else if(o&&s){const g=o.readValue(s,f);g!=null&&(e[0]=g)}e[0]===void 0&&(e[0]=f),c&&h===void 0&&c.set(e[0])}qA(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Tr.delete(this)}cancel(){this.state==="scheduled"&&(Tr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const JA=n=>n.startsWith("--");function QA(n,e,s){JA(e)?n.style.setProperty(e,s):n.style[e]=s}const tO=Qm(()=>window.ScrollTimeline!==void 0),eO={};function nO(n,e){const s=Qm(n);return()=>eO[e]??s()}const Vb=nO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$l=([n,e,s,o])=>`cubic-bezier(${n}, ${e}, ${s}, ${o})`,T_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$l([0,.65,.55,1]),circOut:$l([.55,0,1,.45]),backIn:$l([.31,.01,.66,-.59]),backOut:$l([.33,1.53,.69,.99])};function Hb(n,e){if(n)return typeof n=="function"?Vb()?Nb(n,e):"ease-out":Tb(n)?$l(n):Array.isArray(n)?n.map(s=>Hb(s,e)||T_.easeOut):T_[n]}function iO(n,e,s,{delay:o=0,duration:c=300,repeat:h=0,repeatType:f="loop",ease:g="easeOut",times:v}={},_=void 0){const S={[e]:s};v&&(S.offset=v);const x=Hb(g,c);Array.isArray(x)&&(S.easing=x);const E={delay:o,duration:c,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:h+1,direction:f==="reverse"?"alternate":"normal"};return _&&(E.pseudoElement=_),n.animate(S,E)}function Ib(n){return typeof n=="function"&&"applyToOptions"in n}function sO({type:n,...e}){return Ib(n)&&Vb()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class aO extends up{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:s,name:o,keyframes:c,pseudoElement:h,allowFlatten:f=!1,finalKeyframe:g,onComplete:v}=e;this.isPseudoElement=!!h,this.allowFlatten=f,this.options=e,Jm(typeof e.type!="string");const _=sO(e);this.animation=iO(s,o,c,_,h),_.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!h){const S=lp(c,this.options,g,this.speed);this.updateMotionValue?this.updateMotionValue(S):QA(s,o,S),this.animation.cancel()}v?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return mi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+mi(e)}get time(){return mi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ds(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&tO()?(this.animation.timeline=e,pi):s(this)}}const qb={anticipate:bb,backInOut:_b,circInOut:Sb};function rO(n){return n in qb}function oO(n){typeof n.ease=="string"&&rO(n.ease)&&(n.ease=qb[n.ease])}const Kd=10;class lO extends aO{constructor(e){oO(e),zb(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:o,onComplete:c,element:h,...f}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const g=new cp({...f,autoplay:!1}),v=Math.max(Kd,Tn.now()-this.startTime),_=es(0,Kd,v-Kd);s.setWithVelocity(g.sample(Math.max(0,v-_)).value,g.sample(v).value,_),g.stop()}}const E_=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ea.test(n)||n==="0")&&!n.startsWith("url("));function uO(n){const e=n[0];if(n.length===1)return!0;for(let s=0;s<n.length;s++)if(n[s]!==e)return!0}function cO(n,e,s,o){const c=n[0];if(c===null)return!1;if(e==="display"||e==="visibility")return!0;const h=n[n.length-1],f=E_(c,e),g=E_(h,e);return!f||!g?!1:uO(n)||(s==="spring"||Ib(s))&&o}function Am(n){n.duration=0,n.type="keyframes"}const hO=new Set(["opacity","clipPath","filter","transform"]),fO=Qm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dO(n){const{motionValue:e,name:s,repeatDelay:o,repeatType:c,damping:h,type:f}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:v,transformTemplate:_}=e.owner.getProps();return fO()&&s&&hO.has(s)&&(s!=="transform"||!_)&&!v&&!o&&c!=="mirror"&&h!==0&&f!=="inertia"}const mO=40;class pO extends up{constructor({autoplay:e=!0,delay:s=0,type:o="keyframes",repeat:c=0,repeatDelay:h=0,repeatType:f="loop",keyframes:g,name:v,motionValue:_,element:S,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Tn.now();const E={autoplay:e,delay:s,type:o,repeat:c,repeatDelay:h,repeatType:f,name:v,motionValue:_,element:S,...x},O=S?.KeyframeResolver||hp;this.keyframeResolver=new O(g,(k,P,H)=>this.onKeyframesResolved(k,P,E,!H),v,_,S),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,o,c){this.keyframeResolver=void 0;const{name:h,type:f,velocity:g,delay:v,isHandoff:_,onUpdate:S}=o;this.resolvedAt=Tn.now(),cO(e,h,f,g)||((Ps.instantAnimations||!v)&&S?.(lp(e,o,s)),e[0]=e[e.length-1],Am(o),o.repeat=0);const E={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>mO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...o,keyframes:e},O=!_&&dO(E),k=E.motionValue?.owner?.current,P=O?new lO({...E,element:k}):new cp(E);P.finished.then(()=>{this.notifyFinished()}).catch(pi),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),WA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Zb(n,e,s,o=0,c=1){const h=Array.from(n).sort((_,S)=>_.sortNodePosition(S)).indexOf(e),f=n.size,g=(f-1)*o;return typeof s=="function"?s(h,f):c===1?h*o:g-h*o}const gO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yO(n){const e=gO.exec(n);if(!e)return[,];const[,s,o,c]=e;return[`--${s??o}`,c]}function Gb(n,e,s=1){const[o,c]=yO(n);if(!o)return;const h=window.getComputedStyle(e).getPropertyValue(o);if(h){const f=h.trim();return hb(f)?parseFloat(f):f}return ip(c)?Gb(c,e,s+1):c}const vO={type:"spring",stiffness:500,damping:25,restSpeed:10},_O=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),bO={type:"keyframes",duration:.8},wO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SO=(n,{keyframes:e})=>e.length>2?bO:Bo.has(n)?n.startsWith("scale")?_O(e[1]):vO:wO,xO=n=>n!==null;function TO(n,{repeat:e,repeatType:s="loop"},o){const c=n.filter(xO),h=e&&s!=="loop"&&e%2===1?0:c.length-1;return c[h]}function fp(n,e){return n?.[e]??n?.default??n}function EO({when:n,delay:e,delayChildren:s,staggerChildren:o,staggerDirection:c,repeat:h,repeatType:f,repeatDelay:g,from:v,elapsed:_,...S}){return!!Object.keys(S).length}const dp=(n,e,s,o={},c,h)=>f=>{const g=fp(o,n)||{},v=g.delay||o.delay||0;let{elapsed:_=0}=o;_=_-Ds(v);const S={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...g,delay:-_,onUpdate:E=>{e.set(E),g.onUpdate&&g.onUpdate(E)},onComplete:()=>{f(),g.onComplete&&g.onComplete()},name:n,motionValue:e,element:h?void 0:c};EO(g)||Object.assign(S,SO(n,S)),S.duration&&(S.duration=Ds(S.duration)),S.repeatDelay&&(S.repeatDelay=Ds(S.repeatDelay)),S.from!==void 0&&(S.keyframes[0]=S.from);let x=!1;if((S.type===!1||S.duration===0&&!S.repeatDelay)&&(Am(S),S.delay===0&&(x=!0)),(Ps.instantAnimations||Ps.skipAnimations)&&(x=!0,Am(S),S.delay=0),S.allowFlatten=!g.type&&!g.ease,x&&!h&&e.get()!==void 0){const E=TO(S.keyframes,g);if(E!==void 0){be.update(()=>{S.onUpdate(E),S.onComplete()});return}}return g.isSync?new cp(S):new pO(S)};function A_(n){const e=[{},{}];return n?.values.forEach((s,o)=>{e[0][o]=s.get(),e[1][o]=s.getVelocity()}),e}function mp(n,e,s,o){if(typeof e=="function"){const[c,h]=A_(o);e=e(s!==void 0?s:n.custom,c,h)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[c,h]=A_(o);e=e(s!==void 0?s:n.custom,c,h)}return e}function Do(n,e,s){const o=n.getProps();return mp(o,e,s!==void 0?s:o.custom,n)}const Kb=new Set(["width","height","top","left","right","bottom",...zo]),O_=30,AO=n=>!isNaN(parseFloat(n));class OO{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const c=Tn.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=AO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new tp);const o=this.events[e].add(s);return e==="change"?()=>{o(),be.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,o){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-o}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>O_)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,O_);return mb(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function No(n,e){return new OO(n,e)}const Om=n=>Array.isArray(n);function CO(n,e,s){n.hasValue(e)?n.getValue(e).set(s):n.addValue(e,No(s))}function RO(n){return Om(n)?n[n.length-1]||0:n}function LO(n,e){const s=Do(n,e);let{transitionEnd:o={},transition:c={},...h}=s||{};h={...h,...o};for(const f in h){const g=RO(h[f]);CO(n,f,g)}}const vn=n=>!!(n&&n.getVelocity);function MO(n){return!!(vn(n)&&n.add)}function Cm(n,e){const s=n.getValue("willChange");if(MO(s))return s.add(e);if(!s&&Ps.WillChange){const o=new Ps.WillChange("auto");n.addValue("willChange",o),o.add(e)}}function pp(n){return n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const kO="framerAppearId",Fb="data-"+pp(kO);function $b(n){return n.props[Fb]}function DO({protectedKeys:n,needsAnimating:e},s){const o=n.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,o}function Yb(n,e,{delay:s=0,transitionOverride:o,type:c}={}){let{transition:h=n.getDefaultTransition(),transitionEnd:f,...g}=e;o&&(h=o);const v=[],_=c&&n.animationState&&n.animationState.getState()[c];for(const S in g){const x=n.getValue(S,n.latestValues[S]??null),E=g[S];if(E===void 0||_&&DO(_,S))continue;const O={delay:s,...fp(h||{},S)},k=x.get();if(k!==void 0&&!x.isAnimating&&!Array.isArray(E)&&E===k&&!O.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const I=$b(n);if(I){const V=window.MotionHandoffAnimation(I,S,be);V!==null&&(O.startTime=V,P=!0)}}Cm(n,S),x.start(dp(S,x,E,n.shouldReduceMotion&&Kb.has(S)?{type:!1}:O,n,P));const H=x.animation;H&&v.push(H)}return f&&Promise.all(v).then(()=>{be.update(()=>{f&&LO(n,f)})}),v}function Rm(n,e,s={}){const o=Do(n,e,s.type==="exit"?n.presenceContext?.custom:void 0);let{transition:c=n.getDefaultTransition()||{}}=o||{};s.transitionOverride&&(c=s.transitionOverride);const h=o?()=>Promise.all(Yb(n,o,s)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(v=0)=>{const{delayChildren:_=0,staggerChildren:S,staggerDirection:x}=c;return PO(n,e,v,_,S,x,s)}:()=>Promise.resolve(),{when:g}=c;if(g){const[v,_]=g==="beforeChildren"?[h,f]:[f,h];return v().then(()=>_())}else return Promise.all([h(),f(s.delay)])}function PO(n,e,s=0,o=0,c=0,h=1,f){const g=[];for(const v of n.variantChildren)v.notify("AnimationStart",e),g.push(Rm(v,e,{...f,delay:s+(typeof o=="function"?0:o)+Zb(n.variantChildren,v,o,c,h)}).then(()=>v.notify("AnimationComplete",e)));return Promise.all(g)}function NO(n,e,s={}){n.notify("AnimationStart",e);let o;if(Array.isArray(e)){const c=e.map(h=>Rm(n,h,s));o=Promise.all(c)}else if(typeof e=="string")o=Rm(n,e,s);else{const c=typeof e=="function"?Do(n,e,s.custom):e;o=Promise.all(Yb(n,c,s))}return o.then(()=>{n.notify("AnimationComplete",e)})}const jO={test:n=>n==="auto",parse:n=>n},Xb=n=>e=>e.test(n),Wb=[jo,St,ts,_a,uA,lA,jO],C_=n=>Wb.find(Xb(n));function zO(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||db(n):!0}const BO=new Set(["brightness","contrast","saturate","opacity"]);function UO(n){const[e,s]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[o]=s.match(sp)||[];if(!o)return n;const c=s.replace(o,"");let h=BO.has(e)?1:0;return o!==s&&(h*=100),e+"("+h+c+")"}const VO=/\b([a-z-]*)\(.*?\)/gu,Lm={...Ea,getAnimatableNone:n=>{const e=n.match(VO);return e?e.map(UO).join(" "):n}},R_={...jo,transform:Math.round},HO={rotate:_a,rotateX:_a,rotateY:_a,rotateZ:_a,scale:th,scaleX:th,scaleY:th,scaleZ:th,skew:_a,skewX:_a,skewY:_a,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:mu,originX:p_,originY:p_,originZ:St},gp={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,inset:St,insetBlock:St,insetBlockStart:St,insetBlockEnd:St,insetInline:St,insetInlineStart:St,insetInlineEnd:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,paddingBlock:St,paddingBlockStart:St,paddingBlockEnd:St,paddingInline:St,paddingInlineStart:St,paddingInlineEnd:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,marginBlock:St,marginBlockStart:St,marginBlockEnd:St,marginInline:St,marginInlineStart:St,marginInlineEnd:St,fontSize:St,backgroundPositionX:St,backgroundPositionY:St,...HO,zIndex:R_,fillOpacity:mu,strokeOpacity:mu,numOctaves:R_},IO={...gp,color:Fe,backgroundColor:Fe,outlineColor:Fe,fill:Fe,stroke:Fe,borderColor:Fe,borderTopColor:Fe,borderRightColor:Fe,borderBottomColor:Fe,borderLeftColor:Fe,filter:Lm,WebkitFilter:Lm},Jb=n=>IO[n];function Qb(n,e){let s=Jb(n);return s!==Lm&&(s=Ea),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const qO=new Set(["auto","none","0"]);function ZO(n,e,s){let o=0,c;for(;o<n.length&&!c;){const h=n[o];typeof h=="string"&&!qO.has(h)&&pu(h).values.length&&(c=n[o]),o++}if(c&&s)for(const h of e)n[h]=Qb(s,c)}class GO extends hp{constructor(e,s,o,c,h){super(e,s,o,c,h,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:o}=this;if(!s||!s.current)return;super.readKeyframes();for(let S=0;S<e.length;S++){let x=e[S];if(typeof x=="string"&&(x=x.trim(),ip(x))){const E=Gb(x,s.current);E!==void 0&&(e[S]=E),S===e.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!Kb.has(o)||e.length!==2)return;const[c,h]=e,f=C_(c),g=C_(h),v=m_(c),_=m_(h);if(v!==_&&xa[o]){this.needsMeasurement=!0;return}if(f!==g)if(x_(f)&&x_(g))for(let S=0;S<e.length;S++){const x=e[S];typeof x=="string"&&(e[S]=parseFloat(x))}else xa[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,o=[];for(let c=0;c<e.length;c++)(e[c]===null||zO(e[c]))&&o.push(c);o.length&&ZO(e,o,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:o}=this;if(!e||!e.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xa[o](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const c=s[s.length-1];c!==void 0&&e.getValue(o,c).jump(c,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:o}=this;if(!e||!e.current)return;const c=e.getValue(s);c&&c.jump(this.measuredOrigin,!1);const h=o.length-1,f=o[h];o[h]=xa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),this.removedTransforms?.length&&this.removedTransforms.forEach(([g,v])=>{e.getValue(g).set(v)}),this.resolveNoneKeyframes()}}function KO(n,e,s){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let o=document;const c=s?.[n]??o.querySelectorAll(n);return c?Array.from(c):[]}return Array.from(n).filter(o=>o!=null)}const tw=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Mm(n){return fb(n)&&"offsetHeight"in n}const{schedule:yp}=Eb(queueMicrotask,!1),Li={x:!1,y:!1};function ew(){return Li.x||Li.y}function FO(n){return n==="x"||n==="y"?Li[n]?null:(Li[n]=!0,()=>{Li[n]=!1}):Li.x||Li.y?null:(Li.x=Li.y=!0,()=>{Li.x=Li.y=!1})}function nw(n,e){const s=KO(n),o=new AbortController,c={passive:!0,...e,signal:o.signal};return[s,c,()=>o.abort()]}function L_(n){return!(n.pointerType==="touch"||ew())}function $O(n,e,s={}){const[o,c,h]=nw(n,s),f=g=>{if(!L_(g))return;const{target:v}=g,_=e(v,g);if(typeof _!="function"||!v)return;const S=x=>{L_(x)&&(_(x),v.removeEventListener("pointerleave",S))};v.addEventListener("pointerleave",S,c)};return o.forEach(g=>{g.addEventListener("pointerenter",f,c)}),h}const iw=(n,e)=>e?n===e?!0:iw(n,e.parentElement):!1,vp=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,YO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sw(n){return YO.has(n.tagName)||n.isContentEditable===!0}const sh=new WeakSet;function M_(n){return e=>{e.key==="Enter"&&n(e)}}function Fd(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const XO=(n,e)=>{const s=n.currentTarget;if(!s)return;const o=M_(()=>{if(sh.has(s))return;Fd(s,"down");const c=M_(()=>{Fd(s,"up")}),h=()=>Fd(s,"cancel");s.addEventListener("keyup",c,e),s.addEventListener("blur",h,e)});s.addEventListener("keydown",o,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",o),e)};function k_(n){return vp(n)&&!ew()}function WO(n,e,s={}){const[o,c,h]=nw(n,s),f=g=>{const v=g.currentTarget;if(!k_(g))return;sh.add(v);const _=e(v,g),S=(O,k)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",E),sh.has(v)&&sh.delete(v),k_(O)&&typeof _=="function"&&_(O,{success:k})},x=O=>{S(O,v===window||v===document||s.useGlobalTarget||iw(v,O.target))},E=O=>{S(O,!1)};window.addEventListener("pointerup",x,c),window.addEventListener("pointercancel",E,c)};return o.forEach(g=>{(s.useGlobalTarget?window:g).addEventListener("pointerdown",f,c),Mm(g)&&(g.addEventListener("focus",_=>XO(_,c)),!sw(g)&&!g.hasAttribute("tabindex")&&(g.tabIndex=0))}),h}function aw(n){return fb(n)&&"ownerSVGElement"in n}function JO(n){return aw(n)&&n.tagName==="svg"}const QO=[...Wb,Fe,Ea],tC=n=>QO.find(Xb(n)),D_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ro=()=>({x:D_(),y:D_()}),P_=()=>({min:0,max:0}),tn=()=>({x:P_(),y:P_()}),km={current:null},rw={current:!1},eC=typeof window<"u";function nC(){if(rw.current=!0,!!eC)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>km.current=n.matches;n.addEventListener("change",e),e()}else km.current=!1}const iC=new WeakMap;function xh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function gu(n){return typeof n=="string"||Array.isArray(n)}const _p=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bp=["initial",..._p];function Th(n){return xh(n.animate)||bp.some(e=>gu(n[e]))}function ow(n){return!!(Th(n)||n.variants)}function sC(n,e,s){for(const o in e){const c=e[o],h=s[o];if(vn(c))n.addValue(o,c);else if(vn(h))n.addValue(o,No(c,{owner:n}));else if(h!==c)if(n.hasValue(o)){const f=n.getValue(o);f.liveStyle===!0?f.jump(c):f.hasAnimated||f.set(c)}else{const f=n.getStaticValue(o);n.addValue(o,No(f!==void 0?f:c,{owner:n}))}}for(const o in s)e[o]===void 0&&n.removeValue(o);return e}const N_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let dh={};function lw(n){dh=n}function aC(){return dh}class rC{scrapeMotionValuesFromProps(e,s,o){return{}}constructor({parent:e,props:s,presenceContext:o,reducedMotionConfig:c,blockInitialAnimation:h,visualState:f},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Tn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,be.render(this.render,!1,!0))};const{latestValues:v,renderState:_}=f;this.latestValues=v,this.baseTarget={...v},this.initialValues=s.initial?{...v}:{},this.renderState=_,this.parent=e,this.props=s,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=c,this.options=g,this.blockInitialAnimation=!!h,this.isControllingVariants=Th(s),this.isVariantNode=ow(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:S,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const E in x){const O=x[E];v[E]!==void 0&&vn(O)&&O.set(v[E])}}mount(e){this.current=e,iC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(rw.current||nC(),this.shouldReduceMotion=km.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ta(this.notifyUpdate),Ta(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const o=Bo.has(e);o&&this.onBindTransform&&this.onBindTransform();const c=s.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&be.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let h;typeof window<"u"&&window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{c(),h&&h(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in dh){const s=dh[e];if(!s)continue;const{isEnabled:o,Feature:c}=s;if(!this.features[e]&&c&&o(this.props)&&(this.features[e]=new c(this)),this.features[e]){const h=this.features[e];h.isMounted?h.update():(h.mount(),h.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let o=0;o<N_.length;o++){const c=N_[o];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const h="on"+c,f=e[h];f&&(this.propEventSubscriptions[c]=this.on(c,f))}this.prevMotionValues=sC(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const o=this.values.get(e);s!==o&&(o&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&s!==void 0&&(o=No(s===null?void 0:s,{owner:this}),this.addValue(e,o)),o}readValue(e,s){let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(hb(o)||db(o))?o=parseFloat(o):!tC(o)&&Ea.test(s)&&(o=Qb(e,s)),this.setBaseTarget(e,vn(o)?o.get():o)),vn(o)?o.get():o}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let o;if(typeof s=="string"||typeof s=="object"){const h=mp(this.props,s,this.presenceContext?.custom);h&&(o=h[e])}if(s&&o!==void 0)return o;const c=this.getBaseTargetFromProps(this.props,e);return c!==void 0&&!vn(c)?c:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new tp),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){yp.render(this.render)}}class uw extends rC{constructor(){super(...arguments),this.KeyframeResolver=GO}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){const o=e.style;return o?o[s]:void 0}removeValueFromRenderState(e,{vars:s,style:o}){delete s[e],delete o[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vn(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class Aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}function cw({top:n,left:e,right:s,bottom:o}){return{x:{min:e,max:s},y:{min:n,max:o}}}function oC({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function lC(n,e){if(!e)return n;const s=e({x:n.left,y:n.top}),o=e({x:n.right,y:n.bottom});return{top:s.y,left:s.x,bottom:o.y,right:o.x}}function $d(n){return n===void 0||n===1}function Dm({scale:n,scaleX:e,scaleY:s}){return!$d(n)||!$d(e)||!$d(s)}function yr(n){return Dm(n)||hw(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function hw(n){return j_(n.x)||j_(n.y)}function j_(n){return n&&n!=="0%"}function mh(n,e,s){const o=n-s,c=e*o;return s+c}function z_(n,e,s,o,c){return c!==void 0&&(n=mh(n,c,o)),mh(n,s,o)+e}function Pm(n,e=0,s=1,o,c){n.min=z_(n.min,e,s,o,c),n.max=z_(n.max,e,s,o,c)}function fw(n,{x:e,y:s}){Pm(n.x,e.translate,e.scale,e.originPoint),Pm(n.y,s.translate,s.scale,s.originPoint)}const B_=.999999999999,U_=1.0000000000001;function uC(n,e,s,o=!1){const c=s.length;if(!c)return;e.x=e.y=1;let h,f;for(let g=0;g<c;g++){h=s[g],f=h.projectionDelta;const{visualElement:v}=h.options;v&&v.props.style&&v.props.style.display==="contents"||(o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Mo(n,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),f&&(e.x*=f.x.scale,e.y*=f.y.scale,fw(n,f)),o&&yr(h.latestValues)&&Mo(n,h.latestValues))}e.x<U_&&e.x>B_&&(e.x=1),e.y<U_&&e.y>B_&&(e.y=1)}function Lo(n,e){n.min=n.min+e,n.max=n.max+e}function V_(n,e,s,o,c=.5){const h=Oe(n.min,n.max,c);Pm(n,e,s,h,o)}function Mo(n,e){V_(n.x,e.x,e.scaleX,e.scale,e.originX),V_(n.y,e.y,e.scaleY,e.scale,e.originY)}function dw(n,e){return cw(lC(n.getBoundingClientRect(),e))}function cC(n,e,s){const o=dw(n,s),{scroll:c}=e;return c&&(Lo(o.x,c.offset.x),Lo(o.y,c.offset.y)),o}const hC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fC=zo.length;function dC(n,e,s){let o="",c=!0;for(let h=0;h<fC;h++){const f=zo[h],g=n[f];if(g===void 0)continue;let v=!0;if(typeof g=="number")v=g===(f.startsWith("scale")?1:0);else{const _=parseFloat(g);v=f.startsWith("scale")?_===1:_===0}if(!v||s){const _=tw(g,gp[f]);if(!v){c=!1;const S=hC[f]||f;o+=`${S}(${_}) `}s&&(e[f]=_)}}return o=o.trim(),s?o=s(e,c?"":o):c&&(o="none"),o}function wp(n,e,s){const{style:o,vars:c,transformOrigin:h}=n;let f=!1,g=!1;for(const v in e){const _=e[v];if(Bo.has(v)){f=!0;continue}else if(Ob(v)){c[v]=_;continue}else{const S=tw(_,gp[v]);v.startsWith("origin")?(g=!0,h[v]=S):o[v]=S}}if(e.transform||(f||s?o.transform=dC(e,n.transform,s):o.transform&&(o.transform="none")),g){const{originX:v="50%",originY:_="50%",originZ:S=0}=h;o.transformOrigin=`${v} ${_} ${S}`}}function mw(n,{style:e,vars:s},o,c){const h=n.style;let f;for(f in e)h[f]=e[f];c?.applyProjectionStyles(h,o);for(f in s)h.setProperty(f,s[f])}function H_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Gl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(St.test(n))n=parseFloat(n);else return n;const s=H_(n,e.target.x),o=H_(n,e.target.y);return`${s}% ${o}%`}},mC={correct:(n,{treeScale:e,projectionDelta:s})=>{const o=n,c=Ea.parse(n);if(c.length>5)return o;const h=Ea.createTransformer(n),f=typeof c[0]!="number"?1:0,g=s.x.scale*e.x,v=s.y.scale*e.y;c[0+f]/=g,c[1+f]/=v;const _=Oe(g,v,.5);return typeof c[2+f]=="number"&&(c[2+f]/=_),typeof c[3+f]=="number"&&(c[3+f]/=_),h(c)}},Nm={borderRadius:{...Gl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gl,borderTopRightRadius:Gl,borderBottomLeftRadius:Gl,borderBottomRightRadius:Gl,boxShadow:mC};function pw(n,{layout:e,layoutId:s}){return Bo.has(n)||n.startsWith("origin")||(e||s!==void 0)&&(!!Nm[n]||n==="opacity")}function Sp(n,e,s){const o=n.style,c=e?.style,h={};if(!o)return h;for(const f in o)(vn(o[f])||c&&vn(c[f])||pw(f,n)||s?.getValue(f)?.liveStyle!==void 0)&&(h[f]=o[f]);return h}function pC(n){return window.getComputedStyle(n)}class gC extends uw{constructor(){super(...arguments),this.type="html",this.renderInstance=mw}readValueFromInstance(e,s){if(Bo.has(s))return this.projection?.isProjecting?wm(s):KA(e,s);{const o=pC(e),c=(Ob(s)?o.getPropertyValue(s):o[s])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(e,{transformPagePoint:s}){return dw(e,s)}build(e,s,o){wp(e,s,o.transformTemplate)}scrapeMotionValuesFromProps(e,s,o){return Sp(e,s,o)}}const yC={offset:"stroke-dashoffset",array:"stroke-dasharray"},vC={offset:"strokeDashoffset",array:"strokeDasharray"};function _C(n,e,s=1,o=0,c=!0){n.pathLength=1;const h=c?yC:vC;n[h.offset]=`${-o}`,n[h.array]=`${e} ${s}`}const bC=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function gw(n,{attrX:e,attrY:s,attrScale:o,pathLength:c,pathSpacing:h=1,pathOffset:f=0,...g},v,_,S){if(wp(n,g,_),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:E}=n;x.transform&&(E.transform=x.transform,delete x.transform),(E.transform||x.transformOrigin)&&(E.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),E.transform&&(E.transformBox=S?.transformBox??"fill-box",delete x.transformBox);for(const O of bC)x[O]!==void 0&&(E[O]=x[O],delete x[O]);e!==void 0&&(x.x=e),s!==void 0&&(x.y=s),o!==void 0&&(x.scale=o),c!==void 0&&_C(x,c,h,f,!1)}const yw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),vw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function wC(n,e,s,o){mw(n,e,void 0,o);for(const c in e.attrs)n.setAttribute(yw.has(c)?c:pp(c),e.attrs[c])}function _w(n,e,s){const o=Sp(n,e,s);for(const c in n)if(vn(n[c])||vn(e[c])){const h=zo.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;o[h]=n[c]}return o}class SC extends uw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tn}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Bo.has(s)){const o=Jb(s);return o&&o.default||0}return s=yw.has(s)?s:pp(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,o){return _w(e,s,o)}build(e,s,o){gw(e,s,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(e,s,o,c){wC(e,s,o,c)}mount(e){this.isSVGTag=vw(e.tagName),super.mount(e)}}const xC=bp.length;function bw(n){if(!n)return;if(!n.isControllingVariants){const s=n.parent?bw(n.parent)||{}:{};return n.props.initial!==void 0&&(s.initial=n.props.initial),s}const e={};for(let s=0;s<xC;s++){const o=bp[s],c=n.props[o];(gu(c)||c===!1)&&(e[o]=c)}return e}function ww(n,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==n.length)return!1;for(let o=0;o<s;o++)if(e[o]!==n[o])return!1;return!0}const TC=[..._p].reverse(),EC=_p.length;function AC(n){return e=>Promise.all(e.map(({animation:s,options:o})=>NO(n,s,o)))}function OC(n){let e=AC(n),s=I_(),o=!0;const c=v=>(_,S)=>{const x=Do(n,S,v==="exit"?n.presenceContext?.custom:void 0);if(x){const{transition:E,transitionEnd:O,...k}=x;_={..._,...k,...O}}return _};function h(v){e=v(n)}function f(v){const{props:_}=n,S=bw(n.parent)||{},x=[],E=new Set;let O={},k=1/0;for(let H=0;H<EC;H++){const I=TC[H],V=s[I],z=_[I]!==void 0?_[I]:S[I],at=gu(z),rt=I===v?V.isActive:null;rt===!1&&(k=H);let ct=z===S[I]&&z!==_[I]&&at;if(ct&&o&&n.manuallyAnimateOnMount&&(ct=!1),V.protectedKeys={...O},!V.isActive&&rt===null||!z&&!V.prevProp||xh(z)||typeof z=="boolean")continue;const lt=CC(V.prevProp,z);let pt=lt||I===v&&V.isActive&&!ct&&at||H>k&&at,wt=!1;const Bt=Array.isArray(z)?z:[z];let It=Bt.reduce(c(I),{});rt===!1&&(It={});const{prevResolvedValues:_t={}}=V,Nt={..._t,...It},Ut=nt=>{pt=!0,E.has(nt)&&(wt=!0,E.delete(nt)),V.needsAnimating[nt]=!0;const st=n.getValue(nt);st&&(st.liveStyle=!1)};for(const nt in Nt){const st=It[nt],Pt=_t[nt];if(O.hasOwnProperty(nt))continue;let dt=!1;Om(st)&&Om(Pt)?dt=!ww(st,Pt):dt=st!==Pt,dt?st!=null?Ut(nt):E.add(nt):st!==void 0&&E.has(nt)?Ut(nt):V.protectedKeys[nt]=!0}V.prevProp=z,V.prevResolvedValues=It,V.isActive&&(O={...O,...It}),o&&n.blockInitialAnimation&&(pt=!1);const Qt=ct&&lt;pt&&(!Qt||wt)&&x.push(...Bt.map(nt=>{const st={type:I};if(typeof nt=="string"&&o&&!Qt&&n.manuallyAnimateOnMount&&n.parent){const{parent:Pt}=n,dt=Do(Pt,nt);if(Pt.enteringChildren&&dt){const{delayChildren:M}=dt.transition||{};st.delay=Zb(Pt.enteringChildren,n,M)}}return{animation:nt,options:st}}))}if(E.size){const H={};if(typeof _.initial!="boolean"){const I=Do(n,Array.isArray(_.initial)?_.initial[0]:_.initial);I&&I.transition&&(H.transition=I.transition)}E.forEach(I=>{const V=n.getBaseTarget(I),z=n.getValue(I);z&&(z.liveStyle=!0),H[I]=V??null}),x.push({animation:H})}let P=!!x.length;return o&&(_.initial===!1||_.initial===_.animate)&&!n.manuallyAnimateOnMount&&(P=!1),o=!1,P?e(x):Promise.resolve()}function g(v,_){if(s[v].isActive===_)return Promise.resolve();n.variantChildren?.forEach(x=>x.animationState?.setActive(v,_)),s[v].isActive=_;const S=f(v);for(const x in s)s[x].protectedKeys={};return S}return{animateChanges:f,setActive:g,setAnimateFunction:h,getState:()=>s,reset:()=>{s=I_()}}}function CC(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!ww(e,n):!1}function pr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function I_(){return{animate:pr(!0),whileInView:pr(),whileHover:pr(),whileTap:pr(),whileDrag:pr(),whileFocus:pr(),exit:pr()}}function q_(n,e){n.min=e.min,n.max=e.max}function Ci(n,e){q_(n.x,e.x),q_(n.y,e.y)}function Z_(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}const Sw=1e-4,RC=1-Sw,LC=1+Sw,xw=.01,MC=0-xw,kC=0+xw;function En(n){return n.max-n.min}function DC(n,e,s){return Math.abs(n-e)<=s}function G_(n,e,s,o=.5){n.origin=o,n.originPoint=Oe(e.min,e.max,n.origin),n.scale=En(s)/En(e),n.translate=Oe(s.min,s.max,n.origin)-n.originPoint,(n.scale>=RC&&n.scale<=LC||isNaN(n.scale))&&(n.scale=1),(n.translate>=MC&&n.translate<=kC||isNaN(n.translate))&&(n.translate=0)}function nu(n,e,s,o){G_(n.x,e.x,s.x,o?o.originX:void 0),G_(n.y,e.y,s.y,o?o.originY:void 0)}function K_(n,e,s){n.min=s.min+e.min,n.max=n.min+En(e)}function PC(n,e,s){K_(n.x,e.x,s.x),K_(n.y,e.y,s.y)}function F_(n,e,s){n.min=e.min-s.min,n.max=n.min+En(e)}function ph(n,e,s){F_(n.x,e.x,s.x),F_(n.y,e.y,s.y)}function $_(n,e,s,o,c){return n-=e,n=mh(n,1/s,o),c!==void 0&&(n=mh(n,1/c,o)),n}function NC(n,e=0,s=1,o=.5,c,h=n,f=n){if(ts.test(e)&&(e=parseFloat(e),e=Oe(f.min,f.max,e/100)-f.min),typeof e!="number")return;let g=Oe(h.min,h.max,o);n===h&&(g-=e),n.min=$_(n.min,e,s,g,c),n.max=$_(n.max,e,s,g,c)}function Y_(n,e,[s,o,c],h,f){NC(n,e[s],e[o],e[c],e.scale,h,f)}const jC=["x","scaleX","originX"],zC=["y","scaleY","originY"];function X_(n,e,s,o){Y_(n.x,e,jC,s?s.x:void 0,o?o.x:void 0),Y_(n.y,e,zC,s?s.y:void 0,o?o.y:void 0)}function W_(n){return n.translate===0&&n.scale===1}function Tw(n){return W_(n.x)&&W_(n.y)}function J_(n,e){return n.min===e.min&&n.max===e.max}function BC(n,e){return J_(n.x,e.x)&&J_(n.y,e.y)}function Q_(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Ew(n,e){return Q_(n.x,e.x)&&Q_(n.y,e.y)}function t0(n){return En(n.x)/En(n.y)}function e0(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}function di(n){return[n("x"),n("y")]}function UC(n,e,s){let o="";const c=n.x.translate/e.x,h=n.y.translate/e.y,f=s?.z||0;if((c||h||f)&&(o=`translate3d(${c}px, ${h}px, ${f}px) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:_,rotate:S,rotateX:x,rotateY:E,skewX:O,skewY:k}=s;_&&(o=`perspective(${_}px) ${o}`),S&&(o+=`rotate(${S}deg) `),x&&(o+=`rotateX(${x}deg) `),E&&(o+=`rotateY(${E}deg) `),O&&(o+=`skewX(${O}deg) `),k&&(o+=`skewY(${k}deg) `)}const g=n.x.scale*e.x,v=n.y.scale*e.y;return(g!==1||v!==1)&&(o+=`scale(${g}, ${v})`),o||"none"}const Aw=["TopLeft","TopRight","BottomLeft","BottomRight"],VC=Aw.length,n0=n=>typeof n=="string"?parseFloat(n):n,i0=n=>typeof n=="number"||St.test(n);function HC(n,e,s,o,c,h){c?(n.opacity=Oe(0,s.opacity??1,IC(o)),n.opacityExit=Oe(e.opacity??1,0,qC(o))):h&&(n.opacity=Oe(e.opacity??1,s.opacity??1,o));for(let f=0;f<VC;f++){const g=`border${Aw[f]}Radius`;let v=s0(e,g),_=s0(s,g);if(v===void 0&&_===void 0)continue;v||(v=0),_||(_=0),v===0||_===0||i0(v)===i0(_)?(n[g]=Math.max(Oe(n0(v),n0(_),o),0),(ts.test(_)||ts.test(v))&&(n[g]+="%")):n[g]=_}(e.rotate||s.rotate)&&(n.rotate=Oe(e.rotate||0,s.rotate||0,o))}function s0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const IC=Ow(0,.5,wb),qC=Ow(.5,.95,pi);function Ow(n,e,s){return o=>o<n?0:o>e?1:s(du(n,e,o))}function ZC(n,e,s){const o=vn(n)?n:No(n);return o.start(dp("",o,e,s)),o.animation}function yu(n,e,s,o={passive:!0}){return n.addEventListener(e,s,o),()=>n.removeEventListener(e,s)}const GC=(n,e)=>n.depth-e.depth;class KC{constructor(){this.children=[],this.isDirty=!1}add(e){Xm(this.children,e),this.isDirty=!0}remove(e){Wm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(GC),this.isDirty=!1,this.children.forEach(e)}}function FC(n,e){const s=Tn.now(),o=({timestamp:c})=>{const h=c-s;h>=e&&(Ta(o),n(h-e))};return be.setup(o,!0),()=>Ta(o)}function ah(n){return vn(n)?n.get():n}class $C{constructor(){this.members=[]}add(e){Xm(this.members,e),e.scheduleRender()}remove(e){if(Wm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(c=>e===c);if(s===0)return!1;let o;for(let c=s;c>=0;c--){const h=this.members[c];if(h.isPresent!==!1){o=h;break}}return o?(this.promote(o),!0):!1}promote(e,s){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender();const c=o.options.layoutDependency,h=e.options.layoutDependency;c!==void 0&&h!==void 0&&c===h||(e.resumeFrom=o,s&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:g}=e.options;g===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:o}=e;s.onExitComplete&&s.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const rh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Yd=["","X","Y","Z"],YC=1e3;let XC=0;function Xd(n,e,s,o){const{latestValues:c}=e;c[n]&&(s[n]=c[n],e.setStaticValue(n,0),o&&(o[n]=0))}function Cw(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const s=$b(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:c,layoutId:h}=n.options;window.MotionCancelOptimisedAnimation(s,"transform",be,!(c||h))}const{parent:o}=n;o&&!o.hasCheckedOptimisedAppear&&Cw(o)}function Rw({attachResizeListener:n,defaultParent:e,measureScroll:s,checkIsScrollRoot:o,resetTransform:c}){return class{constructor(f={},g=e?.()){this.id=XC++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QC),this.nodes.forEach(i2),this.nodes.forEach(s2),this.nodes.forEach(t2)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=g?g.root||g:this,this.path=g?[...g.path,g]:[],this.parent=g,this.depth=g?g.depth+1:0;for(let v=0;v<this.path.length;v++)this.path[v].shouldResetTransform=!0;this.root===this&&(this.nodes=new KC)}addEventListener(f,g){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new tp),this.eventHandlers.get(f).add(g)}notifyListeners(f,...g){const v=this.eventHandlers.get(f);v&&v.notify(...g)}hasListeners(f){return this.eventHandlers.has(f)}mount(f){if(this.instance)return;this.isSVG=aw(f)&&!JO(f),this.instance=f;const{layoutId:g,layout:v,visualElement:_}=this.options;if(_&&!_.current&&_.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(v||g)&&(this.isLayoutDirty=!0),n){let S,x=0;const E=()=>this.root.updateBlockedByResize=!1;be.read(()=>{x=window.innerWidth}),n(f,()=>{const O=window.innerWidth;O!==x&&(x=O,this.root.updateBlockedByResize=!0,S&&S(),S=FC(E,250),rh.hasAnimatedSinceResize&&(rh.hasAnimatedSinceResize=!1,this.nodes.forEach(o0)))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&_&&(g||v)&&this.addEventListener("didUpdate",({delta:S,hasLayoutChanged:x,hasRelativeLayoutChanged:E,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||_.getDefaultTransition()||u2,{onLayoutAnimationStart:P,onLayoutAnimationComplete:H}=_.getProps(),I=!this.targetLayout||!Ew(this.targetLayout,O),V=!x&&E;if(this.options.layoutRoot||this.resumeFrom||V||x&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...fp(k,"layout"),onPlay:P,onComplete:H};(_.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(S,V)}else x||o0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ta(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(a2),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Cw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let S=0;S<this.path.length;S++){const x=this.path[S];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:g,layout:v}=this.options;if(g===void 0&&!v)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(a0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(r0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(n2),this.nodes.forEach(WC),this.nodes.forEach(JC)):this.nodes.forEach(r0),this.clearAllSnapshots();const g=Tn.now();dn.delta=es(0,1e3/60,g-dn.timestamp),dn.timestamp=g,dn.isProcessing=!0,Hd.update.process(dn),Hd.preRender.process(dn),Hd.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(e2),this.sharedNodes.forEach(r2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let v=0;v<this.path.length;v++)this.path[v].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:g}=this.options;g&&g.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let g=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(g=!1),g&&this.instance){const v=o(this.instance);this.scroll={animationId:this.root.animationId,phase:f,isRoot:v,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:v}}}resetTransform(){if(!c)return;const f=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,g=this.projectionDelta&&!Tw(this.projectionDelta),v=this.getTransformTemplate(),_=v?v(this.latestValues,""):void 0,S=_!==this.prevTransformTemplateValue;f&&this.instance&&(g||yr(this.latestValues)||S)&&(c(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const g=this.measurePageBox();let v=this.removeElementScroll(g);return f&&(v=this.removeTransform(v)),c2(v),{animationId:this.root.animationId,measuredBox:g,layoutBox:v,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return tn();const g=f.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(h2))){const{scroll:_}=this.root;_&&(Lo(g.x,_.offset.x),Lo(g.y,_.offset.y))}return g}removeElementScroll(f){const g=tn();if(Ci(g,f),this.scroll?.wasRoot)return g;for(let v=0;v<this.path.length;v++){const _=this.path[v],{scroll:S,options:x}=_;_!==this.root&&S&&x.layoutScroll&&(S.wasRoot&&Ci(g,f),Lo(g.x,S.offset.x),Lo(g.y,S.offset.y))}return g}applyTransform(f,g=!1){const v=tn();Ci(v,f);for(let _=0;_<this.path.length;_++){const S=this.path[_];!g&&S.options.layoutScroll&&S.scroll&&S!==S.root&&Mo(v,{x:-S.scroll.offset.x,y:-S.scroll.offset.y}),yr(S.latestValues)&&Mo(v,S.latestValues)}return yr(this.latestValues)&&Mo(v,this.latestValues),v}removeTransform(f){const g=tn();Ci(g,f);for(let v=0;v<this.path.length;v++){const _=this.path[v];if(!_.instance||!yr(_.latestValues))continue;Dm(_.latestValues)&&_.updateSnapshot();const S=tn(),x=_.measurePageBox();Ci(S,x),X_(g,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,S)}return yr(this.latestValues)&&X_(g,this.latestValues),g}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const v=!!this.resumingFrom||this!==g;if(!(f||v&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:S,layoutId:x}=this.options;if(!this.layout||!(S||x))return;this.resolvedRelativeTargetAt=dn.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tn(),this.targetWithTransforms=tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ci(this.target,this.layout.layoutBox),fw(this.target,this.targetDelta)):Ci(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Dm(this.parent.latestValues)||hw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(f,g,v){this.relativeParent=f,this.linkedParentVersion=f.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tn(),this.relativeTargetOrigin=tn(),ph(this.relativeTargetOrigin,g,v),Ci(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const f=this.getLead(),g=!!this.resumingFrom||this!==f;let v=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(v=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(v=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(v=!1),v)return;const{layout:_,layoutId:S}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||S))return;Ci(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,E=this.treeScale.y;uC(this.layoutCorrected,this.treeScale,this.path,g),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=tn());const{target:O}=f;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Z_(this.prevProjectionDelta.x,this.projectionDelta.x),Z_(this.prevProjectionDelta.y,this.projectionDelta.y)),nu(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==E||!e0(this.projectionDelta.x,this.prevProjectionDelta.x)||!e0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.visualElement?.scheduleRender(),f){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ro(),this.projectionDelta=Ro(),this.projectionDeltaWithTransform=Ro()}setAnimationOrigin(f,g=!1){const v=this.snapshot,_=v?v.latestValues:{},S={...this.latestValues},x=Ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!g;const E=tn(),O=v?v.source:void 0,k=this.layout?this.layout.source:void 0,P=O!==k,H=this.getStack(),I=!H||H.members.length<=1,V=!!(P&&!I&&this.options.crossfade===!0&&!this.path.some(l2));this.animationProgress=0;let z;this.mixTargetDelta=at=>{const rt=at/1e3;l0(x.x,f.x,rt),l0(x.y,f.y,rt),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ph(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),o2(this.relativeTarget,this.relativeTargetOrigin,E,rt),z&&BC(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=tn()),Ci(z,this.relativeTarget)),P&&(this.animationValues=S,HC(S,_,this.latestValues,rt,V,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ta(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{rh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=No(0)),this.currentAnimation=ZC(this.motionValue,[0,1e3],{...f,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),f.onUpdate&&f.onUpdate(g)},onStop:()=>{},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:g,target:v,layout:_,latestValues:S}=f;if(!(!g||!v||!_)){if(this!==f&&this.layout&&_&&Lw(this.options.animationType,this.layout.layoutBox,_.layoutBox)){v=this.target||tn();const x=En(this.layout.layoutBox.x);v.x.min=f.target.x.min,v.x.max=v.x.min+x;const E=En(this.layout.layoutBox.y);v.y.min=f.target.y.min,v.y.max=v.y.min+E}Ci(g,v),Mo(g,S),nu(this.projectionDeltaWithTransform,this.layoutCorrected,g,S)}}registerSharedNode(f,g){this.sharedNodes.has(f)||this.sharedNodes.set(f,new $C),this.sharedNodes.get(f).add(g);const _=g.options.initialPromotionConfig;g.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(g):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){const{layoutId:f}=this.options;return f?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:f}=this.options;return f?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:g,preserveFollowOpacity:v}={}){const _=this.getStack();_&&_.promote(this,v),f&&(this.projectionDelta=void 0,this.needsReset=!0),g&&this.setOptions({transition:g})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetSkewAndRotation(){const{visualElement:f}=this.options;if(!f)return;let g=!1;const{latestValues:v}=f;if((v.z||v.rotate||v.rotateX||v.rotateY||v.rotateZ||v.skewX||v.skewY)&&(g=!0),!g)return;const _={};v.z&&Xd("z",f,_,this.animationValues);for(let S=0;S<Yd.length;S++)Xd(`rotate${Yd[S]}`,f,_,this.animationValues),Xd(`skew${Yd[S]}`,f,_,this.animationValues);f.render();for(const S in _)f.setStaticValue(S,_[S]),this.animationValues&&(this.animationValues[S]=_[S]);f.scheduleRender()}applyProjectionStyles(f,g){if(!this.instance||this.isSVG)return;if(!this.isVisible){f.visibility="hidden";return}const v=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,f.visibility="",f.opacity="",f.pointerEvents=ah(g?.pointerEvents)||"",f.transform=v?v(this.latestValues,""):"none";return}const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=ah(g?.pointerEvents)||""),this.hasProjected&&!yr(this.latestValues)&&(f.transform=v?v({},""):"none",this.hasProjected=!1);return}f.visibility="";const S=_.animationValues||_.latestValues;this.applyTransformsToTarget();let x=UC(this.projectionDeltaWithTransform,this.treeScale,S);v&&(x=v(S,x)),f.transform=x;const{x:E,y:O}=this.projectionDelta;f.transformOrigin=`${E.origin*100}% ${O.origin*100}% 0`,_.animationValues?f.opacity=_===this?S.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:f.opacity=_===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const k in Nm){if(S[k]===void 0)continue;const{correct:P,applyTo:H,isCSSVariable:I}=Nm[k],V=x==="none"?S[k]:P(S[k],_);if(H){const z=H.length;for(let at=0;at<z;at++)f[H[at]]=V}else I?this.options.visualElement.renderState.vars[k]=V:f[k]=V}this.options.layoutId&&(f.pointerEvents=_===this?ah(g?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>f.currentAnimation?.stop()),this.root.nodes.forEach(a0),this.root.sharedNodes.clear()}}}function WC(n){n.updateLayout()}function JC(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=n.layout,{animationType:c}=n.options,h=e.source!==n.layout.source;c==="size"?di(S=>{const x=h?e.measuredBox[S]:e.layoutBox[S],E=En(x);x.min=s[S].min,x.max=x.min+E}):Lw(c,e.layoutBox,s)&&di(S=>{const x=h?e.measuredBox[S]:e.layoutBox[S],E=En(s[S]);x.max=x.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[S].max=n.relativeTarget[S].min+E)});const f=Ro();nu(f,s,e.layoutBox);const g=Ro();h?nu(g,n.applyTransform(o,!0),e.measuredBox):nu(g,s,e.layoutBox);const v=!Tw(f);let _=!1;if(!n.resumeFrom){const S=n.getClosestProjectingParent();if(S&&!S.resumeFrom){const{snapshot:x,layout:E}=S;if(x&&E){const O=tn();ph(O,e.layoutBox,x.layoutBox);const k=tn();ph(k,s,E.layoutBox),Ew(O,k)||(_=!0),S.options.layoutRoot&&(n.relativeTarget=k,n.relativeTargetOrigin=O,n.relativeParent=S)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:g,layoutDelta:f,hasLayoutChanged:v,hasRelativeLayoutChanged:_})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function QC(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function t2(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function e2(n){n.clearSnapshot()}function a0(n){n.clearMeasurements()}function r0(n){n.isLayoutDirty=!1}function n2(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function o0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function i2(n){n.resolveTargetDelta()}function s2(n){n.calcProjection()}function a2(n){n.resetSkewAndRotation()}function r2(n){n.removeLeadSnapshot()}function l0(n,e,s){n.translate=Oe(e.translate,0,s),n.scale=Oe(e.scale,1,s),n.origin=e.origin,n.originPoint=e.originPoint}function u0(n,e,s,o){n.min=Oe(e.min,s.min,o),n.max=Oe(e.max,s.max,o)}function o2(n,e,s,o){u0(n.x,e.x,s.x,o),u0(n.y,e.y,s.y,o)}function l2(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const u2={duration:.45,ease:[.4,0,.1,1]},c0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),h0=c0("applewebkit/")&&!c0("chrome/")?Math.round:pi;function f0(n){n.min=h0(n.min),n.max=h0(n.max)}function c2(n){f0(n.x),f0(n.y)}function Lw(n,e,s){return n==="position"||n==="preserve-aspect"&&!DC(t0(e),t0(s),.2)}function h2(n){return n!==n.root&&n.scroll?.wasRoot}const f2=Rw({attachResizeListener:(n,e)=>yu(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Wd={current:void 0},Mw=Rw({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Wd.current){const n=new f2({});n.mount(window),n.setOptions({layoutScroll:!0}),Wd.current=n}return Wd.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),xp=it.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function d0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function d2(...n){return e=>{let s=!1;const o=n.map(c=>{const h=d0(c,e);return!s&&typeof h=="function"&&(s=!0),h});if(s)return()=>{for(let c=0;c<o.length;c++){const h=o[c];typeof h=="function"?h():d0(n[c],null)}}}}function m2(...n){return it.useCallback(d2(...n),n)}class p2 extends it.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const o=s.offsetParent,c=Mm(o)&&o.offsetWidth||0,h=Mm(o)&&o.offsetHeight||0,f=this.props.sizeRef.current;f.height=s.offsetHeight||0,f.width=s.offsetWidth||0,f.top=s.offsetTop,f.left=s.offsetLeft,f.right=c-f.width-f.left,f.bottom=h-f.height-f.top}return null}componentDidUpdate(){}render(){return this.props.children}}function g2({children:n,isPresent:e,anchorX:s,anchorY:o,root:c}){const h=it.useId(),f=it.useRef(null),g=it.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:v}=it.useContext(xp),_=n.props?.ref??n?.ref,S=m2(f,_);return it.useInsertionEffect(()=>{const{width:x,height:E,top:O,left:k,right:P,bottom:H}=g.current;if(e||!f.current||!x||!E)return;const I=s==="left"?`left: ${k}`:`right: ${P}`,V=o==="bottom"?`bottom: ${H}`:`top: ${O}`;f.current.dataset.motionPopId=h;const z=document.createElement("style");v&&(z.nonce=v);const at=c??document.head;return at.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${h}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${E}px !important;
            ${I}px !important;
            ${V}px !important;
          }
        `),()=>{at.contains(z)&&at.removeChild(z)}},[e]),N.jsx(p2,{isPresent:e,childRef:f,sizeRef:g,children:it.cloneElement(n,{ref:S})})}const y2=({children:n,initial:e,isPresent:s,onExitComplete:o,custom:c,presenceAffectsLayout:h,mode:f,anchorX:g,anchorY:v,root:_})=>{const S=Ym(v2),x=it.useId();let E=!0,O=it.useMemo(()=>(E=!1,{id:x,initial:e,isPresent:s,custom:c,onExitComplete:k=>{S.set(k,!0);for(const P of S.values())if(!P)return;o&&o()},register:k=>(S.set(k,!1),()=>S.delete(k))}),[s,S,o]);return h&&E&&(O={...O}),it.useMemo(()=>{S.forEach((k,P)=>S.set(P,!1))},[s]),it.useEffect(()=>{!s&&!S.size&&o&&o()},[s]),f==="popLayout"&&(n=N.jsx(g2,{isPresent:s,anchorX:g,anchorY:v,root:_,children:n})),N.jsx(Sh.Provider,{value:O,children:n})};function v2(){return new Map}function kw(n=!0){const e=it.useContext(Sh);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:o,register:c}=e,h=it.useId();it.useEffect(()=>{if(n)return c(h)},[n]);const f=it.useCallback(()=>n&&o&&o(h),[h,o,n]);return!s&&o?[!1,f]:[!0]}const eh=n=>n.key||"";function m0(n){const e=[];return it.Children.forEach(n,s=>{it.isValidElement(s)&&e.push(s)}),e}const Dw=({children:n,custom:e,initial:s=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:h="sync",propagate:f=!1,anchorX:g="left",anchorY:v="top",root:_})=>{const[S,x]=kw(f),E=it.useMemo(()=>m0(n),[n]),O=f&&!S?[]:E.map(eh),k=it.useRef(!0),P=it.useRef(E),H=Ym(()=>new Map),I=it.useRef(new Set),[V,z]=it.useState(E),[at,rt]=it.useState(E);cb(()=>{k.current=!1,P.current=E;for(let pt=0;pt<at.length;pt++){const wt=eh(at[pt]);O.includes(wt)?(H.delete(wt),I.current.delete(wt)):H.get(wt)!==!0&&H.set(wt,!1)}},[at,O.length,O.join("-")]);const ct=[];if(E!==V){let pt=[...E];for(let wt=0;wt<at.length;wt++){const Bt=at[wt],It=eh(Bt);O.includes(It)||(pt.splice(wt,0,Bt),ct.push(Bt))}return h==="wait"&&ct.length&&(pt=ct),rt(m0(pt)),z(E),null}const{forceRender:lt}=it.useContext($m);return N.jsx(N.Fragment,{children:at.map(pt=>{const wt=eh(pt),Bt=f&&!S?!1:E===at||O.includes(wt),It=()=>{if(I.current.has(wt))return;if(I.current.add(wt),H.has(wt))H.set(wt,!0);else return;let _t=!0;H.forEach(Nt=>{Nt||(_t=!1)}),_t&&(lt?.(),rt(P.current),f&&x?.(),o&&o())};return N.jsx(y2,{isPresent:Bt,initial:!k.current||s?void 0:!1,custom:e,presenceAffectsLayout:c,mode:h,root:_,onExitComplete:Bt?void 0:It,anchorX:g,anchorY:v,children:pt},wt)})})},Pw=it.createContext({strict:!1}),p0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let g0=!1;function _2(){if(g0)return;const n={};for(const e in p0)n[e]={isEnabled:s=>p0[e].some(o=>!!s[o])};lw(n),g0=!0}function Nw(){return _2(),aC()}function b2(n){const e=Nw();for(const s in n)e[s]={...e[s],...n[s]};lw(e)}const w2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||w2.has(n)}let jw=n=>!gh(n);function S2(n){typeof n=="function"&&(jw=e=>e.startsWith("on")?!gh(e):n(e))}try{S2(require("@emotion/is-prop-valid").default)}catch{}function x2(n,e,s){const o={};for(const c in n)c==="values"&&typeof n.values=="object"||(jw(c)||s===!0&&gh(c)||!e&&!gh(c)||n.draggable&&c.startsWith("onDrag"))&&(o[c]=n[c]);return o}const Eh=it.createContext({});function T2(n,e){if(Th(n)){const{initial:s,animate:o}=n;return{initial:s===!1||gu(s)?s:void 0,animate:gu(o)?o:void 0}}return n.inherit!==!1?e:{}}function E2(n){const{initial:e,animate:s}=T2(n,it.useContext(Eh));return it.useMemo(()=>({initial:e,animate:s}),[y0(e),y0(s)])}function y0(n){return Array.isArray(n)?n.join(" "):n}const Tp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zw(n,e,s){for(const o in e)!vn(e[o])&&!pw(o,s)&&(n[o]=e[o])}function A2({transformTemplate:n},e){return it.useMemo(()=>{const s=Tp();return wp(s,e,n),Object.assign({},s.vars,s.style)},[e])}function O2(n,e){const s=n.style||{},o={};return zw(o,s,n),Object.assign(o,A2(n,e)),o}function C2(n,e){const s={},o=O2(n,e);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=o,s}const Bw=()=>({...Tp(),attrs:{}});function R2(n,e,s,o){const c=it.useMemo(()=>{const h=Bw();return gw(h,e,vw(o),n.transformTemplate,n.style),{...h.attrs,style:{...h.style}}},[e]);if(n.style){const h={};zw(h,n.style,n),c.style={...h,...c.style}}return c}const L2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ep(n){return typeof n!="string"||n.includes("-")?!1:!!(L2.indexOf(n)>-1||/[A-Z]/u.test(n))}function M2(n,e,s,{latestValues:o},c,h=!1,f){const v=(f??Ep(n)?R2:C2)(e,o,c,n),_=x2(e,typeof n=="string",h),S=n!==it.Fragment?{..._,...v,ref:s}:{},{children:x}=e,E=it.useMemo(()=>vn(x)?x.get():x,[x]);return it.createElement(n,{...S,children:E})}function k2({scrapeMotionValuesFromProps:n,createRenderState:e},s,o,c){return{latestValues:D2(s,o,c,n),renderState:e()}}function D2(n,e,s,o){const c={},h=o(n,{});for(const E in h)c[E]=ah(h[E]);let{initial:f,animate:g}=n;const v=Th(n),_=ow(n);e&&_&&!v&&n.inherit!==!1&&(f===void 0&&(f=e.initial),g===void 0&&(g=e.animate));let S=s?s.initial===!1:!1;S=S||f===!1;const x=S?g:f;if(x&&typeof x!="boolean"&&!xh(x)){const E=Array.isArray(x)?x:[x];for(let O=0;O<E.length;O++){const k=mp(n,E[O]);if(k){const{transitionEnd:P,transition:H,...I}=k;for(const V in I){let z=I[V];if(Array.isArray(z)){const at=S?z.length-1:0;z=z[at]}z!==null&&(c[V]=z)}for(const V in P)c[V]=P[V]}}}return c}const Uw=n=>(e,s)=>{const o=it.useContext(Eh),c=it.useContext(Sh),h=()=>k2(n,e,o,c);return s?h():Ym(h)},P2=Uw({scrapeMotionValuesFromProps:Sp,createRenderState:Tp}),N2=Uw({scrapeMotionValuesFromProps:_w,createRenderState:Bw}),j2=Symbol.for("motionComponentSymbol");function z2(n,e,s){const o=it.useRef(s);it.useInsertionEffect(()=>{o.current=s});const c=it.useRef(null);return it.useCallback(h=>{h&&n.onMount?.(h),e&&(h?e.mount(h):e.unmount());const f=o.current;if(typeof f=="function")if(h){const g=f(h);typeof g=="function"&&(c.current=g)}else c.current?(c.current(),c.current=null):f(h);else f&&(f.current=h)},[e])}const Vw=it.createContext({});function Yl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function B2(n,e,s,o,c,h){const{visualElement:f}=it.useContext(Eh),g=it.useContext(Pw),v=it.useContext(Sh),_=it.useContext(xp).reducedMotion,S=it.useRef(null),x=it.useRef(!1);o=o||g.renderer,!S.current&&o&&(S.current=o(n,{visualState:e,parent:f,props:s,presenceContext:v,blockInitialAnimation:v?v.initial===!1:!1,reducedMotionConfig:_,isSVG:h}),x.current&&S.current&&(S.current.manuallyAnimateOnMount=!0));const E=S.current,O=it.useContext(Vw);E&&!E.projection&&c&&(E.type==="html"||E.type==="svg")&&U2(S.current,s,c,O);const k=it.useRef(!1);it.useInsertionEffect(()=>{E&&k.current&&E.update(s,v)});const P=s[Fb],H=it.useRef(!!P&&!window.MotionHandoffIsComplete?.(P)&&window.MotionHasOptimisedAnimation?.(P));return cb(()=>{x.current=!0,E&&(k.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),E.scheduleRenderMicrotask(),H.current&&E.animationState&&E.animationState.animateChanges())}),it.useEffect(()=>{E&&(!H.current&&E.animationState&&E.animationState.animateChanges(),H.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(P)}),H.current=!1),E.enteringChildren=void 0)}),E}function U2(n,e,s,o){const{layoutId:c,layout:h,drag:f,dragConstraints:g,layoutScroll:v,layoutRoot:_,layoutCrossfade:S}=e;n.projection=new s(n.latestValues,e["data-framer-portal-id"]?void 0:Hw(n.parent)),n.projection.setOptions({layoutId:c,layout:h,alwaysMeasureLayout:!!f||g&&Yl(g),visualElement:n,animationType:typeof h=="string"?h:"both",initialPromotionConfig:o,crossfade:S,layoutScroll:v,layoutRoot:_})}function Hw(n){if(n)return n.options.allowProjection!==!1?n.projection:Hw(n.parent)}function Jd(n,{forwardMotionProps:e=!1,type:s}={},o,c){o&&b2(o);const h=s?s==="svg":Ep(n),f=h?N2:P2;function g(_,S){let x;const E={...it.useContext(xp),..._,layoutId:V2(_)},{isStatic:O}=E,k=E2(_),P=f(_,O);if(!O&&ub){H2();const H=I2(E);x=H.MeasureLayout,k.visualElement=B2(n,P,E,c,H.ProjectionNode,h)}return N.jsxs(Eh.Provider,{value:k,children:[x&&k.visualElement?N.jsx(x,{visualElement:k.visualElement,...E}):null,M2(n,_,z2(P,k.visualElement,S),P,O,e,h)]})}g.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const v=it.forwardRef(g);return v[j2]=n,v}function V2({layoutId:n}){const e=it.useContext($m).id;return e&&n!==void 0?e+"-"+n:n}function H2(n,e){it.useContext(Pw).strict}function I2(n){const e=Nw(),{drag:s,layout:o}=e;if(!s&&!o)return{};const c={...s,...o};return{MeasureLayout:s?.isEnabled(n)||o?.isEnabled(n)?c.MeasureLayout:void 0,ProjectionNode:c.ProjectionNode}}function q2(n,e){if(typeof Proxy>"u")return Jd;const s=new Map,o=(h,f)=>Jd(h,f,n,e),c=(h,f)=>o(h,f);return new Proxy(c,{get:(h,f)=>f==="create"?o:(s.has(f)||s.set(f,Jd(f,void 0,n,e)),s.get(f))})}const Z2=(n,e)=>e.isSVG??Ep(n)?new SC(e):new gC(e,{allowProjection:n!==it.Fragment});class G2 extends Aa{constructor(e){super(e),e.animationState||(e.animationState=OC(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let K2=0;class F2 extends Aa{constructor(){super(...arguments),this.id=K2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const c=this.node.animationState.setActive("exit",!e);s&&!e&&c.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $2={animation:{Feature:G2},exit:{Feature:F2}};function Su(n){return{point:{x:n.pageX,y:n.pageY}}}const Y2=n=>e=>vp(e)&&n(e,Su(e));function iu(n,e,s,o){return yu(n,e,Y2(s),o)}const Iw=({current:n})=>n?n.ownerDocument.defaultView:null,v0=(n,e)=>Math.abs(n-e);function X2(n,e){const s=v0(n.x,e.x),o=v0(n.y,e.y);return Math.sqrt(s**2+o**2)}const _0=new Set(["auto","scroll"]);class qw{constructor(e,s,{transformPagePoint:o,contextWindow:c=window,dragSnapToOrigin:h=!1,distanceThreshold:f=3,element:g}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=O=>{this.handleScroll(O.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=tm(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,P=X2(O.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!P)return;const{point:H}=O,{timestamp:I}=dn;this.history.push({...H,timestamp:I});const{onStart:V,onMove:z}=this.handlers;k||(V&&V(this.lastMoveEvent,O),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,O)},this.handlePointerMove=(O,k)=>{this.lastMoveEvent=O,this.lastMoveEventInfo=Qd(k,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(O,k)=>{this.end();const{onEnd:P,onSessionEnd:H,resumeAnimation:I}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=tm(O.type==="pointercancel"?this.lastMoveEventInfo:Qd(k,this.transformPagePoint),this.history);this.startEvent&&P&&P(O,V),H&&H(O,V)},!vp(e))return;this.dragSnapToOrigin=h,this.handlers=s,this.transformPagePoint=o,this.distanceThreshold=f,this.contextWindow=c||window;const v=Su(e),_=Qd(v,this.transformPagePoint),{point:S}=_,{timestamp:x}=dn;this.history=[{...S,timestamp:x}];const{onSessionStart:E}=s;E&&E(e,tm(_,this.history)),this.removeListeners=_u(iu(this.contextWindow,"pointermove",this.handlePointerMove),iu(this.contextWindow,"pointerup",this.handlePointerUp),iu(this.contextWindow,"pointercancel",this.handlePointerUp)),g&&this.startScrollTracking(g)}startScrollTracking(e){let s=e.parentElement;for(;s;){const o=getComputedStyle(s);(_0.has(o.overflowX)||_0.has(o.overflowY))&&this.scrollPositions.set(s,{x:s.scrollLeft,y:s.scrollTop}),s=s.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const s=this.scrollPositions.get(e);if(!s)return;const o=e===window,c=o?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},h={x:c.x-s.x,y:c.y-s.y};h.x===0&&h.y===0||(o?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=h.x,this.lastMoveEventInfo.point.y+=h.y):this.history.length>0&&(this.history[0].x-=h.x,this.history[0].y-=h.y),this.scrollPositions.set(e,c),be.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ta(this.updatePoint)}}function Qd(n,e){return e?{point:e(n.point)}:n}function b0(n,e){return{x:n.x-e.x,y:n.y-e.y}}function tm({point:n},e){return{point:n,delta:b0(n,Zw(e)),offset:b0(n,W2(e)),velocity:J2(e,.1)}}function W2(n){return n[0]}function Zw(n){return n[n.length-1]}function J2(n,e){if(n.length<2)return{x:0,y:0};let s=n.length-1,o=null;const c=Zw(n);for(;s>=0&&(o=n[s],!(c.timestamp-o.timestamp>Ds(e)));)s--;if(!o)return{x:0,y:0};const h=mi(c.timestamp-o.timestamp);if(h===0)return{x:0,y:0};const f={x:(c.x-o.x)/h,y:(c.y-o.y)/h};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function Q2(n,{min:e,max:s},o){return e!==void 0&&n<e?n=o?Oe(e,n,o.min):Math.max(n,e):s!==void 0&&n>s&&(n=o?Oe(s,n,o.max):Math.min(n,s)),n}function w0(n,e,s){return{min:e!==void 0?n.min+e:void 0,max:s!==void 0?n.max+s-(n.max-n.min):void 0}}function tR(n,{top:e,left:s,bottom:o,right:c}){return{x:w0(n.x,s,c),y:w0(n.y,e,o)}}function S0(n,e){let s=e.min-n.min,o=e.max-n.max;return e.max-e.min<n.max-n.min&&([s,o]=[o,s]),{min:s,max:o}}function eR(n,e){return{x:S0(n.x,e.x),y:S0(n.y,e.y)}}function nR(n,e){let s=.5;const o=En(n),c=En(e);return c>o?s=du(e.min,e.max-o,n.min):o>c&&(s=du(n.min,n.max-c,e.min)),es(0,1,s)}function iR(n,e){const s={};return e.min!==void 0&&(s.min=e.min-n.min),e.max!==void 0&&(s.max=e.max-n.min),s}const jm=.35;function sR(n=jm){return n===!1?n=0:n===!0&&(n=jm),{x:x0(n,"left","right"),y:x0(n,"top","bottom")}}function x0(n,e,s){return{min:T0(n,e),max:T0(n,s)}}function T0(n,e){return typeof n=="number"?n:n[e]||0}const aR=new WeakMap;class rR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:o}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const h=x=>{s?(this.stopAnimation(),this.snapToCursor(Su(x).point)):this.pauseAnimation()},f=(x,E)=>{this.stopAnimation();const{drag:O,dragPropagation:k,onDragStart:P}=this.getProps();if(O&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FO(O),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),di(I=>{let V=this.getAxisMotionValue(I).get()||0;if(ts.test(V)){const{projection:z}=this.visualElement;if(z&&z.layout){const at=z.layout.layoutBox[I];at&&(V=En(at)*(parseFloat(V)/100))}}this.originPoint[I]=V}),P&&be.postRender(()=>P(x,E)),Cm(this.visualElement,"transform");const{animationState:H}=this.visualElement;H&&H.setActive("whileDrag",!0)},g=(x,E)=>{this.latestPointerEvent=x,this.latestPanInfo=E;const{dragPropagation:O,dragDirectionLock:k,onDirectionLock:P,onDrag:H}=this.getProps();if(!O&&!this.openDragLock)return;const{offset:I}=E;if(k&&this.currentDirection===null){this.currentDirection=oR(I),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",E.point,I),this.updateAxis("y",E.point,I),this.visualElement.render(),H&&H(x,E)},v=(x,E)=>{this.latestPointerEvent=x,this.latestPanInfo=E,this.stop(x,E),this.latestPointerEvent=null,this.latestPanInfo=null},_=()=>di(x=>this.getAnimationState(x)==="paused"&&this.getAxisMotionValue(x).animation?.play()),{dragSnapToOrigin:S}=this.getProps();this.panSession=new qw(e,{onSessionStart:h,onStart:f,onMove:g,onSessionEnd:v,resumeAnimation:_},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:S,distanceThreshold:o,contextWindow:Iw(this.visualElement),element:this.visualElement.current})}stop(e,s){const o=e||this.latestPointerEvent,c=s||this.latestPanInfo,h=this.isDragging;if(this.cancel(),!h||!c||!o)return;const{velocity:f}=c;this.startAnimation(f);const{onDragEnd:g}=this.getProps();g&&be.postRender(()=>g(o,c))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,s,o){const{drag:c}=this.getProps();if(!o||!nh(e,c,this.currentDirection))return;const h=this.getAxisMotionValue(e);let f=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(f=Q2(f,this.constraints[e],this.elastic[e])),h.set(f)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,c=this.constraints;e&&Yl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&o?this.constraints=tR(o.layoutBox,e):this.constraints=!1,this.elastic=sR(s),c!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&di(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=iR(o.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Yl(e))return!1;const o=e.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const h=cC(o,c.root,this.visualElement.getTransformPagePoint());let f=eR(c.layout.layoutBox,h);if(s){const g=s(oC(f));this.hasMutatedConstraints=!!g,g&&(f=cw(g))}return f}startAnimation(e){const{drag:s,dragMomentum:o,dragElastic:c,dragTransition:h,dragSnapToOrigin:f,onDragTransitionEnd:g}=this.getProps(),v=this.constraints||{},_=di(S=>{if(!nh(S,s,this.currentDirection))return;let x=v&&v[S]||{};f&&(x={min:0,max:0});const E=c?200:1e6,O=c?40:1e7,k={type:"inertia",velocity:o?e[S]:0,bounceStiffness:E,bounceDamping:O,timeConstant:750,restDelta:1,restSpeed:10,...h,...x};return this.startAxisValueAnimation(S,k)});return Promise.all(_).then(g)}startAxisValueAnimation(e,s){const o=this.getAxisMotionValue(e);return Cm(this.visualElement,e),o.start(dp(e,o,0,s,this.visualElement,!1))}stopAnimation(){di(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){di(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,o=this.visualElement.getProps(),c=o[s];return c||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){di(s=>{const{drag:o}=this.getProps();if(!nh(s,o,this.currentDirection))return;const{projection:c}=this.visualElement,h=this.getAxisMotionValue(s);if(c&&c.layout){const{min:f,max:g}=c.layout.layoutBox[s],v=h.get()||0;h.set(e[s]-Oe(f,g,.5)+v)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:o}=this.visualElement;if(!Yl(s)||!o||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};di(f=>{const g=this.getAxisMotionValue(f);if(g&&this.constraints!==!1){const v=g.get();c[f]=nR({min:v,max:v},this.constraints[f])}});const{transformTemplate:h}=this.visualElement.getProps();this.visualElement.current.style.transform=h?h({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),di(f=>{if(!nh(f,e,null))return;const g=this.getAxisMotionValue(f),{min:v,max:_}=this.constraints[f];g.set(Oe(v,_,c[f]))})}addListeners(){if(!this.visualElement.current)return;aR.set(this.visualElement,this);const e=this.visualElement.current,s=iu(e,"pointerdown",v=>{const{drag:_,dragListener:S=!0}=this.getProps(),x=v.target,E=x!==e&&sw(x);_&&S&&!E&&this.start(v)}),o=()=>{const{dragConstraints:v}=this.getProps();Yl(v)&&v.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,h=c.addEventListener("measure",o);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),be.read(o);const f=yu(window,"resize",()=>this.scalePositionWithinConstraints()),g=c.addEventListener("didUpdate",(({delta:v,hasLayoutChanged:_})=>{this.isDragging&&_&&(di(S=>{const x=this.getAxisMotionValue(S);x&&(this.originPoint[S]+=v[S].translate,x.set(x.get()+v[S].translate))}),this.visualElement.render())}));return()=>{f(),s(),h(),g&&g()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:o=!1,dragPropagation:c=!1,dragConstraints:h=!1,dragElastic:f=jm,dragMomentum:g=!0}=e;return{...e,drag:s,dragDirectionLock:o,dragPropagation:c,dragConstraints:h,dragElastic:f,dragMomentum:g}}}function nh(n,e,s){return(e===!0||e===n)&&(s===null||s===n)}function oR(n,e=10){let s=null;return Math.abs(n.y)>e?s="y":Math.abs(n.x)>e&&(s="x"),s}class lR extends Aa{constructor(e){super(e),this.removeGroupControls=pi,this.removeListeners=pi,this.controls=new rR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:s}=this.node.prevProps||{};e!==s&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const E0=n=>(e,s)=>{n&&be.postRender(()=>n(e,s))};class uR extends Aa{constructor(){super(...arguments),this.removePointerDownListener=pi}onPointerDown(e){this.session=new qw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Iw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:o,onPanEnd:c}=this.node.getProps();return{onSessionStart:E0(e),onStart:E0(s),onMove:o,onEnd:(h,f)=>{delete this.session,c&&be.postRender(()=>c(h,f))}}}mount(){this.removePointerDownListener=iu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let em=!1;class cR extends it.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:o,layoutId:c}=this.props,{projection:h}=e;h&&(s.group&&s.group.add(h),o&&o.register&&c&&o.register(h),em&&h.root.didUpdate(),h.addEventListener("animationComplete",()=>{this.safeToRemove()}),h.setOptions({...h.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),rh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:o,drag:c,isPresent:h}=this.props,{projection:f}=o;return f&&(f.isPresent=h,e.layoutDependency!==s&&f.setOptions({...f.options,layoutDependency:s}),em=!0,c||e.layoutDependency!==s||s===void 0||e.isPresent!==h?f.willUpdate():this.safeToRemove(),e.isPresent!==h&&(h?f.promote():f.relegate()||be.postRender(()=>{const g=f.getStack();(!g||!g.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),yp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:o}=this.props,{projection:c}=e;em=!0,c&&(c.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(c),o&&o.deregister&&o.deregister(c))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Gw(n){const[e,s]=kw(),o=it.useContext($m);return N.jsx(cR,{...n,layoutGroup:o,switchLayoutGroup:it.useContext(Vw),isPresent:e,safeToRemove:s})}const hR={pan:{Feature:uR},drag:{Feature:lR,ProjectionNode:Mw,MeasureLayout:Gw}};function A0(n,e,s){const{props:o}=n;n.animationState&&o.whileHover&&n.animationState.setActive("whileHover",s==="Start");const c="onHover"+s,h=o[c];h&&be.postRender(()=>h(e,Su(e)))}class fR extends Aa{mount(){const{current:e}=this.node;e&&(this.unmount=$O(e,(s,o)=>(A0(this.node,o,"Start"),c=>A0(this.node,c,"End"))))}unmount(){}}class dR extends Aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_u(yu(this.node.current,"focus",()=>this.onFocus()),yu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function O0(n,e,s){const{props:o}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&o.whileTap&&n.animationState.setActive("whileTap",s==="Start");const c="onTap"+(s==="End"?"":s),h=o[c];h&&be.postRender(()=>h(e,Su(e)))}class mR extends Aa{mount(){const{current:e}=this.node;e&&(this.unmount=WO(e,(s,o)=>(O0(this.node,o,"Start"),(c,{success:h})=>O0(this.node,c,h?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const zm=new WeakMap,nm=new WeakMap,pR=n=>{const e=zm.get(n.target);e&&e(n)},gR=n=>{n.forEach(pR)};function yR({root:n,...e}){const s=n||document;nm.has(s)||nm.set(s,{});const o=nm.get(s),c=JSON.stringify(e);return o[c]||(o[c]=new IntersectionObserver(gR,{root:n,...e})),o[c]}function vR(n,e,s){const o=yR(e);return zm.set(n,s),o.observe(n),()=>{zm.delete(n),o.unobserve(n)}}const _R={some:0,all:1};class bR extends Aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:o,amount:c="some",once:h}=e,f={root:s?s.current:void 0,rootMargin:o,threshold:typeof c=="number"?c:_R[c]},g=v=>{const{isIntersecting:_}=v;if(this.isInView===_||(this.isInView=_,h&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:S,onViewportLeave:x}=this.node.getProps(),E=_?S:x;E&&E(v)};return vR(this.node.current,f,g)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(wR(e,s))&&this.startObserver()}unmount(){}}function wR({viewport:n={}},{viewport:e={}}={}){return s=>n[s]!==e[s]}const SR={inView:{Feature:bR},tap:{Feature:mR},focus:{Feature:dR},hover:{Feature:fR}},xR={layout:{ProjectionNode:Mw,MeasureLayout:Gw}},TR={...$2,...SR,...hR,...xR},Bm=q2(TR,Z2),ER=({stalls:n})=>{const{searchQuery:e,setSearchQuery:s,selectedCategory:o,setSelectedCategory:c,selectedStall:h,setSelectedStall:f,isSidebarOpen:g,setSidebarOpen:v}=Po(),_=n.filter(x=>{const E=x.name.toLowerCase().includes(e.toLowerCase())||x.description?.toLowerCase().includes(e.toLowerCase()),O=!o||x.category===o;return E&&O}),S=Array.from(new Set(n.map(x=>x.category)));return N.jsx("div",{className:`fixed lg:relative z-[1001] lg:z-10 h-[100dvh] transition-all duration-300 ${g?"w-full lg:w-96":"w-0 lg:w-96 overflow-hidden lg:overflow-visible"}`,children:N.jsxs("div",{className:"h-full bg-white lg:bg-slate-50 border-r border-slate-200 flex flex-col",children:[N.jsxs("div",{className:"p-6 bg-white border-b border-slate-100 lg:rounded-br-3xl",children:[N.jsxs("div",{className:"flex items-center justify-between mb-6",children:[N.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"16 de Julio"}),N.jsx("button",{onClick:()=>v(!1),className:"lg:hidden p-2 text-slate-400 hover:text-slate-600",children:N.jsx(Fm,{className:"w-6 h-6"})})]}),N.jsxs("div",{className:"relative mb-4",children:[N.jsx(h_,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),N.jsx("input",{type:"text",placeholder:"Buscar puesto o producto...",className:"w-full pl-12 pr-4 py-3 bg-slate-100 rounded-2xl border-none focus:ring-2 focus:ring-primary-500 transition-all text-slate-700",value:e,onChange:x=>s(x.target.value)})]}),N.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 no-scrollbar",children:[N.jsx("button",{onClick:()=>c(null),className:`px-4 py-2 rounded-xl text-sm whitespace-nowrap transition-colors ${o?"bg-white text-slate-600 hover:bg-slate-50 border border-slate-100":"bg-primary-600 text-white"}`,children:"Todos"}),S.map(x=>N.jsx("button",{onClick:()=>c(x),className:`px-4 py-2 rounded-xl text-sm whitespace-nowrap transition-colors ${o===x?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50 border border-slate-100"}`,children:x},x))]})]}),N.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[N.jsx(Dw,{children:_.map(x=>N.jsx(Bm.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},onClick:()=>{f(x),window.innerWidth<1024&&v(!1)},className:`card cursor-pointer group hover:border-primary-200 transition-all ${h?.id===x.id?"ring-2 ring-primary-500 border-transparent shadow-lg":""}`,children:N.jsxs("div",{className:"flex gap-4",children:[x.image_url?N.jsx("img",{src:x.image_url,alt:x.name,className:"w-24 h-24 rounded-xl object-cover"}):N.jsx("div",{className:"w-24 h-24 rounded-xl bg-slate-100 flex items-center justify-center text-slate-300",children:N.jsx(fu,{className:"w-8 h-8"})}),N.jsxs("div",{className:"flex-1",children:[N.jsxs("div",{className:"flex justify-between items-start",children:[N.jsx("h3",{className:"font-bold text-slate-900 group-hover:text-primary-600 transition-colors line-clamp-1",children:x.name}),N.jsxs("div",{className:"flex items-center gap-1 text-amber-500 font-bold text-sm",children:[N.jsx(Eo,{className:"w-4 h-4 fill-current"}),N.jsx("span",{children:"4.5"})]})]}),N.jsx("p",{className:"text-sm text-slate-500 mb-2 line-clamp-1",children:x.category}),N.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-xs mt-auto",children:[N.jsx(fu,{className:"w-3 h-3"}),N.jsx("span",{children:"Ver en mapa"})]})]})]})},x.id))}),_.length===0&&N.jsxs("div",{className:"text-center py-12 px-6",children:[N.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:N.jsx(h_,{className:"w-8 h-8 text-slate-300"})}),N.jsx("p",{className:"text-slate-500",children:"No encontramos puestos que coincidan con tu bsqueda."})]})]})]})})};function Kw(n,e){const s=it.useRef(e);it.useEffect(function(){e!==s.current&&n.attributionControl!=null&&(s.current!=null&&n.attributionControl.removeAttribution(s.current),e!=null&&n.attributionControl.addAttribution(e)),s.current=e},[n,e])}var AR=q0();const OR=1;function CR(n){return Object.freeze({__version:OR,map:n})}function Fw(n,e){return Object.freeze({...n,...e})}const Ap=it.createContext(null);function Ah(){const n=it.use(Ap);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function $w(n){function e(s,o){const{instance:c,context:h}=n(s).current;it.useImperativeHandle(o,()=>c);const{children:f}=s;return f==null?null:ke.createElement(Ap,{value:h},f)}return it.forwardRef(e)}function RR(n){function e(s,o){const[c,h]=it.useState(!1),{instance:f}=n(s,h).current;it.useImperativeHandle(o,()=>f),it.useEffect(function(){c&&f.update()},[f,c,s.children]);const g=f._contentNode;return g?AR.createPortal(s.children,g):null}return it.forwardRef(e)}function LR(n){function e(s,o){const{instance:c}=n(s).current;return it.useImperativeHandle(o,()=>c),null}return it.forwardRef(e)}function Op(n,e){const s=it.useRef(void 0);it.useEffect(function(){return e!=null&&n.instance.on(e),s.current=e,function(){s.current!=null&&n.instance.off(s.current),s.current=null}},[n,e])}function Oh(n,e){const s=n.pane??e.pane;return s?{...n,pane:s}:n}function MR(n,e){return function(o,c){const h=Ah(),f=n(Oh(o,h),h);return Kw(h.map,o.attribution),Op(f.current,o.eventHandlers),e(f.current,h,o,c),f}}var Xl={exports:{}};var kR=Xl.exports,C0;function DR(){return C0||(C0=1,(function(n,e){(function(s,o){o(e)})(kR,(function(s){var o="1.9.4";function c(a){var l,d,y,b;for(d=1,y=arguments.length;d<y;d++){b=arguments[d];for(l in b)a[l]=b[l]}return a}var h=Object.create||(function(){function a(){}return function(l){return a.prototype=l,new a}})();function f(a,l){var d=Array.prototype.slice;if(a.bind)return a.bind.apply(a,d.call(arguments,1));var y=d.call(arguments,2);return function(){return a.apply(l,y.length?y.concat(d.call(arguments)):arguments)}}var g=0;function v(a){return"_leaflet_id"in a||(a._leaflet_id=++g),a._leaflet_id}function _(a,l,d){var y,b,T,C;return C=function(){y=!1,b&&(T.apply(d,b),b=!1)},T=function(){y?b=arguments:(a.apply(d,arguments),setTimeout(C,l),y=!0)},T}function S(a,l,d){var y=l[1],b=l[0],T=y-b;return a===y&&d?a:((a-b)%T+T)%T+b}function x(){return!1}function E(a,l){if(l===!1)return a;var d=Math.pow(10,l===void 0?6:l);return Math.round(a*d)/d}function O(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function k(a){return O(a).split(/\s+/)}function P(a,l){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?h(a.options):{});for(var d in l)a.options[d]=l[d];return a.options}function H(a,l,d){var y=[];for(var b in a)y.push(encodeURIComponent(d?b.toUpperCase():b)+"="+encodeURIComponent(a[b]));return(!l||l.indexOf("?")===-1?"?":"&")+y.join("&")}var I=/\{ *([\w_ -]+) *\}/g;function V(a,l){return a.replace(I,function(d,y){var b=l[y];if(b===void 0)throw new Error("No value provided for variable "+d);return typeof b=="function"&&(b=b(l)),b})}var z=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function at(a,l){for(var d=0;d<a.length;d++)if(a[d]===l)return d;return-1}var rt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ct(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var lt=0;function pt(a){var l=+new Date,d=Math.max(0,16-(l-lt));return lt=l+d,window.setTimeout(a,d)}var wt=window.requestAnimationFrame||ct("RequestAnimationFrame")||pt,Bt=window.cancelAnimationFrame||ct("CancelAnimationFrame")||ct("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function It(a,l,d){if(d&&wt===pt)a.call(l);else return wt.call(window,f(a,l))}function _t(a){a&&Bt.call(window,a)}var Nt={__proto__:null,extend:c,create:h,bind:f,get lastId(){return g},stamp:v,throttle:_,wrapNum:S,falseFn:x,formatNum:E,trim:O,splitWords:k,setOptions:P,getParamString:H,template:V,isArray:z,indexOf:at,emptyImageUrl:rt,requestFn:wt,cancelFn:Bt,requestAnimFrame:It,cancelAnimFrame:_t};function Ut(){}Ut.extend=function(a){var l=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,y=h(d);y.constructor=l,l.prototype=y;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(l[b]=this[b]);return a.statics&&c(l,a.statics),a.includes&&(Qt(a.includes),c.apply(null,[y].concat(a.includes))),c(y,a),delete y.statics,delete y.includes,y.options&&(y.options=d.options?h(d.options):{},c(y.options,a.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,C=y._initHooks.length;T<C;T++)y._initHooks[T].call(this)}},l},Ut.include=function(a){var l=this.prototype.options;return c(this.prototype,a),a.options&&(this.prototype.options=l,this.mergeOptions(a.options)),this},Ut.mergeOptions=function(a){return c(this.prototype.options,a),this},Ut.addInitHook=function(a){var l=Array.prototype.slice.call(arguments,1),d=typeof a=="function"?a:function(){this[a].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Qt(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=z(a)?a:[a];for(var l=0;l<a.length;l++)a[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var $={on:function(a,l,d){if(typeof a=="object")for(var y in a)this._on(y,a[y],l);else{a=k(a);for(var b=0,T=a.length;b<T;b++)this._on(a[b],l,d)}return this},off:function(a,l,d){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var y in a)this._off(y,a[y],l);else{a=k(a);for(var b=arguments.length===1,T=0,C=a.length;T<C;T++)b?this._off(a[T]):this._off(a[T],l,d)}return this},_on:function(a,l,d,y){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(a,l,d)===!1){d===this&&(d=void 0);var b={fn:l,ctx:d};y&&(b.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)}},_off:function(a,l,d){var y,b,T;if(this._events&&(y=this._events[a],!!y)){if(arguments.length===1){if(this._firingCount)for(b=0,T=y.length;b<T;b++)y[b].fn=x;delete this._events[a];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var C=this._listens(a,l,d);if(C!==!1){var U=y[C];this._firingCount&&(U.fn=x,this._events[a]=y=y.slice()),y.splice(C,1)}}},fire:function(a,l,d){if(!this.listens(a,d))return this;var y=c({},l,{type:a,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var b=this._events[a];if(b){this._firingCount=this._firingCount+1||1;for(var T=0,C=b.length;T<C;T++){var U=b[T],K=U.fn;U.once&&this.off(a,K,U.ctx),K.call(U.ctx||this,y)}this._firingCount--}}return d&&this._propagateEvent(y),this},listens:function(a,l,d,y){typeof a!="string"&&console.warn('"string" type argument expected');var b=l;typeof l!="function"&&(y=!!l,b=void 0,d=void 0);var T=this._events&&this._events[a];if(T&&T.length&&this._listens(a,b,d)!==!1)return!0;if(y){for(var C in this._eventParents)if(this._eventParents[C].listens(a,l,d,y))return!0}return!1},_listens:function(a,l,d){if(!this._events)return!1;var y=this._events[a]||[];if(!l)return!!y.length;d===this&&(d=void 0);for(var b=0,T=y.length;b<T;b++)if(y[b].fn===l&&y[b].ctx===d)return b;return!1},once:function(a,l,d){if(typeof a=="object")for(var y in a)this._on(y,a[y],l,!0);else{a=k(a);for(var b=0,T=a.length;b<T;b++)this._on(a[b],l,d,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[v(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[v(a)],this},_propagateEvent:function(a){for(var l in this._eventParents)this._eventParents[l].fire(a.type,c({layer:a.target,propagatedFrom:a.target},a),!0)}};$.addEventListener=$.on,$.removeEventListener=$.clearAllEventListeners=$.off,$.addOneTimeEventListener=$.once,$.fireEvent=$.fire,$.hasEventListeners=$.listens;var nt=Ut.extend($);function st(a,l,d){this.x=d?Math.round(a):a,this.y=d?Math.round(l):l}var Pt=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};st.prototype={clone:function(){return new st(this.x,this.y)},add:function(a){return this.clone()._add(dt(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(dt(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new st(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new st(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Pt(this.x),this.y=Pt(this.y),this},distanceTo:function(a){a=dt(a);var l=a.x-this.x,d=a.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(a){return a=dt(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=dt(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function dt(a,l,d){return a instanceof st?a:z(a)?new st(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new st(a.x,a.y):new st(a,l,d)}function M(a,l){if(a)for(var d=l?[a,l]:a,y=0,b=d.length;y<b;y++)this.extend(d[y])}M.prototype={extend:function(a){var l,d;if(!a)return this;if(a instanceof st||typeof a[0]=="number"||"x"in a)l=d=dt(a);else if(a=W(a),l=a.min,d=a.max,!l||!d)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=d.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(a){return dt((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return dt(this.min.x,this.max.y)},getTopRight:function(){return dt(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var l,d;return typeof a[0]=="number"||a instanceof st?a=dt(a):a=W(a),a instanceof M?(l=a.min,d=a.max):l=d=a,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(a){a=W(a);var l=this.min,d=this.max,y=a.min,b=a.max,T=b.x>=l.x&&y.x<=d.x,C=b.y>=l.y&&y.y<=d.y;return T&&C},overlaps:function(a){a=W(a);var l=this.min,d=this.max,y=a.min,b=a.max,T=b.x>l.x&&y.x<d.x,C=b.y>l.y&&y.y<d.y;return T&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var l=this.min,d=this.max,y=Math.abs(l.x-d.x)*a,b=Math.abs(l.y-d.y)*a;return W(dt(l.x-y,l.y-b),dt(d.x+y,d.y+b))},equals:function(a){return a?(a=W(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function W(a,l){return!a||a instanceof M?a:new M(a,l)}function ut(a,l){if(a)for(var d=l?[a,l]:a,y=0,b=d.length;y<b;y++)this.extend(d[y])}ut.prototype={extend:function(a){var l=this._southWest,d=this._northEast,y,b;if(a instanceof vt)y=a,b=a;else if(a instanceof ut){if(y=a._southWest,b=a._northEast,!y||!b)return this}else return a?this.extend(yt(a)||ht(a)):this;return!l&&!d?(this._southWest=new vt(y.lat,y.lng),this._northEast=new vt(b.lat,b.lng)):(l.lat=Math.min(y.lat,l.lat),l.lng=Math.min(y.lng,l.lng),d.lat=Math.max(b.lat,d.lat),d.lng=Math.max(b.lng,d.lng)),this},pad:function(a){var l=this._southWest,d=this._northEast,y=Math.abs(l.lat-d.lat)*a,b=Math.abs(l.lng-d.lng)*a;return new ut(new vt(l.lat-y,l.lng-b),new vt(d.lat+y,d.lng+b))},getCenter:function(){return new vt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new vt(this.getNorth(),this.getWest())},getSouthEast:function(){return new vt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof vt||"lat"in a?a=yt(a):a=ht(a);var l=this._southWest,d=this._northEast,y,b;return a instanceof ut?(y=a.getSouthWest(),b=a.getNorthEast()):y=b=a,y.lat>=l.lat&&b.lat<=d.lat&&y.lng>=l.lng&&b.lng<=d.lng},intersects:function(a){a=ht(a);var l=this._southWest,d=this._northEast,y=a.getSouthWest(),b=a.getNorthEast(),T=b.lat>=l.lat&&y.lat<=d.lat,C=b.lng>=l.lng&&y.lng<=d.lng;return T&&C},overlaps:function(a){a=ht(a);var l=this._southWest,d=this._northEast,y=a.getSouthWest(),b=a.getNorthEast(),T=b.lat>l.lat&&y.lat<d.lat,C=b.lng>l.lng&&y.lng<d.lng;return T&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,l){return a?(a=ht(a),this._southWest.equals(a.getSouthWest(),l)&&this._northEast.equals(a.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ht(a,l){return a instanceof ut?a:new ut(a,l)}function vt(a,l,d){if(isNaN(a)||isNaN(l))throw new Error("Invalid LatLng object: ("+a+", "+l+")");this.lat=+a,this.lng=+l,d!==void 0&&(this.alt=+d)}vt.prototype={equals:function(a,l){if(!a)return!1;a=yt(a);var d=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return d<=(l===void 0?1e-9:l)},toString:function(a){return"LatLng("+E(this.lat,a)+", "+E(this.lng,a)+")"},distanceTo:function(a){return ue.distance(this,yt(a))},wrap:function(){return ue.wrapLatLng(this)},toBounds:function(a){var l=180*a/40075017,d=l/Math.cos(Math.PI/180*this.lat);return ht([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new vt(this.lat,this.lng,this.alt)}};function yt(a,l,d){return a instanceof vt?a:z(a)&&typeof a[0]!="object"?a.length===3?new vt(a[0],a[1],a[2]):a.length===2?new vt(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new vt(a.lat,"lng"in a?a.lng:a.lon,a.alt):l===void 0?null:new vt(a,l,d)}var Vt={latLngToPoint:function(a,l){var d=this.projection.project(a),y=this.scale(l);return this.transformation._transform(d,y)},pointToLatLng:function(a,l){var d=this.scale(l),y=this.transformation.untransform(a,d);return this.projection.unproject(y)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(a),y=this.transformation.transform(l.min,d),b=this.transformation.transform(l.max,d);return new M(y,b)},infinite:!1,wrapLatLng:function(a){var l=this.wrapLng?S(a.lng,this.wrapLng,!0):a.lng,d=this.wrapLat?S(a.lat,this.wrapLat,!0):a.lat,y=a.alt;return new vt(d,l,y)},wrapLatLngBounds:function(a){var l=a.getCenter(),d=this.wrapLatLng(l),y=l.lat-d.lat,b=l.lng-d.lng;if(y===0&&b===0)return a;var T=a.getSouthWest(),C=a.getNorthEast(),U=new vt(T.lat-y,T.lng-b),K=new vt(C.lat-y,C.lng-b);return new ut(U,K)}},ue=c({},Vt,{wrapLng:[-180,180],R:6371e3,distance:function(a,l){var d=Math.PI/180,y=a.lat*d,b=l.lat*d,T=Math.sin((l.lat-a.lat)*d/2),C=Math.sin((l.lng-a.lng)*d/2),U=T*T+Math.cos(y)*Math.cos(b)*C*C,K=2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U));return this.R*K}}),me=6378137,Un={R:me,MAX_LATITUDE:85.0511287798,project:function(a){var l=Math.PI/180,d=this.MAX_LATITUDE,y=Math.max(Math.min(d,a.lat),-d),b=Math.sin(y*l);return new st(this.R*a.lng*l,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(a){var l=180/Math.PI;return new vt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*l,a.x*l/this.R)},bounds:(function(){var a=me*Math.PI;return new M([-a,-a],[a,a])})()};function Qn(a,l,d,y){if(z(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=l,this._c=d,this._d=y}Qn.prototype={transform:function(a,l){return this._transform(a.clone(),l)},_transform:function(a,l){return l=l||1,a.x=l*(this._a*a.x+this._b),a.y=l*(this._c*a.y+this._d),a},untransform:function(a,l){return l=l||1,new st((a.x/l-this._b)/this._a,(a.y/l-this._d)/this._c)}};function gi(a,l,d,y){return new Qn(a,l,d,y)}var ns=c({},ue,{code:"EPSG:3857",projection:Un,transformation:(function(){var a=.5/(Math.PI*Un.R);return gi(a,.5,-a,.5)})()}),yi=c({},ns,{code:"EPSG:900913"});function is(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function ss(a,l){var d="",y,b,T,C,U,K;for(y=0,T=a.length;y<T;y++){for(U=a[y],b=0,C=U.length;b<C;b++)K=U[b],d+=(b?"L":"M")+K.x+" "+K.y;d+=l?At.svg?"z":"x":""}return d||"M0 0"}var Oa=document.documentElement.style,as="ActiveXObject"in window,Er=as&&!document.addEventListener,rs="msLaunchUri"in navigator&&!("documentMode"in document),D=An("webkit"),q=An("android"),X=An("android 2")||An("android 3"),ft=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),mt=q&&An("Google")&&ft<537&&!("AudioNode"in window),ot=!!window.opera,Et=!rs&&An("chrome"),Gt=An("gecko")&&!D&&!ot&&!as,te=!Et&&An("safari"),Ne=An("phantom"),ti="OTransition"in Oa,ei=navigator.platform.indexOf("Win")===0,Ni=as&&"transition"in Oa,je="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!X,_n="MozPerspective"in Oa,rn=!window.L_DISABLE_3D&&(Ni||je||_n)&&!ti&&!Ne,ji=typeof orientation<"u"||An("mobile"),Vo=ji&&D,Ar=ji&&je,Ca=!window.PointerEvent&&window.MSPointerEvent,Ra=!!(window.PointerEvent||Ca),La="ontouchstart"in window||!!window.TouchEvent,os=!window.L_NO_TOUCH&&(La||Ra),Or=ji&&ot,Ma=ji&&Gt,Mh=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tu=(function(){var a=!1;try{var l=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",x,l),window.removeEventListener("testPassiveEventSupport",x,l)}catch{}return a})(),Ho=(function(){return!!document.createElement("canvas").getContext})(),ls=!!(document.createElementNS&&is("svg").createSVGRect),kh=!!ls&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Eu=!ls&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var l=a.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),Au=navigator.platform.indexOf("Mac")===0,Ou=navigator.platform.indexOf("Linux")===0;function An(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var At={ie:as,ielt9:Er,edge:rs,webkit:D,android:q,android23:X,androidStock:mt,opera:ot,chrome:Et,gecko:Gt,safari:te,phantom:Ne,opera12:ti,win:ei,ie3d:Ni,webkit3d:je,gecko3d:_n,any3d:rn,mobile:ji,mobileWebkit:Vo,mobileWebkit3d:Ar,msPointer:Ca,pointer:Ra,touch:os,touchNative:La,mobileOpera:Or,mobileGecko:Ma,retina:Mh,passiveEvents:Tu,canvas:Ho,svg:ls,vml:Eu,inlineSvg:kh,mac:Au,linux:Ou},Io=At.msPointer?"MSPointerDown":"pointerdown",qo=At.msPointer?"MSPointerMove":"pointermove",vi=At.msPointer?"MSPointerUp":"pointerup",Ue=At.msPointer?"MSPointerCancel":"pointercancel",en={touchstart:Io,touchmove:qo,touchend:vi,touchcancel:Ue},us={touchstart:zs,touchmove:Bi,touchend:Bi,touchcancel:Bi},zi={},Cu=!1;function Dh(a,l,d){return l==="touchstart"&&js(),us[l]?(d=us[l].bind(this,d),a.addEventListener(en[l],d,!1),d):(console.warn("wrong event specified:",l),x)}function Ru(a,l,d){if(!en[l]){console.warn("wrong event specified:",l);return}a.removeEventListener(en[l],d,!1)}function ka(a){zi[a.pointerId]=a}function Zo(a){zi[a.pointerId]&&(zi[a.pointerId]=a)}function cs(a){delete zi[a.pointerId]}function js(){Cu||(document.addEventListener(Io,ka,!0),document.addEventListener(qo,Zo,!0),document.addEventListener(vi,cs,!0),document.addEventListener(Ue,cs,!0),Cu=!0)}function Bi(a,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var d in zi)l.touches.push(zi[d]);l.changedTouches=[l],a(l)}}function zs(a,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Ce(l),Bi(a,l)}function Ve(a){var l={},d,y;for(y in a)d=a[y],l[y]=d&&d.bind?d.bind(a):d;return a=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Lu=200;function Mu(a,l){a.addEventListener("dblclick",l);var d=0,y;function b(T){if(T.detail!==1){y=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var C=Ua(T);if(!(C.some(function(K){return K instanceof HTMLLabelElement&&K.attributes.for})&&!C.some(function(K){return K instanceof HTMLInputElement||K instanceof HTMLSelectElement}))){var U=Date.now();U-d<=Lu?(y++,y===2&&l(Ve(T))):y=1,d=U}}}return a.addEventListener("click",b),{dblclick:l,simDblclick:b}}function hs(a,l){a.removeEventListener("dblclick",l.dblclick),a.removeEventListener("click",l.simDblclick)}var Ui=Na(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Da=Na(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Go=Da==="webkitTransition"||Da==="OTransition"?Da+"End":"transitionend";function Ko(a){return typeof a=="string"?document.getElementById(a):a}function Pa(a,l){var d=a.style[l]||a.currentStyle&&a.currentStyle[l];if((!d||d==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(a,null);d=y?y[l]:null}return d==="auto"?null:d}function Kt(a,l,d){var y=document.createElement(a);return y.className=l||"",d&&d.appendChild(y),y}function ce(a){var l=a.parentNode;l&&l.removeChild(a)}function On(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Ye(a){var l=a.parentNode;l&&l.lastChild!==a&&l.appendChild(a)}function fs(a){var l=a.parentNode;l&&l.firstChild!==a&&l.insertBefore(a,l.firstChild)}function Fo(a,l){if(a.classList!==void 0)return a.classList.contains(l);var d=Cr(a);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function jt(a,l){if(a.classList!==void 0)for(var d=k(l),y=0,b=d.length;y<b;y++)a.classList.add(d[y]);else if(!Fo(a,l)){var T=Cr(a);Bs(a,(T?T+" ":"")+l)}}function we(a,l){a.classList!==void 0?a.classList.remove(l):Bs(a,O((" "+Cr(a)+" ").replace(" "+l+" "," ")))}function Bs(a,l){a.className.baseVal===void 0?a.className=l:a.className.baseVal=l}function Cr(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function ve(a,l){"opacity"in a.style?a.style.opacity=l:"filter"in a.style&&$o(a,l)}function $o(a,l){var d=!1,y="DXImageTransform.Microsoft.Alpha";try{d=a.filters.item(y)}catch{if(l===1)return}l=Math.round(l*100),d?(d.Enabled=l!==100,d.Opacity=l):a.style.filter+=" progid:"+y+"(opacity="+l+")"}function Na(a){for(var l=document.documentElement.style,d=0;d<a.length;d++)if(a[d]in l)return a[d];return!1}function _i(a,l,d){var y=l||new st(0,0);a.style[Ui]=(At.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(d?" scale("+d+")":"")}function pe(a,l){a._leaflet_pos=l,At.any3d?_i(a,l):(a.style.left=l.x+"px",a.style.top=l.y+"px")}function Vi(a){return a._leaflet_pos||new st(0,0)}var Us,ni,Yo;if("onselectstart"in document)Us=function(){Dt(window,"selectstart",Ce)},ni=function(){re(window,"selectstart",Ce)};else{var Vs=Na(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Us=function(){if(Vs){var a=document.documentElement.style;Yo=a[Vs],a[Vs]="none"}},ni=function(){Vs&&(document.documentElement.style[Vs]=Yo,Yo=void 0)}}function Rr(){Dt(window,"dragstart",Ce)}function ja(){re(window,"dragstart",Ce)}var Lr,Xo;function Hs(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Cn(),Lr=a,Xo=a.style.outlineStyle,a.style.outlineStyle="none",Dt(window,"keydown",Cn))}function Cn(){Lr&&(Lr.style.outlineStyle=Xo,Lr=void 0,Xo=void 0,re(window,"keydown",Cn))}function Mr(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function za(a){var l=a.getBoundingClientRect();return{x:l.width/a.offsetWidth||1,y:l.height/a.offsetHeight||1,boundingClientRect:l}}var Is={__proto__:null,TRANSFORM:Ui,TRANSITION:Da,TRANSITION_END:Go,get:Ko,getStyle:Pa,create:Kt,remove:ce,empty:On,toFront:Ye,toBack:fs,hasClass:Fo,addClass:jt,removeClass:we,setClass:Bs,getClass:Cr,setOpacity:ve,testProp:Na,setTransform:_i,setPosition:pe,getPosition:Vi,get disableTextSelection(){return Us},get enableTextSelection(){return ni},disableImageDrag:Rr,enableImageDrag:ja,preventOutline:Hs,restoreOutline:Cn,getSizedParentNode:Mr,getScale:za};function Dt(a,l,d,y){if(l&&typeof l=="object")for(var b in l)Hn(a,b,l[b],d);else{l=k(l);for(var T=0,C=l.length;T<C;T++)Hn(a,l[T],d,y)}return this}var Vn="_leaflet_events";function re(a,l,d,y){if(arguments.length===1)Wo(a),delete a[Vn];else if(l&&typeof l=="object")for(var b in l)Ba(a,b,l[b],d);else if(l=k(l),arguments.length===2)Wo(a,function(U){return at(l,U)!==-1});else for(var T=0,C=l.length;T<C;T++)Ba(a,l[T],d,y);return this}function Wo(a,l){for(var d in a[Vn]){var y=d.split(/\d/)[0];(!l||l(y))&&Ba(a,y,null,null,d)}}var ds={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Hn(a,l,d,y){var b=l+v(d)+(y?"_"+v(y):"");if(a[Vn]&&a[Vn][b])return this;var T=function(U){return d.call(y||a,U||window.event)},C=T;!At.touchNative&&At.pointer&&l.indexOf("touch")===0?T=Dh(a,l,T):At.touch&&l==="dblclick"?T=Mu(a,T):"addEventListener"in a?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?a.addEventListener(ds[l]||l,T,At.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(T=function(U){U=U||window.event,bi(a,U)&&C(U)},a.addEventListener(ds[l],T,!1)):a.addEventListener(l,C,!1):a.attachEvent("on"+l,T),a[Vn]=a[Vn]||{},a[Vn][b]=T}function Ba(a,l,d,y,b){b=b||l+v(d)+(y?"_"+v(y):"");var T=a[Vn]&&a[Vn][b];if(!T)return this;!At.touchNative&&At.pointer&&l.indexOf("touch")===0?Ru(a,l,T):At.touch&&l==="dblclick"?hs(a,T):"removeEventListener"in a?a.removeEventListener(ds[l]||l,T,!1):a.detachEvent("on"+l,T),a[Vn][b]=null}function In(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function ii(a){return Hn(a,"wheel",In),this}function ms(a){return Dt(a,"mousedown touchstart dblclick contextmenu",In),a._leaflet_disable_click=!0,this}function Ce(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Hi(a){return Ce(a),In(a),this}function Ua(a){if(a.composedPath)return a.composedPath();for(var l=[],d=a.target;d;)l.push(d),d=d.parentNode;return l}function Va(a,l){if(!l)return new st(a.clientX,a.clientY);var d=za(l),y=d.boundingClientRect;return new st((a.clientX-y.left)/d.x-l.clientLeft,(a.clientY-y.top)/d.y-l.clientTop)}var ku=At.linux&&At.chrome?window.devicePixelRatio:At.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function on(a){return At.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/ku:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function bi(a,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==a;)d=d.parentNode}catch{return!1}return d!==a}var kr={__proto__:null,on:Dt,off:re,stopPropagation:In,disableScrollPropagation:ii,disableClickPropagation:ms,preventDefault:Ce,stop:Hi,getPropagationPath:Ua,getMousePosition:Va,getWheelDelta:on,isExternalTarget:bi,addListener:Dt,removeListener:re},qs=nt.extend({run:function(a,l,d,y){this.stop(),this._el=a,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=Vi(a),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=It(this._animate,this),this._step()},_step:function(a){var l=+new Date-this._startTime,d=this._duration*1e3;l<d?this._runFrame(this._easeOut(l/d),a):(this._runFrame(1),this._complete())},_runFrame:function(a,l){var d=this._startPos.add(this._offset.multiplyBy(a));l&&d._round(),pe(this._el,d),this.fire("step")},_complete:function(){_t(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Xt=nt.extend({options:{crs:ns,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,l){l=P(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(yt(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Da&&At.any3d&&!At.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Dt(this._proxy,Go,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,l,d){if(l=l===void 0?this._zoom:this._limitZoom(l),a=this._limitCenter(yt(a),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=c({animate:d.animate},d.zoom),d.pan=c({animate:d.animate,duration:d.duration},d.pan));var y=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,l,d.zoom):this._tryAnimatedPan(a,d.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(a,l,d.pan&&d.pan.noMoveStart),this},setZoom:function(a,l){return this._loaded?this.setView(this.getCenter(),a,{zoom:l}):(this._zoom=a,this)},zoomIn:function(a,l){return a=a||(At.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,l)},zoomOut:function(a,l){return a=a||(At.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,l)},setZoomAround:function(a,l,d){var y=this.getZoomScale(l),b=this.getSize().divideBy(2),T=a instanceof st?a:this.latLngToContainerPoint(a),C=T.subtract(b).multiplyBy(1-1/y),U=this.containerPointToLatLng(b.add(C));return this.setView(U,l,{zoom:d})},_getBoundsCenterZoom:function(a,l){l=l||{},a=a.getBounds?a.getBounds():ht(a);var d=dt(l.paddingTopLeft||l.padding||[0,0]),y=dt(l.paddingBottomRight||l.padding||[0,0]),b=this.getBoundsZoom(a,!1,d.add(y));if(b=typeof l.maxZoom=="number"?Math.min(l.maxZoom,b):b,b===1/0)return{center:a.getCenter(),zoom:b};var T=y.subtract(d).divideBy(2),C=this.project(a.getSouthWest(),b),U=this.project(a.getNorthEast(),b),K=this.unproject(C.add(U).divideBy(2).add(T),b);return{center:K,zoom:b}},fitBounds:function(a,l){if(a=ht(a),!a.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(a,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,l){return this.setView(a,this._zoom,{pan:l})},panBy:function(a,l){if(a=dt(a).round(),l=l||{},!a.x&&!a.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){jt(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,l,d){if(d=d||{},d.animate===!1||!At.any3d)return this.setView(a,l,d);this._stop();var y=this.project(this.getCenter()),b=this.project(a),T=this.getSize(),C=this._zoom;a=yt(a),l=l===void 0?C:l;var U=Math.max(T.x,T.y),K=U*this.getZoomScale(C,l),tt=b.distanceTo(y)||1,gt=1.42,Ot=gt*gt;function qt(Te){var Ti=Te?-1:1,vs=Te?K:U,fl=K*K-U*U+Ti*Ot*Ot*tt*tt,nr=2*vs*Ot*tt,ir=fl/nr,Xi=Math.sqrt(ir*ir+1)-ir,Ei=Xi<1e-9?-18:Math.log(Xi);return Ei}function Xe(Te){return(Math.exp(Te)-Math.exp(-Te))/2}function Re(Te){return(Math.exp(Te)+Math.exp(-Te))/2}function wn(Te){return Xe(Te)/Re(Te)}var ee=qt(0);function ne(Te){return U*(Re(ee)/Re(ee+gt*Te))}function Ft(Te){return U*(Re(ee)*wn(ee+gt*Te)-Xe(ee))/Ot}function $i(Te){return 1-Math.pow(1-Te,1.5)}var kn=Date.now(),Kr=(qt(1)-ee)/gt,Yi=d.duration?1e3*d.duration:1e3*Kr*.8;function hl(){var Te=(Date.now()-kn)/Yi,Ti=$i(Te)*Kr;Te<=1?(this._flyToFrame=It(hl,this),this._move(this.unproject(y.add(b.subtract(y).multiplyBy(Ft(Ti)/tt)),C),this.getScaleZoom(U/ne(Ti),C),{flyTo:!0})):this._move(a,l)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),hl.call(this),this},flyToBounds:function(a,l){var d=this._getBoundsCenterZoom(a,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(a){return a=ht(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var l=this.options.minZoom;return this.options.minZoom=a,this._loaded&&l!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var l=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&l!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,l){this._enforcingBounds=!0;var d=this.getCenter(),y=this._limitCenter(d,this._zoom,ht(a));return d.equals(y)||this.panTo(y,l),this._enforcingBounds=!1,this},panInside:function(a,l){l=l||{};var d=dt(l.paddingTopLeft||l.padding||[0,0]),y=dt(l.paddingBottomRight||l.padding||[0,0]),b=this.project(this.getCenter()),T=this.project(a),C=this.getPixelBounds(),U=W([C.min.add(d),C.max.subtract(y)]),K=U.getSize();if(!U.contains(T)){this._enforcingBounds=!0;var tt=T.subtract(U.getCenter()),gt=U.extend(T).getSize().subtract(K);b.x+=tt.x<0?-gt.x:gt.x,b.y+=tt.y<0?-gt.y:gt.y,this.panTo(this.unproject(b),l),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=c({animate:!1,pan:!0},a===!0?{animate:!0}:a);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),y=l.divideBy(2).round(),b=d.divideBy(2).round(),T=y.subtract(b);return!T.x&&!T.y?this:(a.animate&&a.pan?this.panBy(T):(a.pan&&this._rawPanBy(T),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=c({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=f(this._handleGeolocationResponse,this),d=f(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,a):navigator.geolocation.getCurrentPosition(l,d,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var l=a.code,d=a.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var l=a.coords.latitude,d=a.coords.longitude,y=new vt(l,d),b=y.toBounds(a.coords.accuracy*2),T=this._locateOptions;if(T.setView){var C=this.getBoundsZoom(b);this.setView(y,T.maxZoom?Math.min(C,T.maxZoom):C)}var U={latlng:y,bounds:b,timestamp:a.timestamp};for(var K in a.coords)typeof a.coords[K]=="number"&&(U[K]=a.coords[K]);this.fire("locationfound",U)}},addHandler:function(a,l){if(!l)return this;var d=this[a]=new l(this);return this._handlers.push(d),this.options[a]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(_t(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)ce(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,l){var d="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),y=Kt("div",d,l||this._mapPane);return a&&(this._panes[a]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),l=this.unproject(a.getBottomLeft()),d=this.unproject(a.getTopRight());return new ut(l,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,l,d){a=ht(a),d=dt(d||[0,0]);var y=this.getZoom()||0,b=this.getMinZoom(),T=this.getMaxZoom(),C=a.getNorthWest(),U=a.getSouthEast(),K=this.getSize().subtract(d),tt=W(this.project(U,y),this.project(C,y)).getSize(),gt=At.any3d?this.options.zoomSnap:1,Ot=K.x/tt.x,qt=K.y/tt.y,Xe=l?Math.max(Ot,qt):Math.min(Ot,qt);return y=this.getScaleZoom(Xe,y),gt&&(y=Math.round(y/(gt/100))*(gt/100),y=l?Math.ceil(y/gt)*gt:Math.floor(y/gt)*gt),Math.max(b,Math.min(T,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new st(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,l){var d=this._getTopLeftPoint(a,l);return new M(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,l){var d=this.options.crs;return l=l===void 0?this._zoom:l,d.scale(a)/d.scale(l)},getScaleZoom:function(a,l){var d=this.options.crs;l=l===void 0?this._zoom:l;var y=d.zoom(a*d.scale(l));return isNaN(y)?1/0:y},project:function(a,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(yt(a),l)},unproject:function(a,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(dt(a),l)},layerPointToLatLng:function(a){var l=dt(a).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(a){var l=this.project(yt(a))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(yt(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(ht(a))},distance:function(a,l){return this.options.crs.distance(yt(a),yt(l))},containerPointToLayerPoint:function(a){return dt(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return dt(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var l=this.containerPointToLayerPoint(dt(a));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(yt(a)))},mouseEventToContainerPoint:function(a){return Va(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var l=this._container=Ko(a);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Dt(l,"scroll",this._onScroll,this),this._containerId=v(l)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&At.any3d,jt(a,"leaflet-container"+(At.touch?" leaflet-touch":"")+(At.retina?" leaflet-retina":"")+(At.ielt9?" leaflet-oldie":"")+(At.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Pa(a,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),pe(this._mapPane,new st(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(jt(a.markerPane,"leaflet-zoom-hide"),jt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,l,d){pe(this._mapPane,new st(0,0));var y=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var b=this._zoom!==l;this._moveStart(b,d)._move(a,l)._moveEnd(b),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(a,l){return a&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(a,l,d,y){l===void 0&&(l=this._zoom);var b=this._zoom!==l;return this._zoom=l,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),y?d&&d.pinch&&this.fire("zoom",d):((b||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return _t(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){pe(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[v(this._container)]=this;var l=a?re:Dt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),At.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){_t(this._resizeRequest),this._resizeRequest=It(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,l){for(var d=[],y,b=l==="mouseout"||l==="mouseover",T=a.target||a.srcElement,C=!1;T;){if(y=this._targets[v(T)],y&&(l==="click"||l==="preclick")&&this._draggableMoved(y)){C=!0;break}if(y&&y.listens(l,!0)&&(b&&!bi(T,a)||(d.push(y),b))||T===this._container)break;T=T.parentNode}return!d.length&&!C&&!b&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var l=a.target||a.srcElement;if(!(!this._loaded||l._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(l))){var d=a.type;d==="mousedown"&&Hs(l),this._fireDOMEvent(a,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,l,d){if(a.type==="click"){var y=c({},a);y.type="preclick",this._fireDOMEvent(y,y.type,d)}var b=this._findEventTargets(a,l);if(d){for(var T=[],C=0;C<d.length;C++)d[C].listens(l,!0)&&T.push(d[C]);b=T.concat(b)}if(b.length){l==="contextmenu"&&Ce(a);var U=b[0],K={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var tt=U.getLatLng&&(!U._radius||U._radius<=10);K.containerPoint=tt?this.latLngToContainerPoint(U.getLatLng()):this.mouseEventToContainerPoint(a),K.layerPoint=this.containerPointToLayerPoint(K.containerPoint),K.latlng=tt?U.getLatLng():this.layerPointToLatLng(K.layerPoint)}for(C=0;C<b.length;C++)if(b[C].fire(l,K,!0),K.originalEvent._stopped||b[C].options.bubblingMouseEvents===!1&&at(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,l=this._handlers.length;a<l;a++)this._handlers[a].disable()},whenReady:function(a,l){return this._loaded?a.call(l||this,{target:this}):this.on("load",a,l),this},_getMapPanePos:function(){return Vi(this._mapPane)||new st(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,l){var d=a&&l!==void 0?this._getNewPixelOrigin(a,l):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,l){var d=this.getSize()._divideBy(2);return this.project(a,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,l,d){var y=this._getNewPixelOrigin(d,l);return this.project(a,l)._subtract(y)},_latLngBoundsToNewLayerBounds:function(a,l,d){var y=this._getNewPixelOrigin(d,l);return W([this.project(a.getSouthWest(),l)._subtract(y),this.project(a.getNorthWest(),l)._subtract(y),this.project(a.getSouthEast(),l)._subtract(y),this.project(a.getNorthEast(),l)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,l,d){if(!d)return a;var y=this.project(a,l),b=this.getSize().divideBy(2),T=new M(y.subtract(b),y.add(b)),C=this._getBoundsOffset(T,d,l);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?a:this.unproject(y.add(C),l)},_limitOffset:function(a,l){if(!l)return a;var d=this.getPixelBounds(),y=new M(d.min.add(a),d.max.add(a));return a.add(this._getBoundsOffset(y,l))},_getBoundsOffset:function(a,l,d){var y=W(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),b=y.min.subtract(a.min),T=y.max.subtract(a.max),C=this._rebound(b.x,-T.x),U=this._rebound(b.y,-T.y);return new st(C,U)},_rebound:function(a,l){return a+l>0?Math.round(a-l)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(l))},_limitZoom:function(a){var l=this.getMinZoom(),d=this.getMaxZoom(),y=At.any3d?this.options.zoomSnap:1;return y&&(a=Math.round(a/y)*y),Math.max(l,Math.min(d,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){we(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,l){var d=this._getCenterOffset(a)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,l),!0)},_createAnimProxy:function(){var a=this._proxy=Kt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(l){var d=Ui,y=this._proxy.style[d];_i(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),y===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),l=this.getZoom();_i(this._proxy,this.project(a,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(l),b=this._getCenterOffset(a)._divideBy(1-1/y);return d.animate!==!0&&!this.getSize().contains(b)?!1:(It(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(a,l,!0)},this),!0)},_animateZoom:function(a,l,d,y){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=l,jt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:l,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&we(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Jo(a,l){return new Xt(a,l)}var bn=Ut.extend({options:{position:"topright"},initialize:function(a){P(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var l=this._map;return l&&l.removeControl(this),this.options.position=a,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var l=this._container=this.onAdd(a),d=this.getPosition(),y=a._controlCorners[d];return jt(l,"leaflet-control"),d.indexOf("bottom")!==-1?y.insertBefore(l,y.firstChild):y.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),wi=function(a){return new bn(a)};Xt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},l="leaflet-",d=this._controlContainer=Kt("div",l+"control-container",this._container);function y(b,T){var C=l+b+" "+l+T;a[b+T]=Kt("div",C,d)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)ce(this._controlCorners[a]);ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ha=bn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,l,d,y){return d<y?-1:y<d?1:0}},initialize:function(a,l,d){P(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in a)this._addLayer(a[y],y);for(y in l)this._addLayer(l[y],y,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return bn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,l){return this._addLayer(a,l),this._map?this._update():this},addOverlay:function(a,l){return this._addLayer(a,l,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var l=this._getLayer(v(a));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){jt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(jt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):we(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return we(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",l=this._container=Kt("div",a),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ms(l),ii(l);var y=this._section=Kt("section",a+"-list");d&&(this._map.on("click",this.collapse,this),Dt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=Kt("a",a+"-toggle",l);b.href="#",b.title="Layers",b.setAttribute("role","button"),Dt(b,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){Ce(T),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Kt("div",a+"-base",y),this._separator=Kt("div",a+"-separator",y),this._overlaysList=Kt("div",a+"-overlays",y),l.appendChild(y)},_getLayer:function(a){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&v(this._layers[l].layer)===a)return this._layers[l]},_addLayer:function(a,l,d){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(f(function(y,b){return this.options.sortFunction(y.layer,b.layer,y.name,b.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;On(this._baseLayersList),On(this._overlaysList),this._layerControlInputs=[];var a,l,d,y,b=0;for(d=0;d<this._layers.length;d++)y=this._layers[d],this._addItem(y),l=l||y.overlay,a=a||!y.overlay,b+=y.overlay?0:1;return this.options.hideSingleBase&&(a=a&&b>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=l&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var l=this._getLayer(v(a.target)),d=l.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(a,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(l?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=d,y.firstChild},_addItem:function(a){var l=document.createElement("label"),d=this._map.hasLayer(a.layer),y;a.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=d):y=this._createRadioElement("leaflet-base-layers_"+v(this),d),this._layerControlInputs.push(y),y.layerId=v(a.layer),Dt(y,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+a.name;var T=document.createElement("span");l.appendChild(T),T.appendChild(y),T.appendChild(b);var C=a.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,l,d,y=[],b=[];this._handlingClick=!0;for(var T=a.length-1;T>=0;T--)l=a[T],d=this._getLayer(l.layerId).layer,l.checked?y.push(d):l.checked||b.push(d);for(T=0;T<b.length;T++)this._map.hasLayer(b[T])&&this._map.removeLayer(b[T]);for(T=0;T<y.length;T++)this._map.hasLayer(y[T])||this._map.addLayer(y[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,l,d,y=this._map.getZoom(),b=a.length-1;b>=0;b--)l=a[b],d=this._getLayer(l.layerId).layer,l.disabled=d.options.minZoom!==void 0&&y<d.options.minZoom||d.options.maxZoom!==void 0&&y>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Dt(a,"click",Ce),this.expand();var l=this;setTimeout(function(){re(a,"click",Ce),l._preventClick=!1})}}),Du=function(a,l,d){return new Ha(a,l,d)},Qo=bn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var l="leaflet-control-zoom",d=Kt("div",l+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,l,d,y,b){var T=Kt("a",d,y);return T.innerHTML=a,T.href="#",T.title=l,T.setAttribute("role","button"),T.setAttribute("aria-label",l),ms(T),Dt(T,"click",Hi),Dt(T,"click",b,this),Dt(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var a=this._map,l="leaflet-disabled";we(this._zoomInButton,l),we(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(jt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(jt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xt.mergeOptions({zoomControl:!0}),Xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qo,this.addControl(this.zoomControl))});var Ph=function(a){return new Qo(a)},Pu=bn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var l="leaflet-control-scale",d=Kt("div",l),y=this.options;return this._addScales(y,l+"-line",d),a.on(y.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),d},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,l,d){a.metric&&(this._mScale=Kt("div",l,d)),a.imperial&&(this._iScale=Kt("div",l,d))},_update:function(){var a=this._map,l=a.getSize().y/2,d=a.distance(a.containerPointToLatLng([0,l]),a.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var l=this._getRoundNum(a),d=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,d,l/a)},_updateImperial:function(a){var l=a*3.2808399,d,y,b;l>5280?(d=l/5280,y=this._getRoundNum(d),this._updateScale(this._iScale,y+" mi",y/d)):(b=this._getRoundNum(l),this._updateScale(this._iScale,b+" ft",b/l))},_updateScale:function(a,l,d){a.style.width=Math.round(this.options.maxWidth*d)+"px",a.innerHTML=l},_getRoundNum:function(a){var l=Math.pow(10,(Math.floor(a)+"").length-1),d=a/l;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,l*d}}),tl=function(a){return new Pu(a)},Nh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',el=bn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(At.inlineSvg?Nh+" ":"")+"Leaflet</a>"},initialize:function(a){P(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Kt("div","leaflet-control-attribution"),ms(this._container);for(var l in a._layers)a._layers[l].getAttribution&&this.addAttribution(a._layers[l].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var l in this._attributions)this._attributions[l]&&a.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),a.length&&d.push(a.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Xt.mergeOptions({attributionControl:!0}),Xt.addInitHook(function(){this.options.attributionControl&&new el().addTo(this)});var jh=function(a){return new el(a)};bn.Layers=Ha,bn.Zoom=Qo,bn.Scale=Pu,bn.Attribution=el,wi.layers=Du,wi.zoom=Ph,wi.scale=tl,wi.attribution=jh;var si=Ut.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});si.addTo=function(a,l){return a.addHandler(l,this),this};var zh={Events:$},nl=At.touch?"touchstart mousedown":"mousedown",Ii=nt.extend({options:{clickTolerance:3},initialize:function(a,l,d,y){P(this,y),this._element=a,this._dragStartTarget=l||a,this._preventOutline=d},enable:function(){this._enabled||(Dt(this._dragStartTarget,nl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ii._dragging===this&&this.finishDrag(!0),re(this._dragStartTarget,nl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Fo(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ii._dragging===this&&this.finishDrag();return}if(!(Ii._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ii._dragging=this,this._preventOutline&&Hs(this._element),Rr(),Us(),!this._moving)){this.fire("down");var l=a.touches?a.touches[0]:a,d=Mr(this._element);this._startPoint=new st(l.clientX,l.clientY),this._startPos=Vi(this._element),this._parentScale=za(d);var y=a.type==="mousedown";Dt(document,y?"mousemove":"touchmove",this._onMove,this),Dt(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var l=a.touches&&a.touches.length===1?a.touches[0]:a,d=new st(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,Ce(a),this._moved||(this.fire("dragstart"),this._moved=!0,jt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),jt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),pe(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){we(document.body,"leaflet-dragging"),this._lastTarget&&(we(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),re(document,"mousemove touchmove",this._onMove,this),re(document,"mouseup touchend touchcancel",this._onUp,this),ja(),ni();var l=this._moved&&this._moving;this._moving=!1,Ii._dragging=!1,l&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Nu(a,l,d){var y,b=[1,4,2,8],T,C,U,K,tt,gt,Ot,qt;for(T=0,gt=a.length;T<gt;T++)a[T]._code=ps(a[T],l);for(U=0;U<4;U++){for(Ot=b[U],y=[],T=0,gt=a.length,C=gt-1;T<gt;C=T++)K=a[T],tt=a[C],K._code&Ot?tt._code&Ot||(qt=Dr(tt,K,Ot,l,d),qt._code=ps(qt,l),y.push(qt)):(tt._code&Ot&&(qt=Dr(tt,K,Ot,l,d),qt._code=ps(qt,l),y.push(qt)),y.push(K));a=y}return a}function ju(a,l){var d,y,b,T,C,U,K,tt,gt;if(!a||a.length===0)throw new Error("latlngs not passed");Rn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ot=yt([0,0]),qt=ht(a),Xe=qt.getNorthWest().distanceTo(qt.getSouthWest())*qt.getNorthEast().distanceTo(qt.getNorthWest());Xe<1700&&(Ot=il(a));var Re=a.length,wn=[];for(d=0;d<Re;d++){var ee=yt(a[d]);wn.push(l.project(yt([ee.lat-Ot.lat,ee.lng-Ot.lng])))}for(U=K=tt=0,d=0,y=Re-1;d<Re;y=d++)b=wn[d],T=wn[y],C=b.y*T.x-T.y*b.x,K+=(b.x+T.x)*C,tt+=(b.y+T.y)*C,U+=C*3;U===0?gt=wn[0]:gt=[K/U,tt/U];var ne=l.unproject(dt(gt));return yt([ne.lat+Ot.lat,ne.lng+Ot.lng])}function il(a){for(var l=0,d=0,y=0,b=0;b<a.length;b++){var T=yt(a[b]);l+=T.lat,d+=T.lng,y++}return yt([l/y,d/y])}var sl={__proto__:null,clipPolygon:Nu,polygonCenter:ju,centroid:il};function zu(a,l){if(!l||!a.length)return a.slice();var d=l*l;return a=Uh(a,d),a=Uu(a,d),a}function Bu(a,l,d){return Math.sqrt(Ia(a,l,d,!0))}function Bh(a,l,d){return Ia(a,l,d)}function Uu(a,l){var d=a.length,y=typeof Uint8Array<"u"?Uint8Array:Array,b=new y(d);b[0]=b[d-1]=1,al(a,b,l,0,d-1);var T,C=[];for(T=0;T<d;T++)b[T]&&C.push(a[T]);return C}function al(a,l,d,y,b){var T=0,C,U,K;for(U=y+1;U<=b-1;U++)K=Ia(a[U],a[y],a[b],!0),K>T&&(C=U,T=K);T>d&&(l[C]=1,al(a,l,d,y,C),al(a,l,d,C,b))}function Uh(a,l){for(var d=[a[0]],y=1,b=0,T=a.length;y<T;y++)Vh(a[y],a[b])>l&&(d.push(a[y]),b=y);return b<T-1&&d.push(a[T-1]),d}var Vu;function Hu(a,l,d,y,b){var T=y?Vu:ps(a,d),C=ps(l,d),U,K,tt;for(Vu=C;;){if(!(T|C))return[a,l];if(T&C)return!1;U=T||C,K=Dr(a,l,U,d,b),tt=ps(K,d),U===T?(a=K,T=tt):(l=K,C=tt)}}function Dr(a,l,d,y,b){var T=l.x-a.x,C=l.y-a.y,U=y.min,K=y.max,tt,gt;return d&8?(tt=a.x+T*(K.y-a.y)/C,gt=K.y):d&4?(tt=a.x+T*(U.y-a.y)/C,gt=U.y):d&2?(tt=K.x,gt=a.y+C*(K.x-a.x)/T):d&1&&(tt=U.x,gt=a.y+C*(U.x-a.x)/T),new st(tt,gt,b)}function ps(a,l){var d=0;return a.x<l.min.x?d|=1:a.x>l.max.x&&(d|=2),a.y<l.min.y?d|=4:a.y>l.max.y&&(d|=8),d}function Vh(a,l){var d=l.x-a.x,y=l.y-a.y;return d*d+y*y}function Ia(a,l,d,y){var b=l.x,T=l.y,C=d.x-b,U=d.y-T,K=C*C+U*U,tt;return K>0&&(tt=((a.x-b)*C+(a.y-T)*U)/K,tt>1?(b=d.x,T=d.y):tt>0&&(b+=C*tt,T+=U*tt)),C=a.x-b,U=a.y-T,y?C*C+U*U:new st(b,T)}function Rn(a){return!z(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function Pr(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Rn(a)}function Zs(a,l){var d,y,b,T,C,U,K,tt;if(!a||a.length===0)throw new Error("latlngs not passed");Rn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var gt=yt([0,0]),Ot=ht(a),qt=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());qt<1700&&(gt=il(a));var Xe=a.length,Re=[];for(d=0;d<Xe;d++){var wn=yt(a[d]);Re.push(l.project(yt([wn.lat-gt.lat,wn.lng-gt.lng])))}for(d=0,y=0;d<Xe-1;d++)y+=Re[d].distanceTo(Re[d+1])/2;if(y===0)tt=Re[0];else for(d=0,T=0;d<Xe-1;d++)if(C=Re[d],U=Re[d+1],b=C.distanceTo(U),T+=b,T>y){K=(T-y)/b,tt=[U.x-K*(U.x-C.x),U.y-K*(U.y-C.y)];break}var ee=l.unproject(dt(tt));return yt([ee.lat+gt.lat,ee.lng+gt.lng])}var Hh={__proto__:null,simplify:zu,pointToSegmentDistance:Bu,closestPointOnSegment:Bh,clipSegment:Hu,_getEdgeIntersection:Dr,_getBitCode:ps,_sqClosestPointOnSegment:Ia,isFlat:Rn,_flat:Pr,polylineCenter:Zs},Nr={project:function(a){return new st(a.lng,a.lat)},unproject:function(a){return new vt(a.y,a.x)},bounds:new M([-180,-90],[180,90])},jr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new M([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var l=Math.PI/180,d=this.R,y=a.lat*l,b=this.R_MINOR/d,T=Math.sqrt(1-b*b),C=T*Math.sin(y),U=Math.tan(Math.PI/4-y/2)/Math.pow((1-C)/(1+C),T/2);return y=-d*Math.log(Math.max(U,1e-10)),new st(a.lng*l*d,y)},unproject:function(a){for(var l=180/Math.PI,d=this.R,y=this.R_MINOR/d,b=Math.sqrt(1-y*y),T=Math.exp(-a.y/d),C=Math.PI/2-2*Math.atan(T),U=0,K=.1,tt;U<15&&Math.abs(K)>1e-7;U++)tt=b*Math.sin(C),tt=Math.pow((1-tt)/(1+tt),b/2),K=Math.PI/2-2*Math.atan(T*tt)-C,C+=K;return new vt(C*l,a.x*l/d)}},Iu={__proto__:null,LonLat:Nr,Mercator:jr,SphericalMercator:Un},qu=c({},ue,{code:"EPSG:3395",projection:jr,transformation:(function(){var a=.5/(Math.PI*jr.R);return gi(a,.5,-a,.5)})()}),rl=c({},ue,{code:"EPSG:4326",projection:Nr,transformation:gi(1/180,1,-1/180,.5)}),Gs=c({},Vt,{projection:Nr,transformation:gi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,l){var d=l.lng-a.lng,y=l.lat-a.lat;return Math.sqrt(d*d+y*y)},infinite:!0});Vt.Earth=ue,Vt.EPSG3395=qu,Vt.EPSG3857=ns,Vt.EPSG900913=yi,Vt.EPSG4326=rl,Vt.Simple=Gs;var qn=nt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[v(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[v(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var l=a.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Xt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var l=v(a);return this._layers[l]?this:(this._layers[l]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var l=v(a);return this._layers[l]?(this._loaded&&a.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return v(a)in this._layers},eachLayer:function(a,l){for(var d in this._layers)a.call(l,this._layers[d]);return this},_addLayers:function(a){a=a?z(a)?a:[a]:[];for(var l=0,d=a.length;l<d;l++)this.addLayer(a[l])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[v(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var l=v(a);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,l=-1/0,d=this._getZoomSpan();for(var y in this._zoomBoundLayers){var b=this._zoomBoundLayers[y].options;a=b.minZoom===void 0?a:Math.min(a,b.minZoom),l=b.maxZoom===void 0?l:Math.max(l,b.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=a===1/0?void 0:a,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ks=qn.extend({initialize:function(a,l){P(this,l),this._layers={};var d,y;if(a)for(d=0,y=a.length;d<y;d++)this.addLayer(a[d])},addLayer:function(a){var l=this.getLayerId(a);return this._layers[l]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var l=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(a){var l=typeof a=="number"?a:this.getLayerId(a);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var l=Array.prototype.slice.call(arguments,1),d,y;for(d in this._layers)y=this._layers[d],y[a]&&y[a].apply(y,l);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,l){for(var d in this._layers)a.call(l,this._layers[d]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return v(a)}}),Ih=function(a,l){return new Ks(a,l)},ai=Ks.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Ks.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Ks.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ut;for(var l in this._layers){var d=this._layers[l];a.extend(d.getBounds?d.getBounds():d.getLatLng())}return a}}),Zu=function(a,l){return new ai(a,l)},ri=Ut.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){P(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,l){var d=this._getIconUrl(a);if(!d){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(d,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(y,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(a,l){var d=this.options,y=d[l+"Size"];typeof y=="number"&&(y=[y,y]);var b=dt(y),T=dt(l==="shadow"&&d.shadowAnchor||d.iconAnchor||b&&b.divideBy(2,!0));a.className="leaflet-marker-"+l+" "+(d.className||""),T&&(a.style.marginLeft=-T.x+"px",a.style.marginTop=-T.y+"px"),b&&(a.style.width=b.x+"px",a.style.height=b.y+"px")},_createImg:function(a,l){return l=l||document.createElement("img"),l.src=a,l},_getIconUrl:function(a){return At.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function qa(a){return new ri(a)}var Za=ri.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Za.imagePath!="string"&&(Za.imagePath=this._detectIconPath()),(this.options.imagePath||Za.imagePath)+ri.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var l=function(d,y,b){var T=y.exec(d);return T&&T[b]};return a=l(a,/^url\((['"])?(.+)\1\)$/,2),a&&l(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Kt("div","leaflet-default-icon-path",document.body),l=Pa(a,"background-image")||Pa(a,"backgroundImage");if(document.body.removeChild(a),l=this._stripUrl(l),l)return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Ga=si.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ii(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),jt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&we(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var l=this._marker,d=l._map,y=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,T=Vi(l._icon),C=d.getPixelBounds(),U=d.getPixelOrigin(),K=W(C.min._subtract(U).add(b),C.max._subtract(U).subtract(b));if(!K.contains(T)){var tt=dt((Math.max(K.max.x,T.x)-K.max.x)/(C.max.x-K.max.x)-(Math.min(K.min.x,T.x)-K.min.x)/(C.min.x-K.min.x),(Math.max(K.max.y,T.y)-K.max.y)/(C.max.y-K.max.y)-(Math.min(K.min.y,T.y)-K.min.y)/(C.min.y-K.min.y)).multiplyBy(y);d.panBy(tt,{animate:!1}),this._draggable._newPos._add(tt),this._draggable._startPos._add(tt),pe(l._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=It(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(_t(this._panRequest),this._panRequest=It(this._adjustPan.bind(this,a)))},_onDrag:function(a){var l=this._marker,d=l._shadow,y=Vi(l._icon),b=l._map.layerPointToLatLng(y);d&&pe(d,y),l._latlng=b,a.latlng=b,a.oldLatLng=this._oldLatLng,l.fire("move",a).fire("drag",a)},_onDragEnd:function(a){_t(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Ka=qn.extend({options:{icon:new Za,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,l){P(this,l),this._latlng=yt(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var l=this._latlng;return this._latlng=yt(a),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=a.icon.createIcon(this._icon),y=!1;d!==this._icon&&(this._icon&&this._removeIcon(),y=!0,a.title&&(d.title=a.title),d.tagName==="IMG"&&(d.alt=a.alt||"")),jt(d,l),a.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(d,"focus",this._panOnFocus,this);var b=a.icon.createShadow(this._shadow),T=!1;b!==this._shadow&&(this._removeShadow(),T=!0),b&&(jt(b,l),b.alt=""),this._shadow=b,a.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&T&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&re(this._icon,"focus",this._panOnFocus,this),ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ce(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&pe(this._icon,a),this._shadow&&pe(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var l=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(jt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ga)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ga(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&ve(this._icon,a),this._shadow&&ve(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var l=this.options.icon.options,d=l.iconSize?dt(l.iconSize):dt(0,0),y=l.iconAnchor?dt(l.iconAnchor):dt(0,0);a.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:d.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Gu(a,l){return new Ka(a,l)}var oi=qn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return P(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Fs=oi.extend({options:{fill:!0,radius:10},initialize:function(a,l){P(this,l),this._latlng=yt(a),this._radius=this.options.radius},setLatLng:function(a){var l=this._latlng;return this._latlng=yt(a),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var l=a&&a.radius||this._radius;return oi.prototype.setStyle.call(this,a),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,l=this._radiusY||a,d=this._clickTolerance(),y=[a+d,l+d];this._pxBounds=new M(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ku(a,l){return new Fs(a,l)}var zr=Fs.extend({initialize:function(a,l,d){if(typeof l=="number"&&(l=c({},d,{radius:l})),P(this,l),this._latlng=yt(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ut(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:oi.prototype.setStyle,_project:function(){var a=this._latlng.lng,l=this._latlng.lat,d=this._map,y=d.options.crs;if(y.distance===ue.distance){var b=Math.PI/180,T=this._mRadius/ue.R/b,C=d.project([l+T,a]),U=d.project([l-T,a]),K=C.add(U).divideBy(2),tt=d.unproject(K).lat,gt=Math.acos((Math.cos(T*b)-Math.sin(l*b)*Math.sin(tt*b))/(Math.cos(l*b)*Math.cos(tt*b)))/b;(isNaN(gt)||gt===0)&&(gt=T/Math.cos(Math.PI/180*l)),this._point=K.subtract(d.getPixelOrigin()),this._radius=isNaN(gt)?0:K.x-d.project([tt,a-gt]).x,this._radiusY=K.y-C.y}else{var Ot=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Ot).x}this._updateBounds()}});function Fu(a,l,d){return new zr(a,l,d)}var Si=oi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,l){P(this,l),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var l=1/0,d=null,y=Ia,b,T,C=0,U=this._parts.length;C<U;C++)for(var K=this._parts[C],tt=1,gt=K.length;tt<gt;tt++){b=K[tt-1],T=K[tt];var Ot=y(a,b,T,!0);Ot<l&&(l=Ot,d=y(a,b,T))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Zs(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,l){return l=l||this._defaultShape(),a=yt(a),l.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ut,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Rn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var l=[],d=Rn(a),y=0,b=a.length;y<b;y++)d?(l[y]=yt(a[y]),this._bounds.extend(l[y])):l[y]=this._convertLatLngs(a[y]);return l},_project:function(){var a=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),l=new st(a,a);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(a,l,d){var y=a[0]instanceof vt,b=a.length,T,C;if(y){for(C=[],T=0;T<b;T++)C[T]=this._map.latLngToLayerPoint(a[T]),d.extend(C[T]);l.push(C)}else for(T=0;T<b;T++)this._projectLatlngs(a[T],l,d)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,d,y,b,T,C,U,K;for(d=0,b=0,T=this._rings.length;d<T;d++)for(K=this._rings[d],y=0,C=K.length;y<C-1;y++)U=Hu(K[y],K[y+1],a,y,!0),U&&(l[b]=l[b]||[],l[b].push(U[0]),(U[1]!==K[y+1]||y===C-2)&&(l[b].push(U[1]),b++))}},_simplifyPoints:function(){for(var a=this._parts,l=this.options.smoothFactor,d=0,y=a.length;d<y;d++)a[d]=zu(a[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,l){var d,y,b,T,C,U,K=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(d=0,T=this._parts.length;d<T;d++)for(U=this._parts[d],y=0,C=U.length,b=C-1;y<C;b=y++)if(!(!l&&y===0)&&Bu(a,U[b],U[y])<=K)return!0;return!1}});function qh(a,l){return new Si(a,l)}Si._flat=Pr;var $s=Si.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ju(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var l=Si.prototype._convertLatLngs.call(this,a),d=l.length;return d>=2&&l[0]instanceof vt&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(a){Si.prototype._setLatLngs.call(this,a),Rn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Rn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,l=this.options.weight,d=new st(l,l);if(a=new M(a.min.subtract(d),a.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,b=this._rings.length,T;y<b;y++)T=Nu(this._rings[y],a,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var l=!1,d,y,b,T,C,U,K,tt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(T=0,K=this._parts.length;T<K;T++)for(d=this._parts[T],C=0,tt=d.length,U=tt-1;C<tt;U=C++)y=d[C],b=d[U],y.y>a.y!=b.y>a.y&&a.x<(b.x-y.x)*(a.y-y.y)/(b.y-y.y)+y.x&&(l=!l);return l||Si.prototype._containsPoint.call(this,a,!0)}});function Zh(a,l){return new $s(a,l)}var xi=ai.extend({initialize:function(a,l){P(this,l),this._layers={},a&&this.addData(a)},addData:function(a){var l=z(a)?a:a.features,d,y,b;if(l){for(d=0,y=l.length;d<y;d++)b=l[d],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var T=this.options;if(T.filter&&!T.filter(a))return this;var C=nn(a,T);return C?(C.feature=Vr(a),C.defaultOptions=C.options,this.resetStyle(C),T.onEachFeature&&T.onEachFeature(a,C),this.addLayer(C)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=c({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(l){this._setLayerStyle(l,a)},this)},_setLayerStyle:function(a,l){a.setStyle&&(typeof l=="function"&&(l=l(a.feature)),a.setStyle(l))}});function nn(a,l){var d=a.type==="Feature"?a.geometry:a,y=d?d.coordinates:null,b=[],T=l&&l.pointToLayer,C=l&&l.coordsToLatLng||Br,U,K,tt,gt;if(!y&&!d)return null;switch(d.type){case"Point":return U=C(y),Ys(T,a,U,l);case"MultiPoint":for(tt=0,gt=y.length;tt<gt;tt++)U=C(y[tt]),b.push(Ys(T,a,U,l));return new ai(b);case"LineString":case"MultiLineString":return K=Fa(y,d.type==="LineString"?0:1,C),new Si(K,l);case"Polygon":case"MultiPolygon":return K=Fa(y,d.type==="Polygon"?1:2,C),new $s(K,l);case"GeometryCollection":for(tt=0,gt=d.geometries.length;tt<gt;tt++){var Ot=nn({geometry:d.geometries[tt],type:"Feature",properties:a.properties},l);Ot&&b.push(Ot)}return new ai(b);case"FeatureCollection":for(tt=0,gt=d.features.length;tt<gt;tt++){var qt=nn(d.features[tt],l);qt&&b.push(qt)}return new ai(b);default:throw new Error("Invalid GeoJSON object.")}}function Ys(a,l,d,y){return a?a(l,d):new Ka(d,y&&y.markersInheritOptions&&y)}function Br(a){return new vt(a[1],a[0],a[2])}function Fa(a,l,d){for(var y=[],b=0,T=a.length,C;b<T;b++)C=l?Fa(a[b],l-1,d):(d||Br)(a[b]),y.push(C);return y}function Ur(a,l){return a=yt(a),a.alt!==void 0?[E(a.lng,l),E(a.lat,l),E(a.alt,l)]:[E(a.lng,l),E(a.lat,l)]}function $a(a,l,d,y){for(var b=[],T=0,C=a.length;T<C;T++)b.push(l?$a(a[T],Rn(a[T])?0:l-1,d,y):Ur(a[T],y));return!l&&d&&b.length>0&&b.push(b[0].slice()),b}function qi(a,l){return a.feature?c({},a.feature,{geometry:l}):Vr(l)}function Vr(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Zi={toGeoJSON:function(a){return qi(this,{type:"Point",coordinates:Ur(this.getLatLng(),a)})}};Ka.include(Zi),zr.include(Zi),Fs.include(Zi),Si.include({toGeoJSON:function(a){var l=!Rn(this._latlngs),d=$a(this._latlngs,l?1:0,!1,a);return qi(this,{type:(l?"Multi":"")+"LineString",coordinates:d})}}),$s.include({toGeoJSON:function(a){var l=!Rn(this._latlngs),d=l&&!Rn(this._latlngs[0]),y=$a(this._latlngs,d?2:l?1:0,!0,a);return l||(y=[y]),qi(this,{type:(d?"Multi":"")+"Polygon",coordinates:y})}}),Ks.include({toMultiPoint:function(a){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(a).geometry.coordinates)}),qi(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(a){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(a);var d=l==="GeometryCollection",y=[];return this.eachLayer(function(b){if(b.toGeoJSON){var T=b.toGeoJSON(a);if(d)y.push(T.geometry);else{var C=Vr(T);C.type==="FeatureCollection"?y.push.apply(y,C.features):y.push(C)}}}),d?qi(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function Hr(a,l){return new xi(a,l)}var Ya=Hr,Xs=qn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,l,d){this._url=a,this._bounds=ht(l),P(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(jt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Ye(this._image),this},bringToBack:function(){return this._map&&fs(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=ht(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",l=this._image=a?this._url:Kt("img");if(jt(l,"leaflet-image-layer"),this._zoomAnimated&&jt(l,"leaflet-zoom-animated"),this.options.className&&jt(l,this.options.className),l.onselectstart=x,l.onmousemove=x,l.onload=f(this.fire,this,"load"),l.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(a){var l=this._map.getZoomScale(a.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;_i(this._image,d,l)},_reset:function(){var a=this._image,l=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();pe(a,l.min),a.style.width=d.x+"px",a.style.height=d.y+"px"},_updateOpacity:function(){ve(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),$u=function(a,l,d){return new Xs(a,l,d)},Gi=Xs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",l=this._image=a?this._url:Kt("video");if(jt(l,"leaflet-image-layer"),this._zoomAnimated&&jt(l,"leaflet-zoom-animated"),this.options.className&&jt(l,this.options.className),l.onselectstart=x,l.onmousemove=x,l.onloadeddata=f(this.fire,this,"load"),a){for(var d=l.getElementsByTagName("source"),y=[],b=0;b<d.length;b++)y.push(d[b].src);this._url=d.length>0?y:[l.src];return}z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var C=Kt("source");C.src=this._url[T],l.appendChild(C)}}});function Ws(a,l,d){return new Gi(a,l,d)}var Ir=Xs.extend({_initImage:function(){var a=this._image=this._url;jt(a,"leaflet-image-layer"),this._zoomAnimated&&jt(a,"leaflet-zoom-animated"),this.options.className&&jt(a,this.options.className),a.onselectstart=x,a.onmousemove=x}});function Yu(a,l,d){return new Ir(a,l,d)}var sn=qn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,l){a&&(a instanceof vt||z(a))?(this._latlng=yt(a),P(this,l)):(P(this,a),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&ve(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&ve(this._container,1),this.bringToFront(),this.options.interactive&&(jt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(ve(this._container,0),this._removeTimeout=setTimeout(f(ce,void 0,this._container),200)):ce(this._container),this.options.interactive&&(we(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=yt(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ye(this._container),this},bringToBack:function(){return this._map&&fs(this._container),this},_prepareOpen:function(a){var l=this._source;if(!l._map)return!1;if(l instanceof ai){l=null;var d=this._source._layers;for(var y in d)if(d[y]._map){l=d[y];break}if(!l)return!1;this._source=l}if(!a)if(l.getCenter)a=l.getCenter();else if(l.getLatLng)a=l.getLatLng();else if(l.getBounds)a=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")a.innerHTML=l;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),l=dt(this.options.offset),d=this._getAnchor();this._zoomAnimated?pe(this._container,a.add(d)):l=l.add(a).add(d);var y=this._containerBottom=-l.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=y+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Xt.include({_initOverlay:function(a,l,d,y){var b=l;return b instanceof a||(b=new a(y).setContent(l)),d&&b.setLatLng(d),b}}),qn.include({_initOverlay:function(a,l,d,y){var b=d;return b instanceof a?(P(b,y),b._source=this):(b=l&&!y?l:new a(y,this),b.setContent(d)),b}});var Xa=sn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,sn.prototype.openOn.call(this,a)},onAdd:function(a){sn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof oi||this._source.on("preclick",In))},onRemove:function(a){sn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof oi||this._source.off("preclick",In))},getEvents:function(){var a=sn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",l=this._container=Kt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Kt("div",a+"-content-wrapper",l);if(this._contentNode=Kt("div",a+"-content",d),ms(l),ii(this._contentNode),Dt(l,"contextmenu",In),this._tipContainer=Kt("div",a+"-tip-container",l),this._tip=Kt("div",a+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=Kt("a",a+"-close-button",l);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Dt(y,"click",function(b){Ce(b),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,l=a.style;l.width="",l.whiteSpace="nowrap";var d=a.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var y=a.offsetHeight,b=this.options.maxHeight,T="leaflet-popup-scrolled";b&&y>b?(l.height=b+"px",jt(a,T)):we(a,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var l=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),d=this._getAnchor();pe(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,l=parseInt(Pa(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,y=this._containerWidth,b=new st(this._containerLeft,-d-this._containerBottom);b._add(Vi(this._container));var T=a.layerPointToContainerPoint(b),C=dt(this.options.autoPanPadding),U=dt(this.options.autoPanPaddingTopLeft||C),K=dt(this.options.autoPanPaddingBottomRight||C),tt=a.getSize(),gt=0,Ot=0;T.x+y+K.x>tt.x&&(gt=T.x+y-tt.x+K.x),T.x-gt-U.x<0&&(gt=T.x-U.x),T.y+d+K.y>tt.y&&(Ot=T.y+d-tt.y+K.y),T.y-Ot-U.y<0&&(Ot=T.y-U.y),(gt||Ot)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([gt,Ot]))}},_getAnchor:function(){return dt(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Xu=function(a,l){return new Xa(a,l)};Xt.mergeOptions({closePopupOnClick:!0}),Xt.include({openPopup:function(a,l,d){return this._initOverlay(Xa,a,l,d).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),qn.include({bindPopup:function(a,l){return this._popup=this._initOverlay(Xa,this._popup,a,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof ai||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Hi(a);var l=a.layer||a.target;if(this._popup._source===l&&!(l instanceof oi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=l,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Wa=sn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){sn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){sn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=sn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",l=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Kt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var l,d,y=this._map,b=this._container,T=y.latLngToContainerPoint(y.getCenter()),C=y.layerPointToContainerPoint(a),U=this.options.direction,K=b.offsetWidth,tt=b.offsetHeight,gt=dt(this.options.offset),Ot=this._getAnchor();U==="top"?(l=K/2,d=tt):U==="bottom"?(l=K/2,d=0):U==="center"?(l=K/2,d=tt/2):U==="right"?(l=0,d=tt/2):U==="left"?(l=K,d=tt/2):C.x<T.x?(U="right",l=0,d=tt/2):(U="left",l=K+(gt.x+Ot.x)*2,d=tt/2),a=a.subtract(dt(l,d,!0)).add(gt).add(Ot),we(b,"leaflet-tooltip-right"),we(b,"leaflet-tooltip-left"),we(b,"leaflet-tooltip-top"),we(b,"leaflet-tooltip-bottom"),jt(b,"leaflet-tooltip-"+U),pe(b,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&ve(this._container,a)},_animateZoom:function(a){var l=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(l)},_getAnchor:function(){return dt(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Gh=function(a,l){return new Wa(a,l)};Xt.include({openTooltip:function(a,l,d){return this._initOverlay(Wa,a,l,d).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),qn.include({bindTooltip:function(a,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Wa,this._tooltip,a,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var l=a?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof ai||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var l=typeof a.getElement=="function"&&a.getElement();l&&(Dt(l,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Dt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var l=typeof a.getElement=="function"&&a.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var l=a.latlng,d,y;this._tooltip.options.sticky&&a.originalEvent&&(d=this._map.mouseEventToContainerPoint(a.originalEvent),y=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(l)}});var Wu=ri.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var l=a&&a.tagName==="DIV"?a:document.createElement("div"),d=this.options;if(d.html instanceof Element?(On(l),l.appendChild(d.html)):l.innerHTML=d.html!==!1?d.html:"",d.bgPos){var y=dt(d.bgPos);l.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Kh(a){return new Wu(a)}ri.Default=Za;var Js=qn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:At.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){P(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),ce(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ye(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof st?a:new st(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var l=this.getPane().children,d=-a(-1/0,1/0),y=0,b=l.length,T;y<b;y++)T=l[y].style.zIndex,l[y]!==this._container&&T&&(d=a(d,+T));isFinite(d)&&(this.options.zIndex=d+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!At.ielt9){ve(this._container,this.options.opacity);var a=+new Date,l=!1,d=!1;for(var y in this._tiles){var b=this._tiles[y];if(!(!b.current||!b.loaded)){var T=Math.min(1,(a-b.loaded)/200);ve(b.el,T),T<1?l=!0:(b.active?d=!0:this._onOpaqueTile(b),b.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(_t(this._fadeFrame),this._fadeFrame=It(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=Kt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,l=this.options.maxZoom;if(a!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===a?(this._levels[d].el.style.zIndex=l-Math.abs(a-d),this._onUpdateLevel(d)):(ce(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var y=this._levels[a],b=this._map;return y||(y=this._levels[a]={},y.el=Kt("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=l,y.origin=b.project(b.unproject(b.getPixelOrigin()),a).round(),y.zoom=a,this._setZoomTransform(y,b.getCenter(),b.getZoom()),x(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var a,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)l=this._tiles[a],l.retain=l.current;for(a in this._tiles)if(l=this._tiles[a],l.current&&!l.active){var y=l.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var l in this._tiles)this._tiles[l].coords.z===a&&this._removeTile(l)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)ce(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,l,d,y){var b=Math.floor(a/2),T=Math.floor(l/2),C=d-1,U=new st(+b,+T);U.z=+C;var K=this._tileCoordsToKey(U),tt=this._tiles[K];return tt&&tt.active?(tt.retain=!0,!0):(tt&&tt.loaded&&(tt.retain=!0),C>y?this._retainParent(b,T,C,y):!1)},_retainChildren:function(a,l,d,y){for(var b=2*a;b<2*a+2;b++)for(var T=2*l;T<2*l+2;T++){var C=new st(b,T);C.z=d+1;var U=this._tileCoordsToKey(C),K=this._tiles[U];if(K&&K.active){K.retain=!0;continue}else K&&K.loaded&&(K.retain=!0);d+1<y&&this._retainChildren(b,T,d+1,y)}},_resetView:function(a){var l=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var l=this.options;return l.minNativeZoom!==void 0&&a<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<a?l.maxNativeZoom:a},_setView:function(a,l,d,y){var b=Math.round(l);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var T=this.options.updateWhenZooming&&b!==this._tileZoom;(!y||T)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(a),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(a,l)},_setZoomTransforms:function(a,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],a,l)},_setZoomTransform:function(a,l,d){var y=this._map.getZoomScale(d,a.zoom),b=a.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(l,d)).round();At.any3d?_i(a.el,b,y):pe(a.el,b)},_resetGrid:function(){var a=this._map,l=a.options.crs,d=this._tileSize=this.getTileSize(),y=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,l.wrapLng[0]],y).x/d.x),Math.ceil(a.project([0,l.wrapLng[1]],y).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([l.wrapLat[0],0],y).y/d.x),Math.ceil(a.project([l.wrapLat[1],0],y).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),y=l.getZoomScale(d,this._tileZoom),b=l.project(a,this._tileZoom).floor(),T=l.getSize().divideBy(y*2);return new M(b.subtract(T),b.add(T))},_update:function(a){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(a===void 0&&(a=l.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(a),b=this._pxBoundsToTileRange(y),T=b.getCenter(),C=[],U=this.options.keepBuffer,K=new M(b.getBottomLeft().subtract([U,-U]),b.getTopRight().add([U,-U]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var tt in this._tiles){var gt=this._tiles[tt].coords;(gt.z!==this._tileZoom||!K.contains(new st(gt.x,gt.y)))&&(this._tiles[tt].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(a,d);return}for(var Ot=b.min.y;Ot<=b.max.y;Ot++)for(var qt=b.min.x;qt<=b.max.x;qt++){var Xe=new st(qt,Ot);if(Xe.z=this._tileZoom,!!this._isValidTile(Xe)){var Re=this._tiles[this._tileCoordsToKey(Xe)];Re?Re.current=!0:C.push(Xe)}}if(C.sort(function(ee,ne){return ee.distanceTo(T)-ne.distanceTo(T)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var wn=document.createDocumentFragment();for(qt=0;qt<C.length;qt++)this._addTile(C[qt],wn);this._level.el.appendChild(wn)}}}},_isValidTile:function(a){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(a.x<d.min.x||a.x>d.max.x)||!l.wrapLat&&(a.y<d.min.y||a.y>d.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(a);return ht(this.options.bounds).overlaps(y)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var l=this._map,d=this.getTileSize(),y=a.scaleBy(d),b=y.add(d),T=l.unproject(y,a.z),C=l.unproject(b,a.z);return[T,C]},_tileCoordsToBounds:function(a){var l=this._tileCoordsToNwSe(a),d=new ut(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var l=a.split(":"),d=new st(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(a){var l=this._tiles[a];l&&(ce(l.el),delete this._tiles[a],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){jt(a,"leaflet-tile");var l=this.getTileSize();a.style.width=l.x+"px",a.style.height=l.y+"px",a.onselectstart=x,a.onmousemove=x,At.ielt9&&this.options.opacity<1&&ve(a,this.options.opacity)},_addTile:function(a,l){var d=this._getTilePos(a),y=this._tileCoordsToKey(a),b=this.createTile(this._wrapCoords(a),f(this._tileReady,this,a));this._initTile(b),this.createTile.length<2&&It(f(this._tileReady,this,a,null,b)),pe(b,d),this._tiles[y]={el:b,coords:a,current:!0},l.appendChild(b),this.fire("tileloadstart",{tile:b,coords:a})},_tileReady:function(a,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:a});var y=this._tileCoordsToKey(a);d=this._tiles[y],d&&(d.loaded=+new Date,this._map._fadeAnimated?(ve(d.el,0),_t(this._fadeFrame),this._fadeFrame=It(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(jt(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),At.ielt9||!this._map._fadeAnimated?It(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var l=new st(this._wrapX?S(a.x,this._wrapX):a.x,this._wrapY?S(a.y,this._wrapY):a.y);return l.z=a.z,l},_pxBoundsToTileRange:function(a){var l=this.getTileSize();return new M(a.min.unscaleBy(l).floor(),a.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Ju(a){return new Js(a)}var Ki=Js.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,l){this._url=a,l=P(this,l),l.detectRetina&&At.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,l){return this._url===a&&l===void 0&&(l=!0),this._url=a,l||this.redraw(),this},createTile:function(a,l){var d=document.createElement("img");return Dt(d,"load",f(this._tileOnLoad,this,l,d)),Dt(d,"error",f(this._tileOnError,this,l,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(a),d},getTileUrl:function(a){var l={r:At.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-a.y;this.options.tms&&(l.y=d),l["-y"]=d}return V(this._url,c(l,this.options))},_tileOnLoad:function(a,l){At.ielt9?setTimeout(f(a,this,null,l),0):a(null,l)},_tileOnError:function(a,l,d){var y=this.options.errorTileUrl;y&&l.getAttribute("src")!==y&&(l.src=y),a(d,l)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,l=this.options.maxZoom,d=this.options.zoomReverse,y=this.options.zoomOffset;return d&&(a=l-a),a+y},_getSubdomain:function(a){var l=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var a,l;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(l=this._tiles[a].el,l.onload=x,l.onerror=x,!l.complete)){l.src=rt;var d=this._tiles[a].coords;ce(l),delete this._tiles[a],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(a){var l=this._tiles[a];if(l)return l.el.setAttribute("src",rt),Js.prototype._removeTile.call(this,a)},_tileReady:function(a,l,d){if(!(!this._map||d&&d.getAttribute("src")===rt))return Js.prototype._tileReady.call(this,a,l,d)}});function Ln(a,l){return new Ki(a,l)}var Ja=Ki.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,l){this._url=a;var d=c({},this.defaultWmsParams);for(var y in l)y in this.options||(d[y]=l[y]);l=P(this,l);var b=l.detectRetina&&At.retina?2:1,T=this.getTileSize();d.width=T.x*b,d.height=T.y*b,this.wmsParams=d},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Ki.prototype.onAdd.call(this,a)},getTileUrl:function(a){var l=this._tileCoordsToNwSe(a),d=this._crs,y=W(d.project(l[0]),d.project(l[1])),b=y.min,T=y.max,C=(this._wmsVersion>=1.3&&this._crs===rl?[b.y,b.x,T.y,T.x]:[b.x,b.y,T.x,T.y]).join(","),U=Ki.prototype.getTileUrl.call(this,a);return U+H(this.wmsParams,U,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(a,l){return c(this.wmsParams,a),l||this.redraw(),this}});function Mn(a,l){return new Ja(a,l)}Ki.WMS=Ja,Ln.wms=Mn;var pn=qn.extend({options:{padding:.1},initialize:function(a){P(this,a),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),jt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,l){var d=this._map.getZoomScale(l,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,l),T=y.multiplyBy(-d).add(b).subtract(this._map._getNewPixelOrigin(a,l));At.any3d?_i(this._container,T,d):pe(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-a)).round();this._bounds=new M(d,d.add(l.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qr=pn.extend({options:{tolerance:0},getEvents:function(){var a=pn.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){pn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Dt(a,"mousemove",this._onMouseMove,this),Dt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Dt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){_t(this._redrawRequest),delete this._ctx,ce(this._container),re(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var l in this._layers)a=this._layers[l],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pn.prototype._update.call(this);var a=this._bounds,l=this._container,d=a.getSize(),y=At.retina?2:1;pe(l,a.min),l.width=y*d.x,l.height=y*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",At.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){pn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[v(a)]=a;var l=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var l=a._order,d=l.next,y=l.prev;d?d.prev=y:this._drawLast=y,y?y.next=d:this._drawFirst=d,delete a._order,delete this._layers[v(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var l=a.options.dashArray.split(/[, ]+/),d=[],y,b;for(b=0;b<l.length;b++){if(y=Number(l[b]),isNaN(y))return;d.push(y)}a.options._dashArray=d}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||It(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var l=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(a._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(a._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var l=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)a=y.layer,(!l||a._pxBounds&&a._pxBounds.intersects(l))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,l){if(this._drawing){var d,y,b,T,C=a._parts,U=C.length,K=this._ctx;if(U){for(K.beginPath(),d=0;d<U;d++){for(y=0,b=C[d].length;y<b;y++)T=C[d][y],K[y?"lineTo":"moveTo"](T.x,T.y);l&&K.closePath()}this._fillStroke(K,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var l=a._point,d=this._ctx,y=Math.max(Math.round(a._radius),1),b=(Math.max(Math.round(a._radiusY),1)||y)/y;b!==1&&(d.save(),d.scale(1,b)),d.beginPath(),d.arc(l.x,l.y/b,y,0,Math.PI*2,!1),b!==1&&d.restore(),this._fillStroke(d,a)}},_fillStroke:function(a,l){var d=l.options;d.fill&&(a.globalAlpha=d.fillOpacity,a.fillStyle=d.fillColor||d.color,a.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(a.setLineDash&&a.setLineDash(l.options&&l.options._dashArray||[]),a.globalAlpha=d.opacity,a.lineWidth=d.weight,a.strokeStyle=d.color,a.lineCap=d.lineCap,a.lineJoin=d.lineJoin,a.stroke())},_onClick:function(a){for(var l=this._map.mouseEventToLayerPoint(a),d,y,b=this._drawFirst;b;b=b.next)d=b.layer,d.options.interactive&&d._containsPoint(l)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(d))&&(y=d);this._fireEvent(y?[y]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,l)}},_handleMouseOut:function(a){var l=this._hoveredLayer;l&&(we(this._container,"leaflet-interactive"),this._fireEvent([l],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,l){if(!this._mouseHoverThrottled){for(var d,y,b=this._drawFirst;b;b=b.next)d=b.layer,d.options.interactive&&d._containsPoint(l)&&(y=d);y!==this._hoveredLayer&&(this._handleMouseOut(a),y&&(jt(this._container,"leaflet-interactive"),this._fireEvent([y],a,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,l,d){this._map._fireDOMEvent(l,d||l.type,a)},_bringToFront:function(a){var l=a._order;if(l){var d=l.next,y=l.prev;if(d)d.prev=y;else return;y?y.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(a)}},_bringToBack:function(a){var l=a._order;if(l){var d=l.next,y=l.prev;if(y)y.next=d;else return;d?d.prev=y:y&&(this._drawLast=y),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(a)}}});function Qa(a){return At.canvas?new qr(a):null}var Fi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),ol={_initContainer:function(){this._container=Kt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(pn.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var l=a._container=Fi("shape");jt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",a._path=Fi("path"),l.appendChild(a._path),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){var l=a._container;this._container.appendChild(l),a.options.interactive&&a.addInteractiveTarget(l)},_removePath:function(a){var l=a._container;ce(l),a.removeInteractiveTarget(l),delete this._layers[v(a)]},_updateStyle:function(a){var l=a._stroke,d=a._fill,y=a.options,b=a._container;b.stroked=!!y.stroke,b.filled=!!y.fill,y.stroke?(l||(l=a._stroke=Fi("stroke")),b.appendChild(l),l.weight=y.weight+"px",l.color=y.color,l.opacity=y.opacity,y.dashArray?l.dashStyle=z(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=y.lineCap.replace("butt","flat"),l.joinstyle=y.lineJoin):l&&(b.removeChild(l),a._stroke=null),y.fill?(d||(d=a._fill=Fi("fill")),b.appendChild(d),d.color=y.fillColor||y.color,d.opacity=y.fillOpacity):d&&(b.removeChild(d),a._fill=null)},_updateCircle:function(a){var l=a._point.round(),d=Math.round(a._radius),y=Math.round(a._radiusY||d);this._setPath(a,a._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+y+" 0,"+65535*360)},_setPath:function(a,l){a._path.v=l},_bringToFront:function(a){Ye(a._container)},_bringToBack:function(a){fs(a._container)}},li=At.vml?Fi:is,Qs=pn.extend({_initContainer:function(){this._container=li("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=li("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ce(this._container),re(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){pn.prototype._update.call(this);var a=this._bounds,l=a.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),pe(d,a.min),d.setAttribute("viewBox",[a.min.x,a.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(a){var l=a._path=li("path");a.options.className&&jt(l,a.options.className),a.options.interactive&&jt(l,"leaflet-interactive"),this._updateStyle(a),this._layers[v(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){ce(a._path),a.removeInteractiveTarget(a._path),delete this._layers[v(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var l=a._path,d=a.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(a,l){this._setPath(a,ss(a._parts,l))},_updateCircle:function(a){var l=a._point,d=Math.max(Math.round(a._radius),1),y=Math.max(Math.round(a._radiusY),1)||d,b="a"+d+","+y+" 0 1,0 ",T=a._empty()?"M0 0":"M"+(l.x-d)+","+l.y+b+d*2+",0 "+b+-d*2+",0 ";this._setPath(a,T)},_setPath:function(a,l){a._path.setAttribute("d",l)},_bringToFront:function(a){Ye(a._path)},_bringToBack:function(a){fs(a._path)}});At.vml&&Qs.include(ol);function tr(a){return At.svg||At.vml?new Qs(a):null}Xt.include({getRenderer:function(a){var l=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var l=this._paneRenderers[a];return l===void 0&&(l=this._createRenderer({pane:a}),this._paneRenderers[a]=l),l},_createRenderer:function(a){return this.options.preferCanvas&&Qa(a)||tr(a)}});var gs=$s.extend({initialize:function(a,l){$s.prototype.initialize.call(this,this._boundsToLatLngs(a),l)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=ht(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Fh(a,l){return new gs(a,l)}Qs.create=li,Qs.pointsToPath=ss,xi.geometryToLayer=nn,xi.coordsToLatLng=Br,xi.coordsToLatLngs=Fa,xi.latLngToCoords=Ur,xi.latLngsToCoords=$a,xi.getFeature=qi,xi.asFeature=Vr,Xt.mergeOptions({boxZoom:!0});var gn=si.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){re(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Us(),Rr(),this._startPoint=this._map.mouseEventToContainerPoint(a),Dt(document,{contextmenu:Hi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Kt("div","leaflet-zoom-box",this._container),jt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var l=new M(this._point,this._startPoint),d=l.getSize();pe(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(ce(this._box),we(this._container,"leaflet-crosshair")),ni(),ja(),re(document,{contextmenu:Hi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var l=new ut(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xt.addInitHook("addHandler","boxZoom",gn),Xt.mergeOptions({doubleClickZoom:!0});var Zr=si.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var l=this._map,d=l.getZoom(),y=l.options.zoomDelta,b=a.originalEvent.shiftKey?d-y:d+y;l.options.doubleClickZoom==="center"?l.setZoom(b):l.setZoomAround(a.containerPoint,b)}});Xt.addInitHook("addHandler","doubleClickZoom",Zr),Xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ui=si.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ii(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}jt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){we(this._map._container,"leaflet-grab"),we(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ht(this._map.options.maxBounds);this._offsetLimit=W(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,l){return a-(a-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;a.x<l.min.x&&(a.x=this._viscousLimit(a.x,l.min.x)),a.y<l.min.y&&(a.y=this._viscousLimit(a.y,l.min.y)),a.x>l.max.x&&(a.x=this._viscousLimit(a.x,l.max.x)),a.y>l.max.y&&(a.y=this._viscousLimit(a.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,l=Math.round(a/2),d=this._initialWorldOffset,y=this._draggable._newPos.x,b=(y-l+d)%a+l-d,T=(y+l+d)%a-l-d,C=Math.abs(b+d)<Math.abs(T+d)?b:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(a){var l=this._map,d=l.options,y=!d.inertia||a.noInertia||this._times.length<2;if(l.fire("dragend",a),y)l.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,C=d.easeLinearity,U=b.multiplyBy(C/T),K=U.distanceTo([0,0]),tt=Math.min(d.inertiaMaxSpeed,K),gt=U.multiplyBy(tt/K),Ot=tt/(d.inertiaDeceleration*C),qt=gt.multiplyBy(-Ot/2).round();!qt.x&&!qt.y?l.fire("moveend"):(qt=l._limitOffset(qt,l.options.maxBounds),It(function(){l.panBy(qt,{duration:Ot,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});Xt.addInitHook("addHandler","dragging",ui),Xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ll=si.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Dt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),re(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,l=document.documentElement,d=a.scrollTop||l.scrollTop,y=a.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(y,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var l=this._panKeys={},d=this.keyCodes,y,b;for(y=0,b=d.left.length;y<b;y++)l[d.left[y]]=[-1*a,0];for(y=0,b=d.right.length;y<b;y++)l[d.right[y]]=[a,0];for(y=0,b=d.down.length;y<b;y++)l[d.down[y]]=[0,a];for(y=0,b=d.up.length;y<b;y++)l[d.up[y]]=[0,-1*a]},_setZoomDelta:function(a){var l=this._zoomKeys={},d=this.keyCodes,y,b;for(y=0,b=d.zoomIn.length;y<b;y++)l[d.zoomIn[y]]=a;for(y=0,b=d.zoomOut.length;y<b;y++)l[d.zoomOut[y]]=-a},_addHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){re(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var l=a.keyCode,d=this._map,y;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(y=this._panKeys[l],a.shiftKey&&(y=dt(y).multiplyBy(3)),d.options.maxBounds&&(y=d._limitOffset(dt(y),d.options.maxBounds)),d.options.worldCopyJump){var b=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(y)));d.panTo(b)}else d.panBy(y)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Hi(a)}}});Xt.addInitHook("addHandler","keyboard",ll),Xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var er=si.extend({addHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){re(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var l=on(a),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var y=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),y),Hi(a)},_performZoom:function(){var a=this._map,l=a.getZoom(),d=this._map.options.zoomSnap||0;a._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,T=d?Math.ceil(b/d)*d:b,C=a._limitZoom(l+(this._delta>0?T:-T))-l;this._delta=0,this._startTime=null,C&&(a.options.scrollWheelZoom==="center"?a.setZoom(l+C):a.setZoomAround(this._lastMousePos,l+C))}});Xt.addInitHook("addHandler","scrollWheelZoom",er);var ys=600;Xt.mergeOptions({tapHold:At.touchNative&&At.safari&&At.mobile,tapTolerance:15});var Gr=si.extend({addHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){re(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var l=a.touches[0];this._startPos=this._newPos=new st(l.clientX,l.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Dt(document,"touchend",Ce),Dt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),ys),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){re(document,"touchend",Ce),re(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),re(document,"touchend touchcancel contextmenu",this._cancel,this),re(document,"touchmove",this._onMove,this)},_onMove:function(a){var l=a.touches[0];this._newPos=new st(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,l){var d=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});Xt.addInitHook("addHandler","tapHold",Gr),Xt.mergeOptions({touchZoom:At.touch,bounceAtZoomLimits:!0});var ul=si.extend({addHooks:function(){jt(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){we(this._map._container,"leaflet-touch-zoom"),re(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var l=this._map;if(!(!a.touches||a.touches.length!==2||l._animatingZoom||this._zooming)){var d=l.mouseEventToContainerPoint(a.touches[0]),y=l.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(y)._divideBy(2))),this._startDist=d.distanceTo(y),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),Ce(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var l=this._map,d=l.mouseEventToContainerPoint(a.touches[0]),y=l.mouseEventToContainerPoint(a.touches[1]),b=d.distanceTo(y)/this._startDist;if(this._zoom=l.getScaleZoom(b,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&b<1||this._zoom>l.getMaxZoom()&&b>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var T=d._add(y)._divideBy(2)._subtract(this._centerPoint);if(b===1&&T.x===0&&T.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),_t(this._animRequest);var C=f(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=It(C,this,!0),Ce(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,_t(this._animRequest),re(document,"touchmove",this._onTouchMove,this),re(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xt.addInitHook("addHandler","touchZoom",ul),Xt.BoxZoom=gn,Xt.DoubleClickZoom=Zr,Xt.Drag=ui,Xt.Keyboard=ll,Xt.ScrollWheelZoom=er,Xt.TapHold=Gr,Xt.TouchZoom=ul,s.Bounds=M,s.Browser=At,s.CRS=Vt,s.Canvas=qr,s.Circle=zr,s.CircleMarker=Fs,s.Class=Ut,s.Control=bn,s.DivIcon=Wu,s.DivOverlay=sn,s.DomEvent=kr,s.DomUtil=Is,s.Draggable=Ii,s.Evented=nt,s.FeatureGroup=ai,s.GeoJSON=xi,s.GridLayer=Js,s.Handler=si,s.Icon=ri,s.ImageOverlay=Xs,s.LatLng=vt,s.LatLngBounds=ut,s.Layer=qn,s.LayerGroup=Ks,s.LineUtil=Hh,s.Map=Xt,s.Marker=Ka,s.Mixin=zh,s.Path=oi,s.Point=st,s.PolyUtil=sl,s.Polygon=$s,s.Polyline=Si,s.Popup=Xa,s.PosAnimation=qs,s.Projection=Iu,s.Rectangle=gs,s.Renderer=pn,s.SVG=Qs,s.SVGOverlay=Ir,s.TileLayer=Ki,s.Tooltip=Wa,s.Transformation=Qn,s.Util=Nt,s.VideoOverlay=Gi,s.bind=f,s.bounds=W,s.canvas=Qa,s.circle=Fu,s.circleMarker=Ku,s.control=wi,s.divIcon=Kh,s.extend=c,s.featureGroup=Zu,s.geoJSON=Hr,s.geoJson=Ya,s.gridLayer=Ju,s.icon=qa,s.imageOverlay=$u,s.latLng=yt,s.latLngBounds=ht,s.layerGroup=Ih,s.map=Jo,s.marker=Gu,s.point=dt,s.polygon=Zh,s.polyline=qh,s.popup=Xu,s.rectangle=Fh,s.setOptions=P,s.stamp=v,s.svg=tr,s.svgOverlay=Yu,s.tileLayer=Ln,s.tooltip=Gh,s.transformation=gi,s.version=o,s.videoOverlay=Ws;var cl=window.L;s.noConflict=function(){return window.L=cl,this},window.L=s}))})(Xl,Xl.exports)),Xl.exports}var Uo=DR();const Cp=I0(Uo);function Ch(n,e,s){return Object.freeze({instance:n,context:e,container:s})}function Rh(n,e){return e==null?function(o,c){const h=it.useRef(void 0);return h.current||(h.current=n(o,c)),h}:function(o,c){const h=it.useRef(void 0);h.current||(h.current=n(o,c));const f=it.useRef(o),{instance:g}=h.current;return it.useEffect(function(){f.current!==o&&(e(g,o,f.current),f.current=o)},[g,o,e]),h}}function Yw(n,e){it.useEffect(function(){return(e.layerContainer??e.map).addLayer(n.instance),function(){e.layerContainer?.removeLayer(n.instance),e.map.removeLayer(n.instance)}},[e,n])}function Xw(n){return function(s){const o=Ah(),c=n(Oh(s,o),o);return Kw(o.map,s.attribution),Op(c.current,s.eventHandlers),Yw(c.current,o),c}}function PR(n,e){const s=it.useRef(void 0);it.useEffect(function(){if(e.pathOptions!==s.current){const c=e.pathOptions??{};n.instance.setStyle(c),s.current=c}},[n,e])}function NR(n){return function(s){const o=Ah(),c=n(Oh(s,o),o);return Op(c.current,s.eventHandlers),Yw(c.current,o),PR(c.current,s),c}}function jR(n,e){const s=Rh(n,e),o=Xw(s);return $w(o)}function zR(n,e){const s=Rh(n),o=MR(s,e);return RR(o)}function BR(n,e){const s=Rh(n,e),o=NR(s);return $w(o)}function UR(n,e){const s=Rh(n,e),o=Xw(s);return LR(o)}function VR(n,e,s){const{opacity:o,zIndex:c}=e;o!=null&&o!==s.opacity&&n.setOpacity(o),c!=null&&c!==s.zIndex&&n.setZIndex(c)}function HR(){return Ah().map}function IR(n){const e=HR();return it.useEffect(function(){return e.on(n),function(){e.off(n)}},[e,n]),e}function qR({bounds:n,boundsOptions:e,center:s,children:o,className:c,id:h,placeholder:f,style:g,whenReady:v,zoom:_,...S},x){const[E]=it.useState({className:c,id:h,style:g}),[O,k]=it.useState(null),P=it.useRef(void 0);it.useImperativeHandle(x,()=>O?.map??null,[O]);const H=it.useCallback(V=>{if(V!==null&&!P.current){const z=new Uo.Map(V,S);P.current=z,s!=null&&_!=null?z.setView(s,_):n!=null&&z.fitBounds(n,e),v!=null&&z.whenReady(v),k(CR(z))}},[]);it.useEffect(()=>()=>{O?.map.remove()},[O]);const I=O?ke.createElement(Ap,{value:O},o):f??null;return ke.createElement("div",{...E,ref:H},I)}const ZR=it.forwardRef(qR),Ww=jR(function({position:e,...s},o){const c=new Uo.Marker(e,s);return Ch(c,Fw(o,{overlayContainer:c}))},function(e,s,o){s.position!==o.position&&e.setLatLng(s.position),s.icon!=null&&s.icon!==o.icon&&e.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==o.zIndexOffset&&e.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==o.opacity&&e.setOpacity(s.opacity),e.dragging!=null&&s.draggable!==o.draggable&&(s.draggable===!0?e.dragging.enable():e.dragging.disable())}),GR=BR(function({positions:e,...s},o){const c=new Uo.Polygon(e,s);return Ch(c,Fw(o,{overlayContainer:c}))},function(e,s,o){s.positions!==o.positions&&e.setLatLngs(s.positions)}),R0=zR(function(e,s){const o=new Uo.Popup(e,s.overlayContainer);return Ch(o,s)},function(e,s,{position:o},c){it.useEffect(function(){const{instance:f}=e;function g(_){_.popup===f&&(f.update(),c(!0))}function v(_){_.popup===f&&c(!1)}return s.map.on({popupopen:g,popupclose:v}),s.overlayContainer==null?(o!=null&&f.setLatLng(o),f.openOn(s.map)):s.overlayContainer.bindPopup(f),function(){s.map.off({popupopen:g,popupclose:v}),s.overlayContainer?.unbindPopup(),s.map.removeLayer(f)}},[e,s,c,o])}),KR=UR(function({url:e,...s},o){const c=new Uo.TileLayer(e,Oh(s,o));return Ch(c,o)},function(e,s,o){VR(e,s,o);const{url:c}=s;c!=null&&c!==o.url&&e.setUrl(c)});delete Cp.Icon.Default.prototype._getIconUrl;Cp.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const FR=({onSelect:n})=>(IR({click(e){n(e.latlng.lat,e.latlng.lng)}}),null),$R=()=>{const{userLocation:n}=Po();if(!n)return null;const e=Cp.divIcon({className:"user-location-pulse",html:`<div class="relative flex items-center justify-center">
            <div class="absolute w-6 h-6 bg-blue-500 rounded-full animate-ping opacity-75"></div>
            <div class="relative w-4 h-4 bg-blue-600 rounded-full border-2 border-white shadow-lg"></div>
          </div>`});return N.jsx(Ww,{position:n,icon:e})},Jw=({stalls:n,sectors:e,isAdmin:s,onLocationSelect:o})=>{const{setSelectedStall:c}=Po(),h=[-16.502,-68.189];return N.jsxs("div",{className:"relative w-full h-full",children:[N.jsxs(ZR,{center:h,zoom:15,className:"w-full h-full z-0",zoomControl:!1,children:[N.jsx(KR,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.map(f=>N.jsx(GR,{positions:f.geojson.geometry.coordinates[0].map(g=>[g[1],g[0]]),pathOptions:{fillColor:f.color,fillOpacity:.3,color:f.color,weight:2},eventHandlers:{click:()=>console.log("Sector clicked:",f.name)},children:N.jsx(R0,{children:f.name})},f.id)),n.map(f=>N.jsx(Ww,{position:[f.lat,f.lng],eventHandlers:{click:()=>c(f)},children:N.jsx(R0,{children:N.jsxs("div",{className:"p-2 min-w-[200px]",children:[f.image_url&&N.jsx("img",{src:f.image_url,alt:f.name,className:"w-full h-32 object-cover rounded-xl mb-2"}),N.jsx("h3",{className:"font-bold text-lg",children:f.name}),N.jsx("p",{className:"text-sm text-slate-500 mb-2",children:f.category}),N.jsx("button",{className:"w-full btn btn-primary text-xs",onClick:()=>c(f),children:"Ver Detalles"})]})})},f.id)),N.jsx($R,{}),s&&o&&N.jsx(FR,{onSelect:o})]}),N.jsx("div",{className:"absolute top-4 right-4 z-[1000] flex flex-col gap-2",children:N.jsx("button",{onClick:()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(f=>{Po.getState().setUserLocation([f.coords.latitude,f.coords.longitude])})},className:"p-3 bg-white rounded-2xl shadow-xl border border-slate-100 text-slate-600 hover:text-primary-600 transition-colors",title:"Mi ubicacin",children:N.jsx(LE,{className:"w-6 h-6"})})})]})},YR=()=>{const{selectedStall:n,setSelectedStall:e}=Po();return n?N.jsx(Dw,{children:N.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-end lg:items-center justify-center p-0 lg:p-6",children:[N.jsx(Bm.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>e(null),className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm"}),N.jsxs(Bm.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"relative w-full max-w-2xl bg-white rounded-t-3xl lg:rounded-3xl shadow-2xl overflow-hidden max-h-[90dvh] flex flex-col",children:[N.jsxs("div",{className:"relative h-64 lg:h-80 w-full overflow-hidden",children:[n.image_url?N.jsx("img",{src:n.image_url,alt:n.name,className:"w-full h-full object-cover"}):N.jsx("div",{className:"w-full h-full bg-slate-100 flex items-center justify-center",children:N.jsx(fu,{className:"w-16 h-16 text-slate-200"})}),N.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),N.jsx("button",{onClick:()=>e(null),className:"absolute top-4 right-4 p-2 bg-black/20 hover:bg-black/40 backdrop-blur-md text-white rounded-full transition-colors",children:N.jsx(Fm,{className:"w-6 h-6"})}),N.jsxs("div",{className:"absolute bottom-6 left-6 right-6",children:[N.jsx("span",{className:"px-3 py-1 bg-primary-600 text-white text-xs font-bold rounded-full mb-2 inline-block",children:n.category}),N.jsx("h2",{className:"text-3xl font-bold text-white shadow-sm",children:n.name})]})]}),N.jsx("div",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[N.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[N.jsxs("div",{children:[N.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:"Sobre el puesto"}),N.jsx("p",{className:"text-slate-600 leading-relaxed",children:n.description||"Este vendedor an no ha aadido una descripcin detallada."})]}),N.jsxs("div",{className:"space-y-4",children:[N.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Contacto"}),N.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.contact_phone&&N.jsxs("a",{href:`tel:${n.contact_phone}`,className:"flex items-center gap-3 p-4 bg-slate-50 rounded-2xl border border-slate-100 hover:border-primary-200 transition-colors",children:[N.jsx(kE,{className:"w-5 h-5 text-primary-600"}),N.jsxs("div",{children:[N.jsx("p",{className:"text-xs text-slate-400",children:"Llamar"}),N.jsx("p",{className:"font-medium text-slate-700",children:n.contact_phone})]})]}),n.whatsapp&&N.jsxs("a",{href:`https://wa.me/${n.whatsapp}`,target:"_blank",rel:"noreferrer",className:"flex items-center gap-3 p-4 bg-emerald-50 rounded-2xl border border-emerald-100 hover:border-emerald-200 transition-colors",children:[N.jsx(CE,{className:"w-5 h-5 text-emerald-600"}),N.jsxs("div",{children:[N.jsx("p",{className:"text-xs text-emerald-400",children:"WhatsApp"}),N.jsx("p",{className:"font-medium text-emerald-700",children:"Enviar mensaje"})]})]})]})]}),N.jsxs("div",{children:[N.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Reseas y Opiniones"}),N.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl border border-slate-100 text-center",children:[N.jsxs("div",{className:"flex justify-center gap-1 text-amber-500 mb-2",children:[N.jsx(Eo,{className:"w-6 h-6 fill-current"}),N.jsx(Eo,{className:"w-6 h-6 fill-current"}),N.jsx(Eo,{className:"w-6 h-6 fill-current"}),N.jsx(Eo,{className:"w-6 h-6 fill-current"}),N.jsx(Eo,{className:"w-6 h-6"})]}),N.jsx("p",{className:"text-slate-600 font-medium",children:"4.0 (12 valoraciones)"}),N.jsx("button",{className:"mt-4 px-6 py-2 bg-white border border-slate-200 rounded-xl text-sm font-semibold text-slate-600 hover:bg-slate-50 transition-colors shadow-sm",children:"Escribir resea"})]})]})]}),N.jsxs("div",{className:"space-y-6",children:[N.jsxs("div",{className:"p-6 bg-slate-50 rounded-2xl border border-slate-100 space-y-4",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx(bE,{className:"w-5 h-5 text-slate-400"}),N.jsxs("div",{children:[N.jsx("p",{className:"text-xs text-slate-400",children:"Horario"}),N.jsx("p",{className:"text-sm font-medium text-slate-700",children:n.opening_hours||"Jueves y Domingos"})]})]}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx(fu,{className:"w-5 h-5 text-slate-400"}),N.jsxs("div",{children:[N.jsx("p",{className:"text-xs text-slate-400",children:"Ubicacin"}),N.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Sector Ropa, Pasaje 4"})]})]})]}),N.jsxs("button",{className:"w-full btn btn-primary flex items-center justify-center gap-2",children:[N.jsx(UE,{className:"w-5 h-5"}),"Compartir puesto"]})]})]})})]})]})}):null};var xu=n=>n.type==="checkbox",xr=n=>n instanceof Date,Bn=n=>n==null;const Qw=n=>typeof n=="object";var $e=n=>!Bn(n)&&!Array.isArray(n)&&Qw(n)&&!xr(n),XR=n=>$e(n)&&n.target?xu(n.target)?n.target.checked:n.target.value:n,WR=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,JR=(n,e)=>n.has(WR(e)),QR=n=>{const e=n.constructor&&n.constructor.prototype;return $e(e)&&e.hasOwnProperty("isPrototypeOf")},Rp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Je(n){if(n instanceof Date)return new Date(n);const e=typeof FileList<"u"&&n instanceof FileList;if(Rp&&(n instanceof Blob||e))return n;const s=Array.isArray(n);if(!s&&!($e(n)&&QR(n)))return n;const o=s?[]:Object.create(Object.getPrototypeOf(n));for(const c in n)Object.prototype.hasOwnProperty.call(n,c)&&(o[c]=Je(n[c]));return o}var Lh=n=>/^\w*$/.test(n),Ae=n=>n===void 0,Lp=n=>Array.isArray(n)?n.filter(Boolean):[],Mp=n=>Lp(n.replace(/["|']|\]/g,"").split(/\.|\[/)),Tt=(n,e,s)=>{if(!e||!$e(n))return s;const o=(Lh(e)?[e]:Mp(e)).reduce((c,h)=>Bn(c)?c:c[h],n);return Ae(o)||o===n?Ae(n[e])?s:n[e]:o},Qi=n=>typeof n=="boolean",Di=n=>typeof n=="function",xe=(n,e,s)=>{let o=-1;const c=Lh(e)?[e]:Mp(e),h=c.length,f=h-1;for(;++o<h;){const g=c[o];let v=s;if(o!==f){const _=n[g];v=$e(_)||Array.isArray(_)?_:isNaN(+c[o+1])?{}:[]}if(g==="__proto__"||g==="constructor"||g==="prototype")return;n[g]=v,n=n[g]}};const L0={BLUR:"blur",FOCUS_OUT:"focusout"},Pi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ms={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tL=ke.createContext(null);tL.displayName="HookFormControlContext";var eL=(n,e,s,o=!0)=>{const c={defaultValues:e._defaultValues};for(const h in n)Object.defineProperty(c,h,{get:()=>{const f=h;return e._proxyFormState[f]!==Pi.all&&(e._proxyFormState[f]=!o||Pi.all),n[f]}});return c};const nL=typeof window<"u"?ke.useLayoutEffect:ke.useEffect;var Jn=n=>typeof n=="string",iL=(n,e,s,o,c)=>Jn(n)?(o&&e.watch.add(n),Tt(s,n,c)):Array.isArray(n)?n.map(h=>(o&&e.watch.add(h),Tt(s,h))):(o&&(e.watchAll=!0),s),Um=n=>Bn(n)||!Qw(n);function Sa(n,e,s=new WeakSet){if(Um(n)||Um(e))return Object.is(n,e);if(xr(n)&&xr(e))return Object.is(n.getTime(),e.getTime());const o=Object.keys(n),c=Object.keys(e);if(o.length!==c.length)return!1;if(s.has(n)||s.has(e))return!0;s.add(n),s.add(e);for(const h of o){const f=n[h];if(!c.includes(h))return!1;if(h!=="ref"){const g=e[h];if(xr(f)&&xr(g)||$e(f)&&$e(g)||Array.isArray(f)&&Array.isArray(g)?!Sa(f,g,s):!Object.is(f,g))return!1}}return!0}const sL=ke.createContext(null);sL.displayName="HookFormContext";var aL=(n,e,s,o,c)=>e?{...s[n],types:{...s[n]&&s[n].types?s[n].types:{},[o]:c||!0}}:{},su=n=>Array.isArray(n)?n:[n],M0=()=>{let n=[];return{get observers(){return n},next:c=>{for(const h of n)h.next&&h.next(c)},subscribe:c=>(n.push(c),{unsubscribe:()=>{n=n.filter(h=>h!==c)}}),unsubscribe:()=>{n=[]}}};function tS(n,e){const s={};for(const o in n)if(n.hasOwnProperty(o)){const c=n[o],h=e[o];if(c&&$e(c)&&h){const f=tS(c,h);$e(f)&&(s[o]=f)}else n[o]&&(s[o]=h)}return s}var xn=n=>$e(n)&&!Object.keys(n).length,kp=n=>n.type==="file",yh=n=>{if(!Rp)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},eS=n=>n.type==="select-multiple",Dp=n=>n.type==="radio",rL=n=>Dp(n)||xu(n),im=n=>yh(n)&&n.isConnected;function oL(n,e){const s=e.slice(0,-1).length;let o=0;for(;o<s;)n=Ae(n)?o++:n[e[o++]];return n}function lL(n){for(const e in n)if(n.hasOwnProperty(e)&&!Ae(n[e]))return!1;return!0}function Ge(n,e){const s=Array.isArray(e)?e:Lh(e)?[e]:Mp(e),o=s.length===1?n:oL(n,s),c=s.length-1,h=s[c];return o&&delete o[h],c!==0&&($e(o)&&xn(o)||Array.isArray(o)&&lL(o))&&Ge(n,s.slice(0,-1)),n}var uL=n=>{for(const e in n)if(Di(n[e]))return!0;return!1};function nS(n){return Array.isArray(n)||$e(n)&&!uL(n)}function Vm(n,e={}){for(const s in n){const o=n[s];nS(o)?(e[s]=Array.isArray(o)?[]:{},Vm(o,e[s])):Ae(o)||(e[s]=!0)}return e}function Ao(n,e,s){s||(s=Vm(e));for(const o in n){const c=n[o];if(nS(c))Ae(e)||Um(s[o])?s[o]=Vm(c,Array.isArray(c)?[]:{}):Ao(c,Bn(e)?{}:e[o],s[o]);else{const h=e[o];s[o]=!Sa(c,h)}}return s}const k0={value:!1,isValid:!1},D0={value:!0,isValid:!0};var iS=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Ae(n[0].attributes.value)?Ae(n[0].value)||n[0].value===""?D0:{value:n[0].value,isValid:!0}:D0:k0}return k0},sS=(n,{valueAsNumber:e,valueAsDate:s,setValueAs:o})=>Ae(n)?n:e?n===""?NaN:n&&+n:s&&Jn(n)?new Date(n):o?o(n):n;const P0={isValid:!1,value:null};var aS=n=>Array.isArray(n)?n.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,P0):P0;function N0(n){const e=n.ref;return kp(e)?e.files:Dp(e)?aS(n.refs).value:eS(e)?[...e.selectedOptions].map(({value:s})=>s):xu(e)?iS(n.refs).value:sS(Ae(e.value)?n.ref.value:e.value,n)}var cL=(n,e,s,o)=>{const c={};for(const h of n){const f=Tt(e,h);f&&xe(c,h,f._f)}return{criteriaMode:s,names:[...n],fields:c,shouldUseNativeValidation:o}},vh=n=>n instanceof RegExp,Kl=n=>Ae(n)?n:vh(n)?n.source:$e(n)?vh(n.value)?n.value.source:n.value:n,j0=n=>({isOnSubmit:!n||n===Pi.onSubmit,isOnBlur:n===Pi.onBlur,isOnChange:n===Pi.onChange,isOnAll:n===Pi.all,isOnTouch:n===Pi.onTouched});const z0="AsyncFunction";var hL=n=>!!n&&!!n.validate&&!!(Di(n.validate)&&n.validate.constructor.name===z0||$e(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===z0)),fL=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),B0=(n,e,s)=>!s&&(e.watchAll||e.watch.has(n)||[...e.watch].some(o=>n.startsWith(o)&&/^\.\w+/.test(n.slice(o.length))));const au=(n,e,s,o)=>{for(const c of s||Object.keys(n)){const h=Tt(n,c);if(h){const{_f:f,...g}=h;if(f){if(f.refs&&f.refs[0]&&e(f.refs[0],c)&&!o)return!0;if(f.ref&&e(f.ref,f.name)&&!o)return!0;if(au(g,e))break}else if($e(g)&&au(g,e))break}}};function U0(n,e,s){const o=Tt(n,s);if(o||Lh(s))return{error:o,name:s};const c=s.split(".");for(;c.length;){const h=c.join("."),f=Tt(e,h),g=Tt(n,h);if(f&&!Array.isArray(f)&&s!==h)return{name:s};if(g&&g.type)return{name:h,error:g};if(g&&g.root&&g.root.type)return{name:`${h}.root`,error:g.root};c.pop()}return{name:s}}var dL=(n,e,s,o)=>{s(n);const{name:c,...h}=n;return xn(h)||Object.keys(h).length>=Object.keys(e).length||Object.keys(h).find(f=>e[f]===(!o||Pi.all))},mL=(n,e,s)=>!n||!e||n===e||su(n).some(o=>o&&(s?o===e:o.startsWith(e)||e.startsWith(o))),pL=(n,e,s,o,c)=>c.isOnAll?!1:!s&&c.isOnTouch?!(e||n):(s?o.isOnBlur:c.isOnBlur)?!n:(s?o.isOnChange:c.isOnChange)?n:!0,gL=(n,e)=>!Lp(Tt(n,e)).length&&Ge(n,e),yL=(n,e,s)=>{const o=su(Tt(n,s));return xe(o,"root",e[s]),xe(n,s,o),n};function V0(n,e,s="validate"){if(Jn(n)||Array.isArray(n)&&n.every(Jn)||Qi(n)&&!n)return{type:s,message:Jn(n)?n:"",ref:e}}var wo=n=>$e(n)&&!vh(n)?n:{value:n,message:""},H0=async(n,e,s,o,c,h)=>{const{ref:f,refs:g,required:v,maxLength:_,minLength:S,min:x,max:E,pattern:O,validate:k,name:P,valueAsNumber:H,mount:I}=n._f,V=Tt(s,P);if(!I||e.has(P))return{};const z=g?g[0]:f,at=_t=>{c&&z.reportValidity&&(z.setCustomValidity(Qi(_t)?"":_t||""),z.reportValidity())},rt={},ct=Dp(f),lt=xu(f),pt=ct||lt,wt=(H||kp(f))&&Ae(f.value)&&Ae(V)||yh(f)&&f.value===""||V===""||Array.isArray(V)&&!V.length,Bt=aL.bind(null,P,o,rt),It=(_t,Nt,Ut,Qt=Ms.maxLength,$=Ms.minLength)=>{const nt=_t?Nt:Ut;rt[P]={type:_t?Qt:$,message:nt,ref:f,...Bt(_t?Qt:$,nt)}};if(h?!Array.isArray(V)||!V.length:v&&(!pt&&(wt||Bn(V))||Qi(V)&&!V||lt&&!iS(g).isValid||ct&&!aS(g).isValid)){const{value:_t,message:Nt}=Jn(v)?{value:!!v,message:v}:wo(v);if(_t&&(rt[P]={type:Ms.required,message:Nt,ref:z,...Bt(Ms.required,Nt)},!o))return at(Nt),rt}if(!wt&&(!Bn(x)||!Bn(E))){let _t,Nt;const Ut=wo(E),Qt=wo(x);if(!Bn(V)&&!isNaN(V)){const $=f.valueAsNumber||V&&+V;Bn(Ut.value)||(_t=$>Ut.value),Bn(Qt.value)||(Nt=$<Qt.value)}else{const $=f.valueAsDate||new Date(V),nt=dt=>new Date(new Date().toDateString()+" "+dt),st=f.type=="time",Pt=f.type=="week";Jn(Ut.value)&&V&&(_t=st?nt(V)>nt(Ut.value):Pt?V>Ut.value:$>new Date(Ut.value)),Jn(Qt.value)&&V&&(Nt=st?nt(V)<nt(Qt.value):Pt?V<Qt.value:$<new Date(Qt.value))}if((_t||Nt)&&(It(!!_t,Ut.message,Qt.message,Ms.max,Ms.min),!o))return at(rt[P].message),rt}if((_||S)&&!wt&&(Jn(V)||h&&Array.isArray(V))){const _t=wo(_),Nt=wo(S),Ut=!Bn(_t.value)&&V.length>+_t.value,Qt=!Bn(Nt.value)&&V.length<+Nt.value;if((Ut||Qt)&&(It(Ut,_t.message,Nt.message),!o))return at(rt[P].message),rt}if(O&&!wt&&Jn(V)){const{value:_t,message:Nt}=wo(O);if(vh(_t)&&!V.match(_t)&&(rt[P]={type:Ms.pattern,message:Nt,ref:f,...Bt(Ms.pattern,Nt)},!o))return at(Nt),rt}if(k){if(Di(k)){const _t=await k(V,s),Nt=V0(_t,z);if(Nt&&(rt[P]={...Nt,...Bt(Ms.validate,Nt.message)},!o))return at(Nt.message),rt}else if($e(k)){let _t={};for(const Nt in k){if(!xn(_t)&&!o)break;const Ut=V0(await k[Nt](V,s),z,Nt);Ut&&(_t={...Ut,...Bt(Nt,Ut.message)},at(Ut.message),o&&(rt[P]=_t))}if(!xn(_t)&&(rt[P]={ref:z,..._t},!o))return rt}}return at(!0),rt};const vL={mode:Pi.onSubmit,reValidateMode:Pi.onChange,shouldFocusError:!0};function _L(n={}){let e={...vL,...n},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Di(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},o={},c=$e(e.defaultValues)||$e(e.values)?Je(e.defaultValues||e.values)||{}:{},h=e.shouldUnregister?{}:Je(c),f={action:!1,mount:!1,watch:!1,keepIsValid:!1},g={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},v,_=0;const S={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={...S};let E={...x};const O={array:M0(),state:M0()},k=e.criteriaMode===Pi.all,P=D=>q=>{clearTimeout(_),_=setTimeout(D,q)},H=async D=>{if(!f.keepIsValid&&!e.disabled&&(x.isValid||E.isValid||D)){let q;e.resolver?(q=xn((await pt()).errors),I()):q=await Bt(o,!0),q!==s.isValid&&O.state.next({isValid:q})}},I=(D,q)=>{!e.disabled&&(x.isValidating||x.validatingFields||E.isValidating||E.validatingFields)&&((D||Array.from(g.mount)).forEach(X=>{X&&(q?xe(s.validatingFields,X,q):Ge(s.validatingFields,X))}),O.state.next({validatingFields:s.validatingFields,isValidating:!xn(s.validatingFields)}))},V=(D,q=[],X,ft,mt=!0,ot=!0)=>{if(ft&&X&&!e.disabled){if(f.action=!0,ot&&Array.isArray(Tt(o,D))){const Et=X(Tt(o,D),ft.argA,ft.argB);mt&&xe(o,D,Et)}if(ot&&Array.isArray(Tt(s.errors,D))){const Et=X(Tt(s.errors,D),ft.argA,ft.argB);mt&&xe(s.errors,D,Et),gL(s.errors,D)}if((x.touchedFields||E.touchedFields)&&ot&&Array.isArray(Tt(s.touchedFields,D))){const Et=X(Tt(s.touchedFields,D),ft.argA,ft.argB);mt&&xe(s.touchedFields,D,Et)}(x.dirtyFields||E.dirtyFields)&&(s.dirtyFields=Ao(c,h)),O.state.next({name:D,isDirty:_t(D,q),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else xe(h,D,q)},z=(D,q)=>{xe(s.errors,D,q),O.state.next({errors:s.errors})},at=D=>{s.errors=D,O.state.next({errors:s.errors,isValid:!1})},rt=(D,q,X,ft)=>{const mt=Tt(o,D);if(mt){const ot=Tt(h,D,Ae(X)?Tt(c,D):X);Ae(ot)||ft&&ft.defaultChecked||q?xe(h,D,q?ot:N0(mt._f)):Qt(D,ot),f.mount&&!f.action&&H()}},ct=(D,q,X,ft,mt)=>{let ot=!1,Et=!1;const Gt={name:D};if(!e.disabled){if(!X||ft){(x.isDirty||E.isDirty)&&(Et=s.isDirty,s.isDirty=Gt.isDirty=_t(),ot=Et!==Gt.isDirty);const te=Sa(Tt(c,D),q);Et=!!Tt(s.dirtyFields,D),te?Ge(s.dirtyFields,D):xe(s.dirtyFields,D,!0),Gt.dirtyFields=s.dirtyFields,ot=ot||(x.dirtyFields||E.dirtyFields)&&Et!==!te}if(X){const te=Tt(s.touchedFields,D);te||(xe(s.touchedFields,D,X),Gt.touchedFields=s.touchedFields,ot=ot||(x.touchedFields||E.touchedFields)&&te!==X)}ot&&mt&&O.state.next(Gt)}return ot?Gt:{}},lt=(D,q,X,ft)=>{const mt=Tt(s.errors,D),ot=(x.isValid||E.isValid)&&Qi(q)&&s.isValid!==q;if(e.delayError&&X?(v=P(()=>z(D,X)),v(e.delayError)):(clearTimeout(_),v=null,X?xe(s.errors,D,X):Ge(s.errors,D)),(X?!Sa(mt,X):mt)||!xn(ft)||ot){const Et={...ft,...ot&&Qi(q)?{isValid:q}:{},errors:s.errors,name:D};s={...s,...Et},O.state.next(Et)}},pt=async D=>(I(D,!0),await e.resolver(h,e.context,cL(D||g.mount,o,e.criteriaMode,e.shouldUseNativeValidation))),wt=async D=>{const{errors:q}=await pt(D);if(I(D),D)for(const X of D){const ft=Tt(q,X);ft?xe(s.errors,X,ft):Ge(s.errors,X)}else s.errors=q;return q},Bt=async(D,q,X={valid:!0})=>{for(const ft in D){const mt=D[ft];if(mt){const{_f:ot,...Et}=mt;if(ot){const Gt=g.array.has(ot.name),te=mt._f&&hL(mt._f);te&&x.validatingFields&&I([ot.name],!0);const Ne=await H0(mt,g.disabled,h,k,e.shouldUseNativeValidation&&!q,Gt);if(te&&x.validatingFields&&I([ot.name]),Ne[ot.name]&&(X.valid=!1,q||n.shouldUseNativeValidation))break;!q&&(Tt(Ne,ot.name)?Gt?yL(s.errors,Ne,ot.name):xe(s.errors,ot.name,Ne[ot.name]):Ge(s.errors,ot.name))}!xn(Et)&&await Bt(Et,q,X)}}return X.valid},It=()=>{for(const D of g.unMount){const q=Tt(o,D);q&&(q._f.refs?q._f.refs.every(X=>!im(X)):!im(q._f.ref))&&ue(D)}g.unMount=new Set},_t=(D,q)=>!e.disabled&&(D&&q&&xe(h,D,q),!Sa(M(),c)),Nt=(D,q,X)=>iL(D,g,{...f.mount?h:Ae(q)?c:Jn(D)?{[D]:q}:q},X,q),Ut=D=>Lp(Tt(f.mount?h:c,D,e.shouldUnregister?Tt(c,D,[]):[])),Qt=(D,q,X={})=>{const ft=Tt(o,D);let mt=q;if(ft){const ot=ft._f;ot&&(!ot.disabled&&xe(h,D,sS(q,ot)),mt=yh(ot.ref)&&Bn(q)?"":q,eS(ot.ref)?[...ot.ref.options].forEach(Et=>Et.selected=mt.includes(Et.value)):ot.refs?xu(ot.ref)?ot.refs.forEach(Et=>{(!Et.defaultChecked||!Et.disabled)&&(Array.isArray(mt)?Et.checked=!!mt.find(Gt=>Gt===Et.value):Et.checked=mt===Et.value||!!mt)}):ot.refs.forEach(Et=>Et.checked=Et.value===mt):kp(ot.ref)?ot.ref.value="":(ot.ref.value=mt,ot.ref.type||O.state.next({name:D,values:Je(h)})))}(X.shouldDirty||X.shouldTouch)&&ct(D,mt,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&dt(D)},$=(D,q,X)=>{for(const ft in q){if(!q.hasOwnProperty(ft))return;const mt=q[ft],ot=D+"."+ft,Et=Tt(o,ot);(g.array.has(D)||$e(mt)||Et&&!Et._f)&&!xr(mt)?$(ot,mt,X):Qt(ot,mt,X)}},nt=(D,q,X={})=>{const ft=Tt(o,D),mt=g.array.has(D),ot=Je(q);xe(h,D,ot),mt?(O.array.next({name:D,values:Je(h)}),(x.isDirty||x.dirtyFields||E.isDirty||E.dirtyFields)&&X.shouldDirty&&O.state.next({name:D,dirtyFields:Ao(c,h),isDirty:_t(D,ot)})):ft&&!ft._f&&!Bn(ot)?$(D,ot,X):Qt(D,ot,X),B0(D,g)?O.state.next({...s,name:D,values:Je(h)}):O.state.next({name:f.mount?D:void 0,values:Je(h)})},st=async D=>{f.mount=!0;const q=D.target;let X=q.name,ft=!0;const mt=Tt(o,X),ot=te=>{ft=Number.isNaN(te)||xr(te)&&isNaN(te.getTime())||Sa(te,Tt(h,X,te))},Et=j0(e.mode),Gt=j0(e.reValidateMode);if(mt){let te,Ne;const ti=q.type?N0(mt._f):XR(D),ei=D.type===L0.BLUR||D.type===L0.FOCUS_OUT,Ni=!fL(mt._f)&&!e.resolver&&!Tt(s.errors,X)&&!mt._f.deps||pL(ei,Tt(s.touchedFields,X),s.isSubmitted,Gt,Et),je=B0(X,g,ei);xe(h,X,ti),ei?(!q||!q.readOnly)&&(mt._f.onBlur&&mt._f.onBlur(D),v&&v(0)):mt._f.onChange&&mt._f.onChange(D);const _n=ct(X,ti,ei),rn=!xn(_n)||je;if(!ei&&O.state.next({name:X,type:D.type,values:Je(h)}),Ni)return(x.isValid||E.isValid)&&(e.mode==="onBlur"?ei&&H():ei||H()),rn&&O.state.next({name:X,...je?{}:_n});if(!ei&&je&&O.state.next({...s}),e.resolver){const{errors:ji}=await pt([X]);if(I([X]),ot(ti),ft){const Vo=U0(s.errors,o,X),Ar=U0(ji,o,Vo.name||X);te=Ar.error,X=Ar.name,Ne=xn(ji)}}else I([X],!0),te=(await H0(mt,g.disabled,h,k,e.shouldUseNativeValidation))[X],I([X]),ot(ti),ft&&(te?Ne=!1:(x.isValid||E.isValid)&&(Ne=await Bt(o,!0)));ft&&(mt._f.deps&&(!Array.isArray(mt._f.deps)||mt._f.deps.length>0)&&dt(mt._f.deps),lt(X,Ne,te,_n))}},Pt=(D,q)=>{if(Tt(s.errors,q)&&D.focus)return D.focus(),1},dt=async(D,q={})=>{let X,ft;const mt=su(D);if(e.resolver){const ot=await wt(Ae(D)?D:mt);X=xn(ot),ft=D?!mt.some(Et=>Tt(ot,Et)):X}else D?(ft=(await Promise.all(mt.map(async ot=>{const Et=Tt(o,ot);return await Bt(Et&&Et._f?{[ot]:Et}:Et)}))).every(Boolean),!(!ft&&!s.isValid)&&H()):ft=X=await Bt(o);return O.state.next({...!Jn(D)||(x.isValid||E.isValid)&&X!==s.isValid?{}:{name:D},...e.resolver||!D?{isValid:X}:{},errors:s.errors}),q.shouldFocus&&!ft&&au(o,Pt,D?mt:g.mount),ft},M=(D,q)=>{let X={...f.mount?h:c};return q&&(X=tS(q.dirtyFields?s.dirtyFields:s.touchedFields,X)),Ae(D)?X:Jn(D)?Tt(X,D):D.map(ft=>Tt(X,ft))},W=(D,q)=>({invalid:!!Tt((q||s).errors,D),isDirty:!!Tt((q||s).dirtyFields,D),error:Tt((q||s).errors,D),isValidating:!!Tt(s.validatingFields,D),isTouched:!!Tt((q||s).touchedFields,D)}),ut=D=>{D&&su(D).forEach(q=>Ge(s.errors,q)),O.state.next({errors:D?s.errors:{}})},ht=(D,q,X)=>{const ft=(Tt(o,D,{_f:{}})._f||{}).ref,mt=Tt(s.errors,D)||{},{ref:ot,message:Et,type:Gt,...te}=mt;xe(s.errors,D,{...te,...q,ref:ft}),O.state.next({name:D,errors:s.errors,isValid:!1}),X&&X.shouldFocus&&ft&&ft.focus&&ft.focus()},vt=(D,q)=>Di(D)?O.state.subscribe({next:X=>"values"in X&&D(Nt(void 0,q),X)}):Nt(D,q,!0),yt=D=>O.state.subscribe({next:q=>{mL(D.name,q.name,D.exact)&&dL(q,D.formState||x,as,D.reRenderRoot)&&D.callback({values:{...h},...s,...q,defaultValues:c})}}).unsubscribe,Vt=D=>(f.mount=!0,E={...E,...D.formState},yt({...D,formState:{...S,...D.formState}})),ue=(D,q={})=>{for(const X of D?su(D):g.mount)g.mount.delete(X),g.array.delete(X),q.keepValue||(Ge(o,X),Ge(h,X)),!q.keepError&&Ge(s.errors,X),!q.keepDirty&&Ge(s.dirtyFields,X),!q.keepTouched&&Ge(s.touchedFields,X),!q.keepIsValidating&&Ge(s.validatingFields,X),!e.shouldUnregister&&!q.keepDefaultValue&&Ge(c,X);O.state.next({values:Je(h)}),O.state.next({...s,...q.keepDirty?{isDirty:_t()}:{}}),!q.keepIsValid&&H()},me=({disabled:D,name:q})=>{if(Qi(D)&&f.mount||D||g.disabled.has(q)){const mt=g.disabled.has(q)!==!!D;D?g.disabled.add(q):g.disabled.delete(q),mt&&f.mount&&!f.action&&H()}},Un=(D,q={})=>{let X=Tt(o,D);const ft=Qi(q.disabled)||Qi(e.disabled);return xe(o,D,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:D}},name:D,mount:!0,...q}}),g.mount.add(D),X?me({disabled:Qi(q.disabled)?q.disabled:e.disabled,name:D}):rt(D,!0,q.value),{...ft?{disabled:q.disabled||e.disabled}:{},...e.progressive?{required:!!q.required,min:Kl(q.min),max:Kl(q.max),minLength:Kl(q.minLength),maxLength:Kl(q.maxLength),pattern:Kl(q.pattern)}:{},name:D,onChange:st,onBlur:st,ref:mt=>{if(mt){Un(D,q),X=Tt(o,D);const ot=Ae(mt.value)&&mt.querySelectorAll&&mt.querySelectorAll("input,select,textarea")[0]||mt,Et=rL(ot),Gt=X._f.refs||[];if(Et?Gt.find(te=>te===ot):ot===X._f.ref)return;xe(o,D,{_f:{...X._f,...Et?{refs:[...Gt.filter(im),ot,...Array.isArray(Tt(c,D))?[{}]:[]],ref:{type:ot.type,name:D}}:{ref:ot}}}),rt(D,!1,void 0,ot)}else X=Tt(o,D,{}),X._f&&(X._f.mount=!1),(e.shouldUnregister||q.shouldUnregister)&&!(JR(g.array,D)&&f.action)&&g.unMount.add(D)}}},Qn=()=>e.shouldFocusError&&au(o,Pt,g.mount),gi=D=>{Qi(D)&&(O.state.next({disabled:D}),au(o,(q,X)=>{const ft=Tt(o,X);ft&&(q.disabled=ft._f.disabled||D,Array.isArray(ft._f.refs)&&ft._f.refs.forEach(mt=>{mt.disabled=ft._f.disabled||D}))},0,!1))},ns=(D,q)=>async X=>{let ft;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let mt=Je(h);if(O.state.next({isSubmitting:!0}),e.resolver){const{errors:ot,values:Et}=await pt();I(),s.errors=ot,mt=Je(Et)}else await Bt(o);if(g.disabled.size)for(const ot of g.disabled)Ge(mt,ot);if(Ge(s.errors,"root"),xn(s.errors)){O.state.next({errors:{}});try{await D(mt,X)}catch(ot){ft=ot}}else q&&await q({...s.errors},X),Qn(),setTimeout(Qn);if(O.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:xn(s.errors)&&!ft,submitCount:s.submitCount+1,errors:s.errors}),ft)throw ft},yi=(D,q={})=>{Tt(o,D)&&(Ae(q.defaultValue)?nt(D,Je(Tt(c,D))):(nt(D,q.defaultValue),xe(c,D,Je(q.defaultValue))),q.keepTouched||Ge(s.touchedFields,D),q.keepDirty||(Ge(s.dirtyFields,D),s.isDirty=q.defaultValue?_t(D,Je(Tt(c,D))):_t()),q.keepError||(Ge(s.errors,D),x.isValid&&H()),O.state.next({...s}))},is=(D,q={})=>{const X=D?Je(D):c,ft=Je(X),mt=xn(D),ot=mt?c:ft;if(q.keepDefaultValues||(c=X),!q.keepValues){if(q.keepDirtyValues){const Et=new Set([...g.mount,...Object.keys(Ao(c,h))]);for(const Gt of Array.from(Et)){const te=Tt(s.dirtyFields,Gt),Ne=Tt(h,Gt),ti=Tt(ot,Gt);te&&!Ae(Ne)?xe(ot,Gt,Ne):!te&&!Ae(ti)&&nt(Gt,ti)}}else{if(Rp&&Ae(D))for(const Et of g.mount){const Gt=Tt(o,Et);if(Gt&&Gt._f){const te=Array.isArray(Gt._f.refs)?Gt._f.refs[0]:Gt._f.ref;if(yh(te)){const Ne=te.closest("form");if(Ne){Ne.reset();break}}}}if(q.keepFieldsRef)for(const Et of g.mount)nt(Et,Tt(ot,Et));else o={}}h=e.shouldUnregister?q.keepDefaultValues?Je(c):{}:Je(ot),O.array.next({values:{...ot}}),O.state.next({values:{...ot}})}g={mount:q.keepDirtyValues?g.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},f.mount=!x.isValid||!!q.keepIsValid||!!q.keepDirtyValues||!e.shouldUnregister&&!xn(ot),f.watch=!!e.shouldUnregister,f.keepIsValid=!!q.keepIsValid,f.action=!1,q.keepErrors||(s.errors={}),O.state.next({submitCount:q.keepSubmitCount?s.submitCount:0,isDirty:mt?!1:q.keepDirty?s.isDirty:!!(q.keepDefaultValues&&!Sa(D,c)),isSubmitted:q.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:mt?{}:q.keepDirtyValues?q.keepDefaultValues&&h?Ao(c,h):s.dirtyFields:q.keepDefaultValues&&D?Ao(c,D):q.keepDirty?s.dirtyFields:{},touchedFields:q.keepTouched?s.touchedFields:{},errors:q.keepErrors?s.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:c})},ss=(D,q)=>is(Di(D)?D(h):D,{...e.resetOptions,...q}),Oa=(D,q={})=>{const X=Tt(o,D),ft=X&&X._f;if(ft){const mt=ft.refs?ft.refs[0]:ft.ref;mt.focus&&setTimeout(()=>{mt.focus(),q.shouldSelect&&Di(mt.select)&&mt.select()})}},as=D=>{s={...s,...D}},rs={control:{register:Un,unregister:ue,getFieldState:W,handleSubmit:ns,setError:ht,_subscribe:yt,_runSchema:pt,_updateIsValidating:I,_focusError:Qn,_getWatch:Nt,_getDirty:_t,_setValid:H,_setFieldArray:V,_setDisabledField:me,_setErrors:at,_getFieldArray:Ut,_reset:is,_resetDefaultValues:()=>Di(e.defaultValues)&&e.defaultValues().then(D=>{ss(D,e.resetOptions),O.state.next({isLoading:!1})}),_removeUnmounted:It,_disableForm:gi,_subjects:O,_proxyFormState:x,get _fields(){return o},get _formValues(){return h},get _state(){return f},set _state(D){f=D},get _defaultValues(){return c},get _names(){return g},set _names(D){g=D},get _formState(){return s},get _options(){return e},set _options(D){e={...e,...D}}},subscribe:Vt,trigger:dt,register:Un,handleSubmit:ns,watch:vt,setValue:nt,getValues:M,reset:ss,resetField:yi,clearErrors:ut,unregister:ue,setError:ht,setFocus:Oa,getFieldState:W};return{...rs,formControl:rs}}function bL(n={}){const e=ke.useRef(void 0),s=ke.useRef(void 0),[o,c]=ke.useState({isDirty:!1,isValidating:!1,isLoading:Di(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:Di(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:o},n.defaultValues&&!Di(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:f,...g}=_L(n);e.current={...g,formState:o}}const h=e.current.control;return h._options=n,nL(()=>{const f=h._subscribe({formState:h._proxyFormState,callback:()=>c({...h._formState}),reRenderRoot:!0});return c(g=>({...g,isReady:!0})),h._formState.isReady=!0,f},[h]),ke.useEffect(()=>h._disableForm(n.disabled),[h,n.disabled]),ke.useEffect(()=>{n.mode&&(h._options.mode=n.mode),n.reValidateMode&&(h._options.reValidateMode=n.reValidateMode)},[h,n.mode,n.reValidateMode]),ke.useEffect(()=>{n.errors&&(h._setErrors(n.errors),h._focusError())},[h,n.errors]),ke.useEffect(()=>{n.shouldUnregister&&h._subjects.state.next({values:h._getWatch()})},[h,n.shouldUnregister]),ke.useEffect(()=>{if(h._proxyFormState.isDirty){const f=h._getDirty();f!==o.isDirty&&h._subjects.state.next({isDirty:f})}},[h,o.isDirty]),ke.useEffect(()=>{var f;n.values&&!Sa(n.values,s.current)?(h._reset(n.values,{keepFieldsRef:!0,...h._options.resetOptions}),!((f=h._options.resetOptions)===null||f===void 0)&&f.keepIsValid||h._setValid(),s.current=n.values,c(g=>({...g}))):h._resetDefaultValues()},[h,n.values]),ke.useEffect(()=>{h._state.mount||(h._setValid(),h._state.mount=!0),h._state.watch&&(h._state.watch=!1,h._subjects.state.next({...h._formState})),h._removeUnmounted()}),e.current.formState=ke.useMemo(()=>eL(o,h),[h,o]),e.current}const wL=()=>{const[n,e]=it.useState(!1),[s,o]=it.useState(null),[c,h]=it.useState(!1),{register:f,handleSubmit:g,reset:v,setValue:_}=bL(),[S]=it.useState([]),x=async O=>{if(!s){alert("Por favor selecciona una ubicacin en el mapa");return}const{error:k}=await Ql.from("stalls").insert([{...O,lat:s.lat,lng:s.lng,tags:O.tags?.split(",").map(P=>P.trim())||[]}]);k?(console.error(k),alert("Error al guardar el puesto")):(alert("Puesto guardado con xito"),e(!1),v(),o(null))},E=async O=>{try{if(h(!0),!O.target.files||O.target.files.length===0)return;const k=O.target.files[0],P=k.name.split(".").pop(),I=`stalls/${`${Math.random()}.${P}`}`,{error:V}=await Ql.storage.from("stalls").upload(I,k);if(V)throw V;const{data:{publicUrl:z}}=Ql.storage.from("stalls").getPublicUrl(I);_("image_url",z)}catch(k){console.error("Error uploading image:",k),alert("Error al subir la imagen")}finally{h(!1)}};return N.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[N.jsxs("header",{className:"bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between sticky top-0 z-50",children:[N.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Panel de Administracin"}),N.jsxs("button",{onClick:()=>e(!0),className:"btn btn-primary",children:[N.jsx(lb,{className:"w-5 h-5"}),"Nuevo Puesto"]})]}),N.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[N.jsxs("div",{className:"flex-1 relative",children:[N.jsx(Jw,{stalls:S,sectors:[],isAdmin:n,onLocationSelect:(O,k)=>o({lat:O,lng:k})}),n&&!s&&N.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-[1000] px-4 py-2 bg-primary-600 text-white rounded-full shadow-xl animate-bounce",children:N.jsxs("p",{className:"text-sm font-bold flex items-center gap-2",children:[N.jsx(fu,{className:"w-4 h-4"}),"Haz click en el mapa para fijar la ubicacin"]})})]}),n&&N.jsxs("div",{className:"w-full lg:w-96 bg-white border-l border-slate-200 overflow-y-auto p-6 fixed lg:relative inset-0 lg:inset-auto z-[2000]",children:[N.jsxs("div",{className:"flex items-center justify-between mb-8",children:[N.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Agregar Puesto"}),N.jsx("button",{onClick:()=>e(!1),className:"p-2 text-slate-400 hover:text-slate-600",children:N.jsx(Fm,{className:"w-6 h-6"})})]}),N.jsxs("form",{onSubmit:g(x),className:"space-y-6",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Nombre del Puesto"}),N.jsx("input",{...f("name",{required:!0}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-primary-500 transition-all outline-none",placeholder:"Ej. El Palacio de la Chola"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Categora"}),N.jsxs("select",{...f("category",{required:!0}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-primary-500 transition-all outline-none",children:[N.jsx("option",{value:"Ropa",children:"Ropa"}),N.jsx("option",{value:"Comida",children:"Comida"}),N.jsx("option",{value:"Repuestos",children:"Repuestos"}),N.jsx("option",{value:"Electronica",children:"Electrnica"})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Descripcin"}),N.jsx("textarea",{...f("description"),rows:3,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-primary-500 transition-all outline-none",placeholder:"Venta de ropa tpica..."})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Imagen"}),N.jsxs("div",{className:"relative group cursor-pointer",children:[N.jsx("input",{type:"file",onChange:E,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",accept:"image/*"}),N.jsx("div",{className:"w-full h-32 bg-slate-50 border-2 border-dashed border-slate-200 rounded-2xl flex flex-col items-center justify-center text-slate-400 group-hover:border-primary-300 group-hover:text-primary-500 transition-all",children:c?N.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full"}):N.jsxs(N.Fragment,{children:[N.jsx(IE,{className:"w-8 h-8 mb-1"}),N.jsx("span",{className:"text-xs font-medium",children:"Subir foto"})]})})]})]}),N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Latitud"}),N.jsx("input",{value:s?.lat||"",readOnly:!0,className:"w-full px-4 py-3 bg-slate-100 border border-slate-200 rounded-2xl text-slate-500 text-sm outline-none",placeholder:"Selecciona en mapa"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Longitud"}),N.jsx("input",{value:s?.lng||"",readOnly:!0,className:"w-full px-4 py-3 bg-slate-100 border border-slate-200 rounded-2xl text-slate-500 text-sm outline-none",placeholder:"Selecciona en mapa"})]})]}),N.jsxs("button",{type:"submit",className:"w-full btn btn-primary py-4",children:[N.jsx(NE,{className:"w-5 h-5"}),"Guardar Puesto"]})]})]})]})]})};function SL(){const[n,e]=it.useState("home"),[s,o]=it.useState([]),[c,h]=it.useState([]),{setSidebarOpen:f}=Po();it.useEffect(()=>{g()},[]);const g=async()=>{const{data:v}=await Ql.from("sectors").select("*"),{data:_}=await Ql.from("stalls").select("*");v&&o(v),_&&h(_)};return n==="admin"?N.jsxs("div",{className:"h-screen flex flex-col",children:[N.jsx("div",{className:"absolute top-4 left-4 z-[3000]",children:N.jsxs("button",{onClick:()=>e("home"),className:"btn bg-white shadow-xl border border-slate-100 flex items-center gap-2",children:[N.jsx(Vd,{className:"w-5 h-5 text-primary-600"}),"Volver al Mapa"]})}),N.jsx(wL,{})]}):N.jsxs("div",{className:"h-[100dvh] flex flex-col lg:flex-row bg-slate-50 overflow-hidden font-outfit",children:[N.jsxs("header",{className:"lg:hidden h-16 bg-white border-b border-slate-200 px-4 flex items-center justify-between",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-xl flex items-center justify-center",children:N.jsx(Vd,{className:"w-5 h-5 text-white"})}),N.jsx("span",{className:"font-bold text-slate-900",children:"Gua 16 de Julio"})]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("button",{className:"p-2 text-slate-400",children:N.jsx(c_,{className:"w-6 h-6"})}),N.jsx("button",{onClick:()=>f(!0),className:"p-2 text-slate-400",children:N.jsx(AE,{className:"w-6 h-6"})})]})]}),N.jsx(ER,{stalls:c}),N.jsxs("main",{className:"flex-1 relative",children:[N.jsx("div",{className:"absolute inset-0",children:N.jsx(Jw,{stalls:c,sectors:s})}),N.jsx("div",{className:"absolute bottom-24 lg:bottom-8 right-4 lg:right-6 z-[1000] flex flex-col gap-3",children:N.jsx("button",{onClick:()=>e("admin"),className:"w-14 h-14 bg-white rounded-2xl shadow-xl border border-slate-100 flex items-center justify-center text-slate-400 hover:text-primary-600 transition-all hover:scale-110",title:"Administracin",children:N.jsx(f_,{className:"w-6 h-6"})})}),N.jsxs("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 h-20 bg-white/80 backdrop-blur-xl border-t border-slate-100 flex items-center justify-around px-6 z-[1002]",children:[N.jsxs("button",{className:"flex flex-col items-center gap-1 text-primary-600",children:[N.jsx(Vd,{className:"w-6 h-6"}),N.jsx("span",{className:"text-[10px] font-bold",children:"Mapa"})]}),N.jsxs("button",{onClick:()=>f(!0),className:"flex flex-col items-center gap-1 text-slate-400",children:[N.jsx(SE,{className:"w-6 h-6"}),N.jsx("span",{className:"text-[10px] font-bold",children:"Directorio"})]}),N.jsx("div",{className:"w-12 h-12 bg-primary-600 rounded-full flex items-center justify-center text-white shadow-lg -mt-10 border-4 border-slate-50",children:N.jsx(lb,{className:"w-6 h-6"})}),N.jsxs("button",{className:"flex flex-col items-center gap-1 text-slate-400",children:[N.jsx(c_,{className:"w-6 h-6"}),N.jsx("span",{className:"text-[10px] font-bold",children:"Alertas"})]}),N.jsxs("button",{onClick:()=>e("admin"),className:"flex flex-col items-center gap-1 text-slate-400",children:[N.jsx(f_,{className:"w-6 h-6"}),N.jsx("span",{className:"text-[10px] font-bold",children:"Admin"})]})]})]}),N.jsx(YR,{})]})}Lx.createRoot(document.getElementById("root")).render(N.jsx(it.StrictMode,{children:N.jsx(SL,{})}));
